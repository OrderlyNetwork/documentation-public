# Orderly Network

> Orderly is an omnichain orderbook-based trading infrastructure providing perpetual futures liquidity for decentralized exchanges. It offers a shared CLOB (Central Limit Order Book) accessible from all major EVM chains, enabling builders to create their own Perps DEX with plug-and-play SDKs and APIs. Orderly operates as backend infrastructure — no front end — with on-chain settlement and full self-custody.

API Base: `https://api.orderly.org/` (Mainnet), `https://testnet-api.orderly.org` (Testnet). Authentication uses ed25519 signatures. Symbol format: `PERP_<TOKEN>_USDC`.

### Home

Source: [https://orderly.network/docs/home](https://orderly.network/docs/home)

Orderly Documentation home page. Navigate to sections:

- **Introduction**: Learn about Orderly, $ORDER tokenomics, and trading basics
- **Build on Omnichain**: System overview, smart contracts, user flows, and EVM API reference
- **SDKs**: React Components, React Hooks, Core SDK, and Perp SDK
- **Strategy Vault**: Strategy vault, LP, and provider APIs
- **Troubleshooting**: Common issues and solutions
- **Changelog**: EVM and SDK release notes
## Getting Started

### What is Orderly?

Source: [https://orderly.network/docs/introduction/getting-started/what-is-orderly](https://orderly.network/docs/introduction/getting-started/what-is-orderly)

#### Introduction

Orderly is a combination of an orderbook-based trading infrastructure and a robust liquidity layer offering perpetual futures orderbooks. Unlike traditional platforms, Orderly doesn't have a front end; instead, it operates at the core of the ecosystem, providing essential services to projects built on top of it.

Our DEX white-label solution is carefully crafted to save builders time and capital while granting access to our bootstrapped liquidity. Picture having the best features of CEXs while keeping settlements on-chain and maintaining full self-custody.

With Orderly, anyone can create a trading application thanks to our seamless plug-and-play experience leveraging our liquidity and composability.

Looking ahead, our grand vision is to create an omnichain protocol, connecting traders from both EVM and non-EVM chains within the same orderbook.

#### Uses cases

**Brokers:** Create your own Perps DEX effortlessly on EVM and Solana. Benefit from our professional trading infrastructure and deep liquidity.

**Perps Aggregators:** Unlock the power of shared orderbook and liquidity. Access to all of Orderly's Perps ecosystem liquidity directly by creating a front-end.

**Wallets & Custodians:** Connect to Orderly and offer your users the best Swap rates for major assets. Build your own Swap widget powered by Orderly and open up our ecosystem to all your users.

**Trading Desks & Sophisticated Traders:** Use our API and enjoy a CEX-level trading experience thanks to our low-latency orderbook.

**Games/dApps:** Use the built-in widget to enhance your in-app experience and token utility with our in-game Swaps. Keep your users engaged in your app and avoid redirecting them to third parties.

**Trading Bots:** Connect to our orderbook and offer the industry's best Perps rates. Enjoy SL/limit orders, gasless transactions, and fully customizable fees.

**Hedging:** Safeguard your positions on other exchanges by using our orderbook for effective hedging strategies.

#### The move toward an omnichain future

DeFi has been one of the fastest-growing sectors in the blockchain industry, providing users with access to various financial services without third-party custodians, mitigating the principal-agent problems. However, DeFi is facing issues of composability, where users have to bridge funds when they want to access certain dApps or ecosystems. This can be complex and time-consuming.

The next iteration of Orderly will enable seamless trading between users on different chains in the same orderbook. No bridging, no complexities, just deposit the funds and start trading.

This opens up new opportunities for everyone building on Orderly to gain visibility, attract users, and foster growth. With the ability to interact with multiple blockchains, developers can leverage the strengths and features of different networks, creating a more robust and versatile DeFi ecosystem.


### Key Advantages

Source: [https://orderly.network/docs/introduction/getting-started/benefits](https://orderly.network/docs/introduction/getting-started/benefits)

**Unified Orderbook and Liquidity:** Experience the unique advantage of accessing all major chains through our unified trading infrastructure and liquidity.

 **Quick & Easy Development:** Save time and capital, utilize our SDK to expedite the development process, and go to market within 1-2 weeks.

 **Ready-to-Use Liquidity:** No more liquidity concerns. Our orderbook is powered by multiple top-tier Market Makers, ensuring there are never liquidity shortages.

 **Revenue sharing:** Earn a share of the generated fees using your platform.

 **CEX-Level Performance**: Balance between performance and decentralization. Our matching engine guarantees low latency for high-frequency trading strategies, submitting all trades on-chains to ensure transparency, while users keep custody of their funds.

 **Gasless Trading:** No gas fees once you deposit the funds, activate the trading keys.

 **One-Click Trading:** At the start of each session a new trading key pair is created and then no further signatures or approvals are required to perform any action.

 **Self-custody:** Take control of your assets. Only you have access to your private keys, which means that only you can control your assets. No more worries about insolvency.

 **Collaborative Ecosystem:** Join a thriving community of like-minded projects and reap the benefits of a collaborative ecosystem. Together, we can achieve more.


### Our Mission

Source: [https://orderly.network/docs/introduction/getting-started/our-mission](https://orderly.network/docs/introduction/getting-started/our-mission)

We are actively progressing towards becoming an omnichain infrastructure and liquidity layer for DeFi, with the vision of unifying liquidity across all blockchains in a single orderbook. 

Orderly is not content with just revolutionizing trading infrastructure. We aim to create a truly interconnected trading ecosystem that spans across multiple blockchains, connecting traders from all corners of the decentralized world.

Our omnichain approach will enable users to trade assets on different chains without worrying about the technical details of cross-chain swaps. By integrating with multiple chains, we will offer our users access to a wider range of assets and improved liquidity, creating a more vibrant and dynamic trading experience.


### Roadmap

Source: [https://orderly.network/docs/introduction/getting-started/roadmap](https://orderly.network/docs/introduction/getting-started/roadmap)

#### Some new features & products we are working on

##### Strategy Vaults (Coming in 2025)
Orderly is proud to unveil our latest product suite: Strategy Vault. This innovative solution enables users to generate lucrative passive yields and earn rewards without the complexities of active risk or strategy management. With Strategy Vault, you can explore diverse market strategies or put your idle assets to work in a seamless and efficient manner.

Our rollout will follow a phased approach, starting with the Orderly Protocol Vault, the flagship offering of the suite. This omnichain vault invites ecosystem stakeholders to become liquidity providers, playing an integral role in enriching liquidity across tradable markets on Orderly. Managed by industry-leading market makers, vault assets will be deployed using advanced, efficient market-making strategies to optimize returns and market performance.

Stay tuned as we redefine how you interact with the market — effortlessly and strategically.

##### Deepening Integration with Solana (Coming in 2025)
Enabling trading on Solana was just the beginning. Our next steps will empower traders to earn rewards and access staking benefits directly on the Solana blockchain. These advancements will enhance accessibility, deepen community engagement, and unlock new value across our expanding ecosystem.

##### Supporting Multi-Collateral  (Coming in 2025)
Traders will soon be able to deposit a wide range of crypto assets — including ETH, SOL, stETH, and more — as collateral, eliminating the need for USDC conversion. This feature enhances versatility by enabling the seamless use of diverse assets for leveraged trading, maximizing capital efficiency, and unlocking the full potential of their portfolios.”

##### Listing new markets
We’re actively expanding our perp market offerings. Stay tuned for upcoming announcements!

##### Perpetual futures upgrades
Orderly’s Perpetual Futures product will continue to evolve to better meet the needs of traders. We plan to introduce new features, including higher leverage across more markets and support for a wider variety of order types, providing a more flexible and comprehensive trading experience.

#### Recent launches
Our latest Omnichain Order Book supports both EVM and non-EVM networks, starting with Solana, seamlessly bridging the EVM and Solana ecosystems. Now live on mainnet, it enables perpetual traders across major blockchains to settle orders through a single, unified order book.

Additionally, our v2 SDK provides greater flexibility for integration, offering enhanced UI components and hook support. This allows users and developers to customize the solution to best fit their platforms’ unique needs.

For more details, please check out our latest [blog post](https://medium.com/@orderlynetwork/orderly-network-revolutionizes-dex-development-unveils-omnichain-perpetual-futures-orderbook-for-3ec319d235a3)!


## $ORDER Tokenomics

### Overview of $ORDER

Source: [https://orderly.network/docs/introduction/tokenomics/overview-of-order](https://orderly.network/docs/introduction/tokenomics/overview-of-order)

The Orderly presents a fresh approach to decentralized finance (DeFi), emphasizing efficiency, transparency, and inclusivity. At the core of its ecosystem lies the \$ORDER token, crafted to decentralize the protocol, propel network expansion, incentivize user engagement, and uphold the platform's economic stability. Leveraging blockchain advancements, the Orderly strives to meet the rigorous demands of global financial systems by enabling swift and secure transactions while upholding decentralization principles.

The \$ORDER tokenomics are designed to foster a robust and sustainable ecosystem, aligning the interests of all stakeholders through a thoughtful distribution strategy and incentive mechanisms. This strategy not only supports governance and staking activities but also bolsters liquidity and fosters community involvement. Through this model, the Orderly aims to establish an equitable economic environment where value is fairly distributed, and contributions are duly acknowledged.

The economic ecosystem of the Orderly comprises a diverse range of participants, each playing a vital role in supporting and advancing the platform's DeFi objectives. Market makers, traders, \$ORDER holders, and builders are central to this ecosystem, ensuring liquidity, dynamism, and innovation within the network, thereby securing its success and long-term viability. Let's delve into the roles of these key economic actors:
- **Market Makers** : Market makers (or liquidity providers) furnish liquidity to the markets, reducing price fluctuations and facilitating seamless transactions for users. By placing buy and sell orders in the orderbooks of Orderly's trading infrastructure, they enable traders to execute orders efficiently, without causing significant price shifts. Market makers are motivated by trading profits and liquidity provision rewards, distributed in \$ORDER tokens. This setup encourages the continuous provision of liquidity, vital for the network's operational efficiency and user satisfaction.
- **Traders** : Traders actively participate in buying and selling assets on the Orderly, contributing to the network's dynamism and price discovery processes by seizing market opportunities. Interacting with the liquidity provided by market makers, traders boost the network's trading volume and indirectly enhance its liquidity depth. While seeking profits, traders also play a pivotal role in determining the fair value of assets within the ecosystem.
- **\$ORDER Holders** : \$ORDER holders possess the native token of the Orderly, entitling them to a stake in its future. Beyond speculative interests, holding \$ORDER tokens grants individuals the right to partake in governance decisions, influencing the platform's direction and policies. The commitment of \$ORDER holders to holding and utilizing \$ORDER tokens bolsters the network's stability and governance integrity.
- **Builders** : Builders are the masterminds behind the applications and services operating on the Orderly. They develop decentralized applications (dApps), smart contracts, and protocols that enhance the network's functionality and use cases. As the Orderly serves as an infrastructure layer, builders are instrumental in driving innovation within the ecosystem, fostering adoption through user-friendly applications, and leveraging the network's capabilities to solve real-world challenges. Incentives for developers may include grants, dApp fees, or funding from the network's treasury for projects that significantly contribute to the ecosystem's growth.

The synergy among market makers, traders, \$ORDER holders, and builders cultivates a collaborative environment conducive to growth and innovation. Market makers and traders maintain network liquidity and activity, \$ORDER holders provide governance and security, while builders drive continuous innovation and utility. Together, these actors form a resilient and dynamic ecosystem that underpins the Orderly's mission to revolutionize DeFi through inclusivity, efficiency, and user empowerment.

#### \$ORDER Token Utility

\$ORDER token utilities are deeply integrated into the platform to create a flywheel effect, driving platform adoption and aligning the interests of various stakeholders.

1. **Governance Rights**: \$ORDER staking empowers token holders to partake in decentralized governance over key aspects of the Orderly as the governance process is formalized. Further details will be announced in due course.
2. **Earning VALOR**: VALOR measures a user's \$ORDER staking position in terms of amount and duration, entitling users to a corresponding share of the protocol treasury.
3. **Boosting Trading Reward**: By staking \$ORDER, traders receive a higher share of the trading rewards.
4. **Boosting Market Making Reward**: Staking \$ORDER enables market makers to receive a higher share of the market making rewards.
5. **Other Utilities**: Additional \$ORDER token utilities will be introduced in Orderly's upcoming products and third-party DeFi protocols.


### Distribution and Emission Schedule

Source: [https://orderly.network/docs/introduction/tokenomics/distribution-and-emission-schedule](https://orderly.network/docs/introduction/tokenomics/distribution-and-emission-schedule)

- Ticker: \$ORDER
- Maximum Supply: 1,000,000,000
- Token Format: ERC-20 on Ethereum and Omnichain Fungible Token (OFT) on other chains (Using [LayerZero's OFT Standard](https://docs.layerzero.network/v2/developers/evm/oft/quickstart)).
- Token Address:
  - [Ethereum](https://etherscan.io/address/0xABD4C63d2616A5201454168269031355f4764337) (ERC20)
    - 0xABD4C63d2616A5201454168269031355f4764337
  - Other EVM chains (OFT) \- [BNB Smart Chain](https://bscscan.com/token/0x4e200fe2f3efb977d5fd9c430a41531fb04d97b8), [Arbitrum](https://arbiscan.io/address/0x4E200fE2f3eFb977d5fd9c430A41531FB04d97B8), [Optimism](https://optimistic.etherscan.io/address/0x4E200fE2f3eFb977d5fd9c430A41531FB04d97B8), [Polygon PoS](https://polygonscan.com/address/0x4E200fE2f3eFb977d5fd9c430A41531FB04d97B8), [Base](https://basescan.org/address/0x4E200fE2f3eFb977d5fd9c430A41531FB04d97B8), [Avalanche](https://snowtrace.io/address/0x4E200fE2f3eFb977d5fd9c430A41531FB04d97B8)
    - 0x4E200fE2f3eFb977d5fd9c430A41531FB04d97B8
  - [Solana](https://explorer.solana.com/address/ABt79MkRXUsoHuV2CVQT32YMXQhTparKFjmidQxgiQ6E) (OFT)
    - ABt79MkRXUsoHuV2CVQT32YMXQhTparKFjmidQxgiQ6E

#### \$ORDER Token Allocation

\$ORDER token supply splits across four categories described in the chart and table below.

| Category            | Description                                                                                                                                                                                                                               | \%  |
| ------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --- |
| Community           | Long term incentives to key ecosystem stakeholders<br/> - Retroactive Airdrop \- 13.3\% <br/> - Ecosystem incentives \- 25\% <br/> - Builder Rewards \- 8.35\% <br/> - Future Product Launches \- 8.35\% | 55  |
| Strategic Investors | Early backers and strategic investors                                                                                                                                                                                                     | 15  |
| Teams and Advisors  | The founding team, contributors, future hirings and advisors                                                                                                                                                                              | 20  |
| Foundation          | Ecosystem grants, \$ORDER liquidity on CEX and DEX                                                                                                                                                                                        | 10  |


#### \$ORDER Token Emission Schedule


#### Community

##### Epoch

The \$ORDER tokens allocated to trading rewards and market making rewards will be unlocked based on epochs. **One epoch is defined as 14 days, and trading rewards and market making rewards are intended to be unlocked over a period of 200 epochs (approx. 7 years), which is subject to change by the future protocol governance.**

##### Retroactive Airdrop

13.3\% \- 133,000,000 \$ORDER

13.3\% or 133,000,000 \$ORDER will be unlocked at the TGE as the retroactive rewards to early supporters. Please see details in [Retroactive Airdrop](/introduction/tokenomics/retroactive-airdrop).

##### Ecosystem Incentives

25\% \- 250,000,000 \$ORDER

Ecosystem Incentives will be distributed based on measurable contributions, specifically trading volume, user engagement, and ecosystem growth impact

##### Builder Rewards

8.35\% \- 83,500,000 \$ORDER

As a liquidity infrastructure, the protocol can not succeed without dedicated builders with aligned interests. The builder rewards portion will be given to projects in the form of builder grants based on various criteria such as trading volume, daily active users, new users, and more to incentivize developers to create and take the best consumer products to market. A few grants have been committed to the early builders for their support before the TGE, and the builder grant program is open for new builders too.

##### Future Product Launches

8.35\% \- 83,500,000 \$ORDER

This portion will be locked until its usage is formally established and communicated.

#### Strategic Investors

15\% \- 150,000,000 \$ORDER

All investors are locked for the first 6 months after TGE, with 3.5 year linear vesting thereafter. There is no cliff or a sudden unlock when the linear vesting starts.

#### Team and Advisors

20\% \- 200,000,000 \$ORDER

This portion is locked on a 1 year 25% cliff, with 3 year linear vesting thereafter. No team tokens are unlocked prior to the 1 year cliff.

#### Foundation

10\% \- 100,000,000 \$ORDER

This segment of the token supply is specifically designated for the Foundation. Its purpose is to support \$ORDER liquidity on both CEX and DEX platforms, provide ecosystem grants, foster partnerships, and execute other relevant initiatives. Initially, 38,500,000 \$ORDER tokens will be made available post TGE to enhance \$ORDER token liquidity across CEX and DEX. Additionally, 12,575,000 \$ORDER tokens are earmarked for pre-arranged marketing partnerships spanning a 2-year duration.

The remaining portion will be retained in the Foundation reserve, with complete transparency regarding its utilization. The Foundation's objective is to ultimately transfer full control of the network to the DAO.


### Retroactive Airdrop

Source: [https://orderly.network/docs/introduction/tokenomics/retroactive-airdrop](https://orderly.network/docs/introduction/tokenomics/retroactive-airdrop)

Orderly attributes its achievements to the early adoption of the product by community members over the past two years. A total of 13.3\% (133,000,000 \$ORDER) of the overall supply is allocated to users as a token of appreciation for their early support. Various user categories will have the opportunity to claim the airdrop by engaging with Orderly:

- **The Road to The \$ORDER - Merits (9.2\%)**: Users who have earned Orderly merits through any of the Orderly builder frontends will qualify for a portion of the airdrop corresponding to the merits they have accrued

- **EVM Early Adopters (3.2\%)**: These are the initial traders who backed Orderly from its inception on EVM until the commencement of the Orderly Merits Campaign.

- **NEAR Early Adopters (0.8\%)**: These early users supported Orderly during its inception on NEAR up to June 10 2024. (Note: NEAR users must link their NEAR address with an EVM address to receive the airdrop.)

- **Social Campaign Participants (0.1\%)**: This group includes community users on Galxe and Zealy who participate in our campaigns and contribute to the advancement of the project and community. There are two main subgroups:

    - Zealy Orderly Long-Term Incentive Program participants will get the allocation based on the accumulated experience points (XP)
a
    - Galxe Campaign participants will get the allocation based on the Orderly Galxe points


Airdrop claiming starts on **26th August 2024** at [airdrop.orderly.network](https://airdrop.orderly.network).


Claiming the airdrop is restricted to a 60-day window after the TGE day. Any unclaimed tokens will be reverted to the Foundation, allowing the community to determine its future allocation.


### Staking

Source: [https://orderly.network/docs/introduction/tokenomics/order-staking/staking](https://orderly.network/docs/introduction/tokenomics/order-staking/staking)

#### **Overview**

Stake \$ORDER or esORDER to earn rewards. Enjoy a seamless omnichain experience with the flexibility to stake, unstake, vest, and claim rewards across the wide variety of blockchain networks supported by Orderly.

#### **Staking Interface**

Access the [**Orderly App**](https://app.orderly.network/staking) and connect to your wallet to view your staking portfolio.


The Orderly App's staking page allows users to:

- Stake \$ORDER
- Unstake \$ORDER
- Vest esORDER for \$ORDER
- Redeem VALOR and claim \$USDC rewards (legacy system)
- Redeem VALOR and claim esORDER rewards for staking under the new system (effective November 4, 2025, 0:00 UTC)

Apart from the user's \$ORDER wallet balance, all staking information is chain-agnostic \- consistent across all blockchain networks for a given EVM address.

#### **Stake \$ORDER**

1. Users can view their \$ORDER wallet balance after connecting their wallet to the chosen blockchain network.

2. Click "Stake" or "Stake now" and specify the desired amount of \$ORDER to stake.

3. Upon successful onchain transaction, the \$ORDER wallet balance will decrease, and the staked \$ORDER balance will increase.

4. Users will begin earning VALOR immediately.

#### **Unstake \$ORDER**

1. Click "Unstake" and enter the desired amount to request unstaking \$ORDER.

2. Upon successful onchain transaction, the unstaking \$ORDER will enter a 7-day unstaking period. During this time, the unstaking \$ORDER will not accrue VALOR but any previously accrued VALOR will remain unaffected.

3. Users can only have one active unstaking request at a time. If a new request is made while another is pending, the new amount will be added to the existing request. The entire unstaking amount will then be subject to a new 7-day availability period, starting from the time of the latest request. For example, if a user has 1,000 \$ORDER unstaking with 5 days remaining, and then requests to unstake an additional 500 \$ORDER, the full 1,500 \$ORDER will become available in 7 days from the time of the second request.

4. Users can cancel an unstaking request at any point during the 7-day unstaking period by clicking the "Cancel" button. This action will restake the entire unstaking amount for the user.

5. After the 7-day period, users can claim their unstaked \$ORDER to the network they are connected to on the Orderly App. For example, if a user originally staked \$ORDER on the Polygon network, they have the flexibility to connect to the Optimism network to claim their unstaked \$ORDER.

   - When claiming unstaked \$ORDER on Ethereum, users will receive \$ORDER (ERC-20).

   - When claiming unstaked \$ORDER on all other blockchain networks, users will receive \$ORDER (OFT).

#### **VALOR**

VALOR is a non-transferable metric, not a token, that measures a user's \$ORDER staking position based on the amount and duration of their stake. VALOR can only be earned by staking \$ORDER or esORDER.

Starting 4 November 2025 0:00 UTC, VALOR will no longer accrue in the legacy system and will instead begin accruing in the new system which is linked to esORDER rewards.

- The new treasury pool will receive 30% of Orderly's net fees daily. These revenue inflows will be settled with an ORDER buyback at the end of each epoch. The legacy treasury pool will no longer receive new revenues.

- VALOR accrued in the previous system remains valid and can be used to claim shares of the \$USDC treasury. This legacy treasury will remain operational until all \$USDC has been fully redeemed.

- In the new system, approximately 4.13 VALOR will be distributed equally every second, based on the user's staked portion in proportion to the total pool. Emissions in the legacy system will cease.

- VALOR can be redeemed for either esORDER (new system) or \$USDC (legacy system), depending on the system from which the VALOR was accrued. The exchange rate is determined by the current size of the protocol treasury pool and the available VALOR supply within each respective system's pool.

- To safeguard the interests of existing stakers, all legacy VALOR allocations will be replicated in the new system on a 1:1 basis. For instance, a user who held 1% of the legacy VALOR will automatically begin with a 1% allocation in the new VALOR system.

#### **Redeem VALOR**

In the **Reward accrual** section, users have the option to redeem their VALOR in either esORDER (new system) or \$USDC (legacy system), depending on the system where the VALOR was accrued.

- The VALOR price is determined by dividing the treasury pool by the total VALOR supply within its respective system. This price represents an estimated current value of how much esORDER (for the new system) or USDC (for the legacy system) can be redeemed per VALOR. The formulas are as follows:

  - (VALOR price)<sub>New</sub> \= (Treasury pool value)<sub>New</sub> ÷ (Total circulating supply of VALOR)<sub>New</sub>

  - (VALOR price)<sub>Legacy</sub> \= (Treasury pool value)<sub>Legacy</sub> ÷ (Total circulating supply of VALOR)<sub>Legacy</sub>

- With the new system taking effect on 4 November 2025, net revenue will only be added to the treasury pool in the new system. The redemption ratio in the legacy system, (VALOR price)<sub>Legacy</sub>, will remain fixed until its complete redemption.

  - The legacy treasury pool remains active until it is fully redeemed.

  - Upon launch, the treasury pool in the new system starts with \$0 or 0 esORDER. Orderly will upload 30% of the protocol's net revenue to the new treasury pool every epoch.

  - The total circulating supply of VALOR is updated each time a user interacts with the smart contract to stake/unstake.

- Users can redeem any amount of VALOR at any time \- partially or in full.

  - These transactions can be tracked under "Redeeming" or "Settlement in progress" records.

  - All VALOR redemptions within an epoch are processed at the same time on the subsequent settlement date (the end of each batch). This means that all redemptions within that epoch will settle at the same VALOR price, regardless of when individual users initiated their redemptions.

  - Once submitted, a redemption request cannot be revoked.

  - Users can submit multiple VALOR redemption requests across the same or different blockchain networks.

- Whenever users redeem their VALOR, the redeemed amount is permanently burned, reducing the VALOR supply.

  - In the new system, VALOR redemptions will not affect the legacy system, and vice versa. Similarly, other users' VALOR redemptions will not affect your proportional share of the treasury in either the new or legacy systems.

  - Each batch comprises a 14-day period (i.e. an epoch length). Users will see their "Redeeming" VALOR converted to "Settlement in progress" esORDER (new system) or \$USDC (legacy system) at the end of each batch.

> **Note:** ⚠️ When redeeming your VALOR, be sure to note the blockchain network you are connected to the
>   Orderly App, as this is where your \$USDC will become available for claiming. This selection
>   cannot be changed once the transaction is executed onchain. Remember to have enough gas fees to
>   claim your \$USDC rewards once the redemption is settled.

Orderly contributes 30% of its daily net trading revenue to a new treasury, with settlements occurring each epoch. Consequently, users who hold their VALOR for extended periods before redemption will accumulate more esORDER per VALOR over time.

#### **Claim \$USDC (legacy system)**

Users holding legacy VALOR can still redeem and claim their \$USDC shares from the legacy treasury pool until all \$USDC has been fully redeemed.

- The redemption process involves a 2-day waiting period after each batch concludes. Following this, users can claim their \$USDC on their chosen blockchain network, as specified during redemption.

- Once the redemption is successfully settled, the \$USDC can be claimed by users at any time, without restrictions. When a user claims \$USDC on a particular blockchain network, the entire available amount for that network will be claimed.

#### **Claim esORDER (new system)**

Starting 4 November 2025 0:00 UTC, VALOR will begin accruing in the new system which is linked to esORDER rewards.

- The redemption process involves a 7-day waiting period after each batch concludes. Following this, users can claim and stake their esORDER.

- Upon successful redemption settlement, users can claim their esORDER at any time without restrictions. Once claimed, the esORDER will be automatically staked, and respective VALOR accrual will begin immediately.

#### **FAQ**

- How is staking APR calculated?

It is the protocol's trailing 7-day average daily returns (annualized). Note that past performance does not guarantee future returns.

Starting 4 November 2025 0:00 UTC, daily returns refer to the 30% of the protocol daily net revenue divided by the latest USD equivalent of total staked \$ORDER and esORDER.

- Do I earn back the VALOR that I've missed if I cancel my unstaking request?

VALOR is earned every second when \$ORDER/esORDER is staked. Therefore, you do not retrospectively earn VALOR in the period of unstaking. However, upon the successful unstaking cancellation, you will start earning VALOR immediately.

- Why can I stake & claim my unstaked \$ORDER from a different chain?

One of Orderly's key value propositions is to support builders across different blockchain networks. This omnichain architecture supports all our users across different blockchain networks to stake/unstake with ease, not limiting them to stake/unstake from one specific blockchain. Versatile to various use cases, this design empowers our users with the flexibility to stake from one blockchain and claim their unstaked \$ORDER from another blockchain seamlessly. This omnichain design is completely optional and users can choose to complete staking and unstaking on the same blockchain.

- What is OFT and why did Orderly decide to use it instead of just supporting an ERC-20 standard token?

The Omnichain Fungible Token (OFT) standard by LayerZero allows fungible tokens to be seamlessly transferred across multiple blockchains without asset wrapping or middlechains. OFT resonates with Orderly's omnichain mission, enabling a multichain interoperability for users to receive their rewards and interact with Orderly with ease.


### Staking Information

Source: [https://orderly.network/docs/introduction/tokenomics/order-staking/staking-information](https://orderly.network/docs/introduction/tokenomics/order-staking/staking-information)

\$ORDER staking plays a pivotal role in the \$ORDER tokenomics, offering a range of benefits to all platform stakeholders. These benefits include a share of the protocol treasury, enhanced trading rewards, increased market making rewards, and governance rights.

Rather than rewarding stakers with inflated \$ORDER token emissions, Orderly is dedicated to establishing an organic balance between supply and demand. This is achieved by providing real yields to stakers, who gain ownership of the Orderly protocol treasury funded by 30% of the protocol net revenue, which primarily comes from trading fees. Trading fees scale in accordance with the trading demand across all Orderly builder frontends.

#### Important Note on Staking Yields ##

VALOR represents your share of future protocol revenues.

The system is intentionally designed so that long-term VALOR believers capture the majority of staking rewards, while short-term behavior gets punished.

If you constantly burn your VALOR share or keep resetting your position, your APR will always be far lower than someone who simply holds and compounds.

Staking ORDER gives you daily VALOR emissions and strengthens your share over time.

You can unstake any time without burning VALOR, you just stop receiving new emissions. 

Your existing VALOR stays intact (only exposed to dilution), which is still far better than burning your share and starting from zero.

This model rewards conviction. Long-term VALOR holders earn the most while short-term churners voluntarily give up their yield.

#### Stake \$ORDER or esORDER to earn VALOR
VALOR represents the share of the Orderly Protocol Treasury and it is the only method to obtain VALOR is to stake \$ORDER or esORDER token with Orderly.

VALOR has a 1 billion hard cap supply, and 100\% of it is linearly emitted to \$ORDER and esORDER stakers exclusively over 200 epochs (equating to 5M VALOR per epoch). Stakers automatically accumulate VALOR, and at any time the circulating supply of VALOR is entitled to 100\% of the Orderly protocol treasury. 

Since VALOR is non-transferable, it acts as a measure of a user's \$ORDER staking position based on the amount and duration of their stake. Each staker is entitled to a percentage of all assets currently in the Orderly protocol treasury and future revenue proportionate to their available VALOR balance. VALOR experiences deflation over its lifespan, as when stakers redeem assets from the protocol treasury using their VALOR, the VALOR is permanently burned - reducing the total supply of VALOR. 

*VALOR circulating supply = Total VALOR emitted to date - VALOR burned from redemption*

$$ TreasuryShare_{staker} = {\frac {AvailableValorBalance_{staker}}{ValorCirculatingSupply}} * TotalProtocolTreasuryValue $$

Understanding the VALOR & treasury model can be more challenging to grasp compared to the more familiar vanilla staking model. To provide clarity, let's illustrate this with a simplified example:

- Alice and Bob have been holding a staking position in \$ORDER equivalent to 1% respectively of the total ORDER staked from day 1. There hasn’t been any VALOR redemption from any staker before, resulting in each owning 1\% of the circulating supply of VALOR.

- As epoch X draws to a close, with a circulating supply of 16 million VALOR and a protocol treasury value of \$500,000, both Bob and Alice's treasury share amounts to \$5,000.

- Bob, facing liquidity needs, opts to redeem 60,000 VALOR from the protocol treasury. In contrast, Alice chooses to maximize her rewards and refrains from redeeming any VALOR. Consequently, Bob receives \$1,875 from the treasury by burning 60,000 VALOR, reducing the total treasury value to \$498,125.

- Moving into epoch X+1, the Orderly enhances volume and net revenue, leading to a \$250,000 addition to the protocol treasury.

- By the end of epoch X+1, the circulating supply of VALOR rises to 20,940,000, and the protocol treasury value increases to \$748,125.

- Maintaining their staking percentages, both Bob and Alice acquire an additional 50,000 VALOR each. Bob's VALOR balance reaches 150,000, while Alice's reaches 210,000.

- Consequently, by the end of epoch X+1, Bob's treasury share rises to \$5,359, and Alice's to \$7,503.

- Despite Bob withdrawing \$1,875 in the previous epoch, his total earnings amount to \$7,234. **In summary, as a result of early redemption, Bob earned \$269 less than Alice who had the same staking position and VALOR balance in epoch X and chose not to redeem any VALOR.**

#### Advantages for Long-Term Stakers and VALOR Holders

- The VALOR and treasury model is designed to benefit long-term stakers and reward supporters with faith in the project's sustained growth of increasing protocol treasury value over time.

- Given the scarcity and deflationary characteristics of VALOR, stakers should always try to keep their \$ORDER staked and add more \$ORDER staked. Because the moment they unstake, they stop earning VALOR while other stakers continue earning them hence their shares of the protocol treasury get diluted. 

- Stakers can optimize their rewards by holding VALOR for for as long as possible. Redeeming VALOR translates to realizing past gains from the current protocol treasury and forfeiting future shares to the remaining VALOR holders.

- With Orderly introducing more products and the rising popularity of DeFi, the protocol treasury sees an increase in net revenue per epoch. Simultaneously, the total supply of VALOR decreases due to redemptions, allowing the remaining Valor holders to possess a larger portion of the future treasury.

- VALOR holders will wield governance rights to determine the utilization of assets in the protocol treasury. For instance, they may opt to deposit assets into other protocols to generate additional yields or repurchase ORDER tokens to retain them within the protocol treasury.


> **Note:** Staking is not allowed for locked team tokens or investor tokens.


### esORDER

Source: [https://orderly.network/docs/introduction/tokenomics/esorder](https://orderly.network/docs/introduction/tokenomics/esorder)

esORDER is the escrowed \$ORDER token. Starting from epoch 7 users who earn trading rewards and market making rewards will receive esORDER instead of liquid \$ORDER token. 

Upon receiving esORDER, users can decide whether to:

- Stake esORDER to obtain the same benefits as staking \$ORDER

- Vest esORDER and convert it to \$ORDER after some time

#### Redemptions
The redemption process to convert esORDER to \$ORDER implies vesting, the conversion ratio will increase linearly with the vesting duration:

- Max. Vesting = linear vesting over 90 days, a user gets 100\% of the tokens unlocked.

- Min. Vesting = 15 days, a user gets 50\% of the tokens unlocked after the min vesting period

The user can only claim once between the 15th and 90th day. Linear vesting of remaining 50\% of the tokens between days 15 and 90. 

#### Burning mechanics / deflation
When a user redeems esORDER for \$ORDER ahead of the full period of time (i.e. 90 days), a fraction of the rewards are burnt, leading to deflation.

For example, Bob receives 100 esORDER and decides to redeem them after the minimum vesting period, he has to wait 15 days and then he gets 50\% \$ORDER and the other 50% \$ORDER is burnt and removed from circulation permanently.
#### Benefits of escrowed tokens
- As rewards are vested it spreads sell pressure from \$ORDER as users won’t be able to sell rewards like with typical farming tokens.

- esORDER can be staked to compound their rewards creating a reflexive loop that keeps users staking their tokens and delaying vesting.


### $ORDER Related Smart Contract Addresses

Source: [https://orderly.network/docs/introduction/tokenomics/addresses](https://orderly.network/docs/introduction/tokenomics/addresses)

<table>
  <thead>
    <tr>
      <th>Contract Name</th>
      <th>Network</th>
      <th>Address</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>$ORDER Token contract</td>
      <td>Ethereum</td>
      <td >
        
          0xABD4C63d2616A5201454168269031355f4764337
        
      </td>
      <td>$ORDER (ERC20) token contract</td>
    </tr>
  </tbody>
</table>

#### Multisigs

The secure holding of \$ORDER tokens for the four main categories of \$ORDER tokenomics.

<table>
  <thead>
    <tr>
      <th>Contract Name</th>
      <th>Network</th>
      <th>Address</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Orderly Community (Gnosis Safe)</td>
      <td>Ethereum</td>
      <td >
        
          0xdFA71010ec923945DcE4457d0E53Bb270f87c51b
        
      </td>
      <td>The community multisig for long term incentives to key ecosystem stakeholders.</td>
    </tr>
    <tr>
      <td>Orderly Foundation (Gnosis Safe)</td>
      <td>Ethereum</td>
      <td >
        
          0xfdA8033E5959dCcaB3dc4127Bb8B83c63E0B7E8F
        
      </td>
      <td>
        The foundation multisig for ecosystem grants, marketing, partnerships, $ORDER liquidity on
        CEX and DEX.
      </td>
    </tr>
    <tr>
      <td>Team &amp; Advisors (Gnosis Safe)</td>
      <td>Ethereum</td>
      <td >
        
          0xCa8c848d66835d0c33F67330ac5347503f99B2b7
        
      </td>
      <td>
        The team &amp; advisor multisig for the founding team, contributors, future hirings, and
        advisors.
      </td>
    </tr>
    <tr>
      <td>Strategic Investor (Gnosis Safe)</td>
      <td>Ethereum</td>
      <td >
        
          0x3D17dA0eE5D1ae813723b54848E54076DFa56B49
        
      </td>
      <td>The multisig for early backers and strategic investors.</td>
    </tr>
  </tbody>
</table>

#### OFT

\$ORDER (OFT) related smart contracts.

<table>
  <thead>
    <tr>
      <th>Contract Name</th>
      <th>Network</th>
      <th>Address</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>\$ORDER OFT Adapter</td>
      <td>Ethereum</td>
      <td >
        
          0x17435cC940e03aA52c349738c72C7Aa44FfA6525
        
      </td>
      <td>
        This contract is responsible for facilitating the conversion of the native \$ORDER token on
        the Ethereum network into its Omnichain Fungible Token (OFT) version, which can be utilized
        on various supported blockchain networks. The contract ensures a seamless and secure 1:1
        conversion process, allowing users to transfer their \$ORDER tokens from Ethereum to other
        supported networks and vice versa to enable interoperability across different blockchain
        ecosystems.
      </td>
    </tr>
    <tr>
      <td>\$ORDER OFT</td>
      <td>
        <ul>
          <li>Orderly</li>
          <li>Arbitrum</li>
          <li>Optimism</li>
          <li>Polygon</li>
          <li>Base</li>
          <li>Abstract</li>
          <li>Solana</li>
        </ul>
      </td>
      <td >
        <code>0x4E200fE2f3eFb977d5fd9c430A41531FB04d97B8</code>
        
        <ul>
          <li>
            
              Orderly
            
          </li>
          <li>
            
              BNB Smart Chain
            
          </li>
          <li>
            
              Arbitrum
            
          </li>
          <li>
            
              Optimism
            
          </li>
          <li>
            
              Polygon
            
          </li>
          <li>
            
              Base
            
          </li>
          <li>
            
              Avalanche
            
          </li>
        </ul>
        <code>0x9a4c8cd493cf0bf8e14bda5890e3f03a1cded719</code>
        
        <ul>
          <li>
            
              Abstract
            
          </li>
        </ul>
        <code>ABt79MkRXUsoHuV2CVQT32YMXQhTparKFjmidQxgiQ6E</code>
        
        <ul>
          <li>
            
              Solana
            
          </li>
        </ul>
      </td>
      <td>
        The OFT standard of the \$ORDER token is a cross-chain compatible token that maintains a 1:1
        exchange ratio with the native \$ORDER token on Ethereum. This version allows users to hold
        and transact \$ORDER tokens on various supported blockchain networks while ensuring that the
        value and utility of the token remain consistent with its native Ethereum counterpart. The
        OFT mechanism ensures that users can freely move their \$ORDER tokens between chains without
        losing any value or functionality.
      </td>
    </tr>
  </tbody>
</table>

#### Applications & Cross Chain Messaging

Smart contracts that enable the distribution/vesting of \$ORDER tokens and the facilitation of cross chain messaging.

<table>
  <thead>
    <tr>
      <th>Contract Name</th>
      <th>Network</th>
      <th>Address</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Airdrop MDL1</td>
      <td>Ethereum</td>
      <td >
        
          0x94FdC38C4A8e34248F8Dd19CB3336E0295227023
        
      </td>
      <td>
        This contract facilitates the claiming process for users to receive their TGE \$ORDER
        airdrop.
      </td>
    </tr>
    <tr>
      <td>Team/Investor $ORDER Vesting</td>
      <td>Ethereum</td>
      <td >
        
          0x6d00268a47d48474f999c18210c6877491ae6fb3
        
      </td>
      <td>
        This contract manages the vesting of \$ORDER tokens allocation for the founding team,
        contributors, and strategic investors.
      </td>
    </tr>
    <tr>
      <td>Omnichain Ledger</td>
      <td>Orderly</td>
      <td >
        
          0x7819704B69a38fD63Cc768134b8410dc08B987D0
        
      </td>
      <td>
        This contract manages user staking, vesting, and reward data through a set of defined
        operations. It facilitates actions such as claiming rewards, staking assets, creating and
        canceling unstake requests, withdrawing \$ORDER, managing esORDER vesting processes, and
        redeeming VALOR. Additionally, it includes backward operations from the Ledger chain for
        handling reward claims, \$ORDER withdrawals, vesting claims, and USDC revenue claims which
        ensure a comprehensive management of user-related financial activities in the system.
      </td>
    </tr>
    <tr>
      <td>Proxy Contract</td>
      <td>
        <ul>
          <li>Ethereum</li>
          <li>Arbitrum</li>
          <li>Optimism</li>
          <li>Polygon</li>
          <li>Base</li>
        </ul>
      </td>
      <td >
        <code>0xC8A8Ce0Ab010E499ca57477AC031358febCbbF17</code>
        
        <ul>
          <li>
            
              Ethereum
            
          </li>
          <li>
            
              Arbitrum
            
          </li>
          <li>
            
              Optimism
            
          </li>
          <li>
            
              Polygon
            
          </li>
          <li>
            
              Base
            
          </li>
          <li>
            
              Avalanche
            
          </li>
        </ul>
      </td>
      <td>
        Users interact with the Orderly Omnichain-Ledger contract from different EVM-compatible
        blockchain networks through a dedicated proxy contract. This proxy contract simplifies the
        user experience by serving as an intermediary that manages the complexities of cross-chain
        interactions, allowing users to execute transactions with the Omnichain-Ledger contract
        across multiple chains without needing to directly interface with the underlying cross-chain
        messaging protocols.
      </td>
    </tr>
    <tr>
      <td>OCC Manager</td>
      <td>Orderly</td>
      <td >
        
          0x68835941c7C300bFEF44D1D68b83798791901eB8
        
      </td>
      <td>
        This contract plays a role in enabling cross-chain communication within the Orderly
        ecosystem. It is responsible for receiving user messages originating from various blockchain
        networks, constructing the necessary cross-chain messages based on the Omnichain Ledger’s
        protocols, and sending these messages through the appropriate cross-chain services. The
        contract ensures that messages are accurately relayed across different chains, facilitating
        seamless interoperability and coordination between the Orderly Omnichain-Ledger and its
        users across multiple EVM chains.
      </td>
    </tr>
  </tbody>
</table>


## Trade on Orderly

### Getting Started

Source: [https://orderly.network/docs/introduction/trade-on-orderly/trade-on-orderly](https://orderly.network/docs/introduction/trade-on-orderly/trade-on-orderly)

#### Introduction

There will be many ways to trade on Orderly. The users have the option of trading through an API or one of the integrated front-ends built on top of Orderly.

The liquidity of Orderly is shared across all applications that are listed on the platform. Due to the liquidity being pooled in one place, this means that no matter which application you are trading on, users will be accessing the same pool and orderbook. 

While there is not an official Orderly DEX, there are many teams hosting graphical user interfaces (GUIs) on the Orderly infrastructure.

#### Two ways to trade

  
    For advanced users, Orderly offers API trading. Click here to see set-up instructions.
  
  
    There are numerous DEXes built on top of Orderly with many more in development.
  


> **Note:** In NEAR Protocol, users have to pay storage fees when a token is first deposited into a contract and since Orderly Asset Manager contract stores users' tokens, some of the expenses will be passed on to the users, to make sure we can provide the best product


### Orderly Orderbook Design

Source: [https://orderly.network/docs/introduction/trade-on-orderly/trading-basics/orderbook-design](https://orderly.network/docs/introduction/trade-on-orderly/trading-basics/orderbook-design)

Orderly is an omnichain decentralized orderbook protocol that aims to provide a high-performance, low-latency trading infrastructure for builders looking to add perpetual futures trading to their product offering without the need to build the matching engine, everything related to it, bootstrapping liquidity and much more.

#### Orderbook Design

The Orderly central limit order book (CLOB) uses a hybrid orderbook model that combines the best features of centralized and decentralized exchanges that allows Orderly to offer centralized exchange performance with low latency and concentrated liquidity while providing full transparency of decentralized exchanges and full self-custody of funds.

This means that all orders are settled and stored on the blockchain, which provides a number of benefits, including:

**Transparency:** All orders are visible to everyone, which makes it difficult for market manipulation to occur.

**Security:** Orders are settled and stored on the blockchain, which makes them very secure because of immutability of data.

**Efficiency:** Orders can be executed very quickly and efficiently, thanks to the use of a high-performance matching engine.

**Self-custody:** Users have full custody of their funds which eliminates the trust assumption in the protocol and guarantess solvency.

#### Omnichain Approach

Orderly has enabled omnichain orderbook by splitting the stack into three main components:

**Asset Layer (Asset Vaults)** \- resides on each chain Orderly supports

- Users interact with this layer when registering/depositing/withdrawing and where the funds reside.

**Settlement Layer (Orderly L2)** \- resides on a single chain

- Users do not interact with this directly and is used as a transaction ledger for storing transaction/user data.

**Engine Layer (Orderbook)** \- Orderbook and order-related services

- Users interact with this when managing orders. This where trade execution happens and includes matching engine itself, risk engine, and other services.

Orders from different chains come into the same orderbook, making it chain agnostic unifying liquidity unlike multichain DEXes. After the orders are matched, they are uploaded and settled on Orderly L2 chain built using OP Stack, settling to Ethereum peridically.

With all orders being settled on-chain, Orderly’s settlement layer sends/receives deposit/withdrawal instructions from the engine layer and updates users’ on-chain balance. The settlement layer then relays these instructions to/from the Asset Vaults — all of this communication is powered by LayerZero.

#### MEV Protection

Orderly also includes a number of features to protect users from MEV (miner extractable value). MEV is a type of arbitrage that can be used to profit from the delay between when a transaction is submitted to the blockchain and when it is confirmed. Orderly's MEV protection features include:

**Fast matching:** The sequencer matches orders very quickly, which makes it difficult for MEV extractors to front-run trades.

**Deep liquidity:** Orderly's orderbook model provides deep liquidity, which makes it difficult for MEV extractors to manipulate prices.

**Off-chain Order matching:** Orders are matched off-chain in a neutral environment, there’s no opportunity for MEV — just transparent, permissionless execution for every trader.

> **Note:** EVM and NEAR orderbook instances are independent and have slightly different architecture.


### Glossary

Source: [https://orderly.network/docs/introduction/trade-on-orderly/trading-basics/glossary](https://orderly.network/docs/introduction/trade-on-orderly/trading-basics/glossary)

**Order Book:** A list of orders to buy or sell a particular asset, organized by price and quantity.

**Liquidity:** The amount of assets that are available to be traded on a particular exchange or market.

**Spread:** The difference between the highest price a buyer is willing to pay (bid) and the lowest price a seller is willing to take (ask).

**Basis Point (BP):** A basis point (bp) is a unit of measurement equal to one-hundredth of one percent (0.01%)

**Taker Fee:** A taker fee is a fee charged to traders who execute orders that immediately remove liquidity from the order book. This type of order is typically known as a market order.

**Maker Fee:** A maker fee is a fee charged to traders who place orders that add liquidity to the order book. This type of order is typically known as a limit order.

**Unsettled PnL:** The portion of a perp PnL yet to be settled. Perpetual positions are “settled” between traders, transferring USDC between winning and losing positions. Settlements are made by a trader. 

**Maintenance Margin:** Maintenance margin is the minimum amount of collateral that must be held in a trader's account to avoid liquidation. If a trader's margin falls below the maintenance margin requirement, their position will be liquidated.

**Intial Margin:** Initial margin is the amount of collateral that must be deposited into a trader's account to open a position. The initial margin requirement varies depending on the market.

**Funding Fee:** The funding fee is a periodic payment made between traders (on the long and short side) to ensure that perpetual positions remain fairly priced (close to market price of the underlying asset). The funding fee is calculated based on the difference between the index price and the mark price, as well as interest rate for leverage trading. More information of funding rates/fees can be found [here](/introduction/trade-on-orderly/perpetual-futures/funding-rate).

**Cost Position:** The cost position is the average price at which a trader opened their position plus expenses (trading/funding fees). This is used to calculate the unrealized PnL of the position.

**Mark Price:** The Mark Price represents the best estimate of a Perpetual Futures contract value and prevents unnecessary liquidations that would potentially be caused by market manipulation: it is less volatile than the Index Price or Last Price. The mark price is the reference price for a perpetual contract. It is derived from the prices of the underlying asset on multiple spot exchanges. More information on how we calculate mark price can found [here](/introduction/trade-on-orderly/perpetual-futures/mark-price-index-price-and-last-price#mark-price).

**Index Price:** For a given contract, the Index price is the volume-weighted average of the underlying asset prices listed on major spot exchanges. More information on how we calculate index price can found [here](/introduction/trade-on-orderly/perpetual-futures/mark-price-index-price-and-last-price#index-price).

**Last Price:** The Last Price refers to the last traded price.

**Open Interest:** Open interest is the total number of outstanding contracts for a particular futures contract. It is a measure of the depth of the market for the contract in USDC.

**Liquidation:** Liquidation refers to the forced closure of a trader's leveraged position due to insufficient margin.

**Auto de-leveraging (ADL):** Auto de-leveraging (ADL) is a mechanism that automatically liquidates positions when their margin falls below a certain level if other liquidation mechanisms fail. ADL is designed to protect the exchange from losses in the event of a market crash. More details on how ADL works can be found [here](/introduction/trade-on-orderly/perpetual-futures/insurance-fund-and-adl#adl).

**Insurance Fund:** The insurance fund is a pool of funds that is used to liquidate positions when their margin falls below the MMR if liquidators don't take over the position. The insurance fund is funded by liquidation fees and Orderly. More information on the Insurance Fund can be found [here](/introduction/trade-on-orderly/perpetual-futures/insurance-fund-and-adl).


### Perpetual Futures Trading

Source: [https://orderly.network/docs/introduction/trade-on-orderly/trading-basics/perpetual-futures](https://orderly.network/docs/introduction/trade-on-orderly/trading-basics/perpetual-futures)

A Perpetual Futures (Perps) contract is a derivative financial contract without an expiry date that allows traders to speculate on the underlying price movement with leverage, without owning that underlying. 

#### Key advantages of perps trading vs spot trading

1. **Possibility to long or short**: if you hold a token in the spot market, you can benefit only from its potential price appreciation. On the other hand, Perpetual Futures contracts allow you to profit from price movements in either direction: you can bet that the price of BTC will fall by entering a short BTC-PERP position and profit from its downtrend.

2. **Leverage**: if BTC price is at 30,000 USDC, on the spot market, you can only afford to buy 1 BTC if you have 30,000 USDC in your balance. However, with a 10x leverage on the BTC-PERP contract, you can open 1 BTC-PERP contract on **Orderly** with only 3,000 USDC as collateral. Perpetuals make trading **more capital efficient**.

3. **Liquidity:** Futures market volume surpasses by far spot trading volume, allowing users to access deeper liquidity and trade with a minimal price impact

#### Orderly USDC Perpetual Futures contracts

Orderly offers USDC-based Perpetual Futures contracts. Collateral is in USDC and all perpetual contracts are quoted and settled in USDC.

#### Cross-margin

Orderly currently offers only cross-margin mode. As a trader, you can deposit USDC collateral and it will be shared across all open positions to calculate the margin ratio.

#### Supported leverages

Orderly will enable the following leverages: 1x, 2x, 3x, 4x, 5x, 10x, and 20x.

#### Position mode

Orderly currently allows only one-sided mode: traders cannot hold both long and short positions for a single Perpetual Futures contract.


### Accounts

Source: [https://orderly.network/docs/introduction/trade-on-orderly/trading-basics/accounts](https://orderly.network/docs/introduction/trade-on-orderly/trading-basics/accounts)

Orderly has implemented an account structure where each address can have several accounts, one account per front-end that operates on Orderly. 

Account address is derived from the user's wallet address and broker ID they are trading from, thus it is one account per integrator.

User's trading activity, such as trades, fees paid, volume, is compartmentalized by front-end, thus each account is completely independent of each other so trades placed through front-end A cannot be seen or modified through front-end B, even though both accounts are owned by the same wallet. Fee tiers are per account.


### Order Types

Source: [https://orderly.network/docs/introduction/trade-on-orderly/trading-basics/order-types](https://orderly.network/docs/introduction/trade-on-orderly/trading-basics/order-types)

There are 5 order types on Orderly:

    **MARKET:** It matches until the full size is executed. If the size is too large (larger than the whole book) or the matching price exceeds the price limit (refer to `price_range`), then the remaining quantity will be canceled.
    
    **IOC (Immediate or Cancel):** It matches as much as possible at the order\_price. If not fully executed, then the remaining quantity will be canceled.
    
    **FOK (Fill or Kill):** If the order can be fully executed at the order\_price, then the order gets fully executed otherwise would be canceled without any execution.
    
    **POST ONLY:** If the order executes with any maker trades at the time of placement, then it will be canceled without any execution.
    
    **REDUCE ONLY:** Executes buy or sell orders which only reduce a current position


### Trading Fees

Source: [https://orderly.network/docs/introduction/trade-on-orderly/trading-basics/trading-fees](https://orderly.network/docs/introduction/trade-on-orderly/trading-basics/trading-fees)

### Overview

Trading fees are the costs you pay to buy, sell, or trade assets on an exchange. These fees are charged as a percentage of the transaction value.

There are two main types of trading fees:

**Maker fees:** These fees are charged to traders who place orders that add liquidity to the market (not instantly filled orders that are added to the book), such as limit orders.

**Taker fees:** These fees are charged to traders who remove liquidity from the market, such as market orders.

### How fees are charged
##### Perpetual Futures Fees
Perpetual Futures trading fees are charged after every trade in USDC and added to the cost position.


### Formulas and Definitions

Source: [https://orderly.network/docs/introduction/trade-on-orderly/perpetual-futures/formulas-definitions](https://orderly.network/docs/introduction/trade-on-orderly/perpetual-futures/formulas-definitions)

#### Margin and Balance Formulas

##### Futures Margin Ratio

Current margin ratio = `total_collateral_value / sum(abs(position_notional_i))`

##### Total Collateral

Total collateral of the user (doesn't account for any pending orders, includes unsettled PnL) = `total_balance + upnl + pending_short_USDC`

##### Free Collateral

Available collateral/balance to trade (accounts for any pending orders, includes unsettled PnL) = `collateral + upnl - total_initial_margin_with_orders - pending_short_USDC`

##### Portfolio Value

Total potfolio value including position notionals = `USDC Balance + (non USDC assets) * mid_price + unsettled pnl`

##### Withdrawable Balance

Collateral available to withdraw (excludes unsettled PnL) = `total_balance - total_initial_margin_with_orders - positive_upnl`

Ex. 1 user's `total_balance` = 100 USDC, unsettled PnL = -40 USDC, => total_collateral is then 60 USDC. User has a position which takes up 20 USDC maintenance margin, then `free_collateral` or `withdrawable_balance` = 60 - 20 = 40 USDC

Ex. 2 user's `total_balance` = 100 USDC, unsettled PnL = 40 USDC, => total_collateral is then 100 USDC. User has a position which takes up 20 USDC maintenance margin, then `free_collateral` = 100 - 20 = 80 USDC and `withdrawable_balance` = 80 - 40 = 40 USDC

> **Note:** Withdrawable balance/collateral does not equal to total or free collateral.


##### Initial Margin Ratio

```
IMR i = Max(1 / Max Account Leverage, Base IMR i, IMR Factor i * Abs(Position Notional i)^(4/5))
initial_margin_i = abs (position_notional_i * IMR_i)
weighted_initial_margin_ratio_i =  abs (position_notional_i / total_notional ) * IMR_i
initial_margin_ratio = sum (weighted_initial_margin_ratio_i)
```

##### Maintenance Margin Ratio

```
MMR i = Max(Base MMR i, (Base MMR i / Base IMR i) * IMR Factor i * Abs(Position Notional i)^(4/5))
maintenance_margin_i= abs (position_notional_i * MMR_i)
weighted_maintenance_margin_ratio_i = abs (position_notional_i / total_notional ) * MMR_i
maintenance_margin_ratio = sum (weighted_maintenance_margin_ratio_i)
```

#### Positions PnL

**Unrealized PnL** = `position_qty * (mark_price - avg_open)`

 

**Liquidation Price**

```
Qi = position_qty

liquidation_price  = max[( Mark Price + ( total_collateral_value - total_notional * MMR ) / ( |Qi| * MMRi - Qi )), 0]
```

 

**Notional** = `position_notional_i = abs(mark_price_i * position_qty_i)`

 

**Fut Notional or Total Notional** = `sum (abs (position_notional_i))`

 
> **Note:** Unsettled PnL is retrieved from the API and cannot be calculated

#### Order placement formulas

##### Max Order Quantity

```
newOrderSize  = (total_collateral_value - others_IM) * min(1/Base_IMR_i,maxLeverage_account) / markPrice

IMR i = Max(1 / Max Account Leverage, Base_IMR_i, IMR Factor i * Abs(Position Notional i)^(4/5))

MMR i = Max(Base MMR i, (Base MMR i / Base IMR i) * IMR Factor i * Abs(Position Notional i)^(4/5))

aftertrade_IMR.i → Max(1 / Max Account Leverage, Base_IMR_i, IMR Factor i * Abs(After Trade Position Notional i)^(4/5))

```
```
If total_collateral_value < total_initial_margin_with_orders
    if (side == buy && position_qty >=0 ) or (side == sell && position_qty < 0)
        return 0
    else
        if side == buy
            return max( abs(position_qty) - pending_long_qty, 0 )
        else
            return max( position_qty + pending_short_qty, 0 )
else
    newOrderSize = (total_collateral_value - others_IM) * min(1/Base_IMR_i,maxLeverage_account) / markPrice
    calculate afterTradeIM
    newTotalIM = othersIM + afterTradeIM
    if side = buy
        others = -holding - pendingLongQty
    else
        others = holding + pendingShortQty
    
    if totalCollatValue >= newTotalIM
        return max(0, newOrderSize * 99.5% + others)
    else
        newOrderSize_iter = ITERATE()
        return max(0, newOrderSize_iter * 99.5% + others)
        
with : 
total_collateral_value = total_balance + upnl + pending_short_USDC
total_initial_margin_with_orders =  sum (position_notional_with_orders_i * IMR_i (with_orders))
position_qty_with_orders_i = max[abs(position_qty + sum_position_qty_buy_orders),abs(pos_qty + sum_position_qty_sell_orders)]
position_notional_with_orders_i = abs(mark_price_i * position_qty_with_orders_i)
others_IM = sum[i#j)(initial_margin_with_orders_i) (where j represents the pair i on which the order is being placed)
```

##### Liquidation Price
```
Qi = position_qty + order_qty 

liquidation_price  = max( Mark Price + ( total_collateral_value - total_notional_with_order * MMR_with_order ) / ( |Qi| * MMR_with_order_i - Qi )), 0)
```


### Margin, Leverage & PnL

Source: [https://orderly.network/docs/introduction/trade-on-orderly/perpetual-futures/margin-leverage-and-pnl](https://orderly.network/docs/introduction/trade-on-orderly/perpetual-futures/margin-leverage-and-pnl)

#### Notional Value

The notional of a position corresponds to the total position size in USDC value

```
Notional Value = Position Qty * Mark Price
```

#### Account Margin Ratio

The margin ratio of an account is equal to the total collateral value (ie the USDC balance + any unrealized profit/loss) divided by the total open notional of the account (the sum of the absolute notional value of all positions)

For an account having positions on multiple contracts:

```
Account Margin Ratio = Total Collateral Value / Sum(Abs(Position Notional i))
```

The margin ratio defines the risk level of your account: a higher margin ratio equates to a lower risk level (with a default margin ratio set to 1000% when there are no open positions)

#### Initial Margin Ratio

To open a new futures position or execute withdrawals, the Margin Ratio of the Account has to be higher than the Initial Margin ratio. Otherwise, the account will not be able to open any new futures position or execute withdrawals.

Each Perpetual Futures market has a defined **Initial Margin Ratio** (Base IMR) and maximum leverage equal to 1/Base IMR.

```
IMR i = Max(1 / Max Account Leverage, Base IMR i, IMR Factor i * Abs(Position Notional i)^(4/5))
```

**IMR Factors** are specific coefficients used to calculate the required margin for large positions. The larger the position, the lower the actual leverage that can be used.

#### Maintenance Margin Ratio

An account will be liquidated if the Margin Ratio of the account is lower than the Maintenance Margin Ratio required.

```
MMR i = Max(Base MMR i, Base MMR i / Base IMR i * IMR Factor i * Abs(Position Notional i)^(4/5))
```

> **Note:** We will gradually decrease Base IMR and Base MMR and increase maximum leverage for major markets
>   after launch.

| Perp Market     | Base IMR (max leverage) | Base MMR | IMR Factor   |
| --------------- | ----------------------- | -------- | ------------ |
| BTC-PERP        | 1% (100x)               | 0.6%     | 0.0000000910 |
| ETH-PERP        | 1% (100x)               | 0.6%     | 0.0000001724 |
| ARB-PERP        | 10% (10x)               | 5%       | 0.0000021481 |
| WOO-PERP        | 10% (10x)               | 5%       | 0.0000077523 |
| LINK-PERP       | 10% (10x)               | 5%       | 0.0000018182 |
| OP-PERP         | 10% (10x)               | 5%       | 0.0000021481 |
| SOL-PERP        | 1% (100x)               | 0.6%     | 0.0000010667 |
| SUI-PERP        | 5% (20x)                | 2.5%     | 0.0000028100 |
| TIA-PERP        | 10% (10x)               | 5%       | 0.0000116025 |
| INJ-PERP        | 10% (10x)               | 5%       | 0.0000021481 |
| AVAX-PERP       | 5% (20x)                | 2.5%     | 0.0000022222 |
| JUP-PERP        | 10% (10x)               | 5%       | 0.0000077350 |
| APT-PERP        | 10% (10x)               | 5%       | 0.0000020800 |
| WLD-PERP        | 10% (10x)               | 5%       | 0.0000073100 |
| SEI-PERP        | 10% (10x)               | 5%       | 0.0000018182 |
| DYM-PERP        | 10% (10x)               | 5%       | 0.0000103131 |
| ETHFI-PERP      | 10% (10x)               | 5%       | 0.0000071400 |
| ENA-PERP        | 10% (10x)               | 5%       | 0.0000064014 |
| WIF-PERP        | 10% (10x)               | 5%       | 0.0000097705 |
| MERL-PERP       | 10% (10x)               | 5%       | 0.0000092820 |
| ONDO-PERP       | 10% (10x)               | 5%       | 0.0000058013 |
| AR-PERP         | 10% (10x)               | 5%       | 0.0000077523 |
| 1000PEPE-PERP   | 5% (20x)                | 2.5%     | 0.0000033766 |
| 1000BONK-PERP   | 10% (10x)               | 5%       | 0.0000071400 |
| TON-PERP        | 10% (10x)               | 2.5%     | 0.0000074256 |
| STG-PERP        | 10% (10x)               | 5%       | 0.0000073100 |
| ZRO-PERP        | 10% (10x)               | 5%       | 0.0000092820 |
| AAVE-PERP       | 10% (10x)               | 5%       | 0.0000046867 |
| CRV-PERP        | 10% (10x)               | 5%       | 0.0000084000 |
| LDO-PERP        | 10% (10x)               | 5%       | 0.0000021481 |
| TRX-PERP        | 5% (20x)                | 2.5%     | 0.0000028100 |
| ORDER-PERP      | 10% (10x)               | 5%       | 0.0000092820 |
| POL-PERP        | 5% (20x)                | 2.5%     | 0.0000019314 |
| TAO-PERP        | 10% (10x)               | 5%       | 0.0000084382 |
| 1000SHIB-PERP   | 5% (20x)                | 2.5%     | 0.0000022222 |
| GOAT-PERP       | 10% (10x)               | 5%       | 0.0000100891 |
| 1000000MOG-PERP | 10% (10x)               | 5%       | 0.0000088400 |
| SPX-PERP        | 10% (10x)               | 5%       | 0.0000092820 |
| PENDLE-PERP     | 10% (10x)               | 5%       | 0.0000074256 |
| HYPE-PERP       | 5% (20x)                | 2.5%     | 0.0000028100 |
| AIXBT-PERP      | 10% (10x)               | 5%       | 0.0000084382 |
| PENGU-PERP      | 10% (10x)               | 5%       | 0.0000092820 |
| FARTCOIN-PERP   | 10% (10x)               | 5%       | 0.0000075320 |
| ZEN-PERP        | 10% (10x)               | 5%       | 0.0000072298 |
| BIO-PERP        | 10% (10x)               | 5%       | 0.0000075320 |
| RAY-PERP        | 10% (10x)               | 5%       | 0.0000077350 |
| ADA-PERP        | 5% (20x)                | 2.5%     | 0.0000022222 |
| S-PERP          | 10% (10x)               | 5%       | 0.0000024700 |
| TRUMP-PERP      | 10% (10x)               | 6%       | 0.0000071400 |
| FET-PERP        | 10% (10x)               | 5%       | 0.0000021481 |
| BERA-PERP       | 10% (10x)               | 6%       | 0.0000073100 |
| UXLINK-PERP     | 10% (10x)               | 6%       | 0.0000084382 |
| IP-PERP         | 20% (5x)                | 10%      | 0.0000073100 |
| CAKE-PERP       | 10% (10x)               | 5%       | 0.0000035767 |
| LTC-PERP        | 5% (20x)                | 2.5%     | 0.0000022222 |
| HBAR-PERP       | 10% (10x)               | 5%       | 0.0000077523 |
| PAXG-PER        | 10% (10x)               | 5%       | 0.0000033766 |
| FET-PERP        | 10% (10x)               | 5%       | 0.0000021481 |
| USELESS-PERP    | 20% (5x)                | 10%      | 0.0000084382 |
| MNT-PERP        | 10% (10x)               | 5%       | 0.0000020800 |
| H-PERP          | 10% (10x)               | 6%       | 0.0000074256 |
| CRO-PERP        | 10% (10x)               | 5%       | 0.0000020800 |
| XLM-PERP        | 10% (10x)               | 5%       | 0.0000028100 |
| PUMP-PERP       | 20% (5x)                | 10%      | 0.0000020800 |
| OKB-PERP        | 10% (10x)               | 5%       | 0.0000020000 |
| UNI-PERP        | 10% (10x)               | 5%       | 0.0000020000 |
| DOT-PERP        | 10% (10x)               | 5%       | 0.0000020000 |
| BCH-PERP        | 10% (10x)               | 5%       | 0.0000018182 |
| WLFI-PERP       | 10% (10x)               | 5%       | 0.0000020000 |
| LINEA-PERP      | 20% (5x)                | 10%      | 0.0000073100 |
| MYX-PERP        | 10% (10x)               | 5%       | 0.0000033766 |
| SKY-PERP        | 10% (10x)               | 5%       | 0.0000024700 |
| ZORA-PERP       | 10% (10x)               | 5%       | 0.0000097705 |
| STBL-PERP       | 10% (10x)               | 5%       | 0.0000092820 |
| ASTER-PERP      | 10% (10x)               | 5%       | 0.0000020800 |
| XPL-PERP        | 20% (5x)                | 10%      | 0.0000058013 |
| ZEC-PERP        | 10% (10x)               | 5%       | 0.0000022222 |
| SNX-PERP        | 10% (10x)               | 5%       | 0.0000033766 |
| DASH-PERP       | 10% (10x)               | 5%       | 0.0000033766 |
| SPX500-PERP     | 5% (20x)                | 2.5%     | 0.0000000001 |
| NAS100-PERP     | 5% (20x)                | 2.5%     | 0.0000000001 |
| XMR-PERP        | 10% (10x)               | 5%       | 0.0000022222 |
| MORPHO-PERP     | 10% (10x)               | 5%       | 0.0000074256 |
| ICP-PERP        | 10% (10x)               | 5%       | 0.0000020800 |
| FIL-PERP        | 10% (10x)               | 5%       | 0.0000020800 |
| MON-PERP        | 10% (10x)               | 5%       | 0.0000074256 |
| LIT-PERP        | 10% (10x)               | 5%       | 0.0000021481 |
| AXS-PERP        | 10% (10x)               | 5%       | 0.0000092820 |
| XAU-PERP        | 5% (20x)                | 2.5%     | 0.0000000001 |
| XAG-PERP        | 5% (20x)                | 2.5%     | 0.0000000001 |
| SKR-PERP        | 10% (10x)               | 5%       | 0.0000092820 |
| BIRB-PERP       | 10% (10x)               | 5%       | 0.0000123760 |
| SENT-PERP       | 10% (10x)               | 5%       | 0.0000331135 |
| ZAMA-PERP       | 10% (10x)               | 5%       | 0.0000785562 |
| GOOGL-PERP      | 5% (20x)                | 2.5%     | 0.0000000001 |
| TSLA-PERP       | 5% (20x)                | 2.5%     | 0.0000000001 |
| NVDA-PERP       | 5% (20x)                | 2.5%     | 0.0000000001 |


#### PnL (Profit and Loss)

The unrealized PnL of an open position refers to the profits or losses of that position based on the Mark Price:

```
Unrealized PnL(Perp Market i) = Position Qty * (Mark Price - Position Average Entry Price)
```

The realized PnL refers to the profits or losses after closing a position:

```
Realized PnL(Perp Market i) = Position Qty * (Average Price - Position Average Entry Price)
```

#### PnL settlement

Settling PnL allow traders to move their profit or loss from all perpetual markets to their balance. PnL Settlement has no impact on the Account Margin Ratio or open positions.

It should be noted that settled/unsettled PnL and realized/unrealized PnL are different. PnL is realized when closing or reducing a position. The resulting realized PnL moves into the balance only when the trader triggers a PnL settlement.

Settled PnL into balance can be used for perpetual futures trading or withdrawn, but doing so will impact your margin ratio.

The process of PnL Settlement is as follows:

When account X makes a call to settle PnL, Orderly will choose the top accounts with the largest unsettled opposing PnL. Starting from the largest account, each account's unsettled PnL will be offset with account X, until account X has no more remaining PnL to settle.

As an Example: Account X has +20,000 USDC unsettled PnL with a balance of 100 USDC. The top 2 facing Accounts A and B have -15,000 USDC and -5,000 USDC unsettled PnL respectively:

- First, settling Account X vs Account A will increase Account X's balance by 15,000 USDC and decrease Account A's balance by 15,000 USDC. Account X has a remaining unsettled PnL of +5,000 USDC and a balance of 15,100 USDC.

- Then, settling Account X vs Account B will increase Account X's balance by 5,000 USDC and decrease Account B's balance by 5,000 USDC. Account X has a remaining unsettled PnL of 0 and a balance of 20,100 USDC. The settlement process ends since Account X has no remaining unsettled PnL.

> **Note:** Settling PnL will NOT change the user's balance as displayed user balance already includes unsettled PnL in the calculation.
> 
> Withdrawable balance will change after settling PnL as it doesn't include unsettled profits in the calculation.
> 
> All settling PnL does is move profits into user's account so user is able to withdraw.

#### Max notional amount

Orderly imposes position limits per perpetual market per user. These limits will be increased and/or removed after Beta launch.

| Perp Market | Max Notional (USDC) |
| ----------- | ------------------- |
| BTC         | 5,000,000           |
| ETH         | 5,000,000           |
| Alts        | 2,000,000           |


### Mark Price, Index Price, and Last Price

Source: [https://orderly.network/docs/introduction/trade-on-orderly/perpetual-futures/mark-price-index-price-and-last-price](https://orderly.network/docs/introduction/trade-on-orderly/perpetual-futures/mark-price-index-price-and-last-price)

#### Index Price

For a given contract, the Index price is the volume-weighted average of the underlying asset prices listed on major spot exchanges.

In order to mitigate the risk of market manipulation on one specific venue or exchanges outages or connectivity issues, Orderly undertakes the following protection measures:

1. If, for any source, the price deviates by more than **5%** from the median price of all sources, Orderly caps/floors the value at +/- 5%. Once the source price falls within the 5% range, its original value will be taken.

2. If multiple sources show a deviation of more than 5% from the median, Orderly will use the median instead of the volume-weighted average.

3. If a specific source is not sending any price for over **10 seconds**, it will be disregarded from the Index Price calculation completely.

In the Index Price calculation, the weights are computed every 5 minutes and are based on the 4-hour trading volume over the spot trading pairs of the selected centralized exchanges.

```
Weight (CEX_i) = Volume (CEX_i) / Total Volume (CEXes)
where:
    Volume (CEX_i) refers to the 4-hour trading volume of the CEX i
    Total Volume (CEXes) refers to the sum of the 4-hour trading volume accross all relevant CEXes for the specific pair
```

In addition to Orderly's in-house oracle, [Stork](https://www.stork.network/) serves as a backup oracle, verifying the index price for all pairs listed on Orderly.
Stork is an ultra-low-latency (sub-millisecond), decentralized hybrid oracle network designed for EVM-compatible price feeds. Stork prioritizes performance, using ultra-fast WebSockets across multiple regions and node providers to ensure Orderly’s reference prices are available for verification in real-time, at the millisecond level, similar to the data speeds used in traditional finance trading venues.

The relevant exchanges for each trading pair can be find in the following table :

| Symbol    | Binance | OKX | Huobi | Gateio | Bybit | Kucoin | MEXC | Bitget | BingX | Stork | Hyperliquid | Pyth | LBank | Binance Futures |
| --------- | ------- | --- | ----- | ------ | ----- | ------ | ---- | ------ | ----- | ----- | ----------- | ---- | ----- | --------------- |
| BTC       | X       | X   |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| ETH       | X       | X   |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| NEAR      | X       | X   | X     | X      | X     | X      |      |        |       |       |             |      |       |                 |
| WOO       | X       | X   |       |        | X     | X      |      |        |       |       |             |      |       |                 |
| SOL       | X       | X   | X     | X      | X     | X      | X    |        |       |       |             |      |       |                 |
| OP        | X       | X   |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| LINK      | X       | X   |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| ARB       | X       | X   |       | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| SUI       | X       | X   |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| TIA       | X       | X   |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| INJ       | X       | X   |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| AVAX      | X       | X   |       | X      | X     | X      | X    |        |       |       |             |      |       |                 |
| JUP       | X       | X   |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| APT       | X       | X   |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| WLD       | X       | X   |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| SEI       | X       |     |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| DYM       | X       |     |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| ETHFI     | X       | X   |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| ENA       | X       |     |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| WIF       | X       |     |       | X      |       | X      | X    |        |       |       |             |      |       |                 |
| MERL      |         | X   |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| ONDO      | X       | X   | X     | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| AR        | X       | X   | X     | X      | X     | X      |      |        |       |       |             |      |       |                 |
| 1000PEPE  | X       | X   |       | X      | X     | X      | X    |        |       |       |             |      |       |                 |
| 1000BONK  | X       | X   |       | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| TON       | X       | X   | X     | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| STG       | X       |     | X     | X      | X     | X      |      |        |       |       |             |      |       |                 |
| ZRO       | X       | X   | X     | X      | X     | X      | X    |        |       |       |             |      |       |                 |
| AAVE      | X       | X   |       | X      | X     | X      | X    |        |       |       |             |      |       |                 |
| CRV       | X       | X   | X     | X      | X     | X      | X    |        |       |       |             |      |       |                 |
| LDO       | X       | X   | X     | X      | X     | X      | X    |        |       |       |             |      |       |                 |
| TRX       | X       | X   | X     | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| ORDER     |         |     | X     | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| POL       | X       | X   |       | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| TAO       | X       |     |       | X      |       | X      | X    | X      |       |       |             |      |       |                 |
| 1000SHIBU | X       | X   |       | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| GOAT      |         |     | X     | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| MOG       |         |     | X     | X      | X     | X      | X    | X      | X     |       |             |      |       |                 |
| SPX       |         |     |       |        | X     |        | X    |        | X     | X     |             | X    |       |                 |
| PENDLE    | X       | X   |       | X      | X     | X      | X    |        | X     |       |             |      |       |                 |
| HYPE      |         |     |       | X      |       | X      | X    | X      |       | X     | X           |      |       |                 |
| AIXBT     |         |     |       | X      |       |        | X    | X      | X     | X     |             |      |       |                 |
| PENGU     | X       | X   |       | X      | X     | X      | X    | X      | X     |       |             |      |       |                 |
| FARTCOIN  |         |     | X     | X      |       | X      | X    | X      |       |       |             |      |       |                 |
| ZEN       | X       |     | X     | X      | X     | X      | X    |        |       |       |             |      |       |                 |
| BIO       | X       | X   |       | X      |       | X      | X    | X      | X     |       |             |      |       |                 |
| RAY       | X       | X   |       | X      |       | X      | X    | X      | X     |       |             |      |       |                 |
| ADA       | X       | X   |       | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| S         | X       |     |       |        | X     |        | X    | X      |       |       |             |      |       |                 |
| TRUMP     | X       | X   | X     | X      | X     | X      | X    | X      | X     |       |             |      |       |                 |
| FET       | X       | X   |       | X      | X     | X      | X    | X      | X     |       |             |      |       |                 |
| BERA      | X       | X   |       | X      |       | X      | X    | X      |       |       |             |      |       |                 |
| UXLINK    |         | X   | X     | X      | X     | X      | X    | X      | X     |       |             |      |       |                 |
| IP        |         | X   |       | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| CAKE      | X       |     |       | X      | X     | X      |      | X      | X     |       |             |      |       |                 |
| LTC       | X       | X   |       | X      | X     |        | X    | X      |       |       |             |      |       |                 |
| HBAR      | X       | X   |       | X      | X     | X      | X    |        |       |       |             |      |       |                 |
| PAXG      | X       |     |       | X      |       | X      | X    | X      | X     |       |             |      | X     |                 |
| FET       | X       | X   |       | X      | X     | X      | X    | X      | X     |       |             |      |       |                 |
| USELESS   |         |     |       |        |       | X      | X    |        |       |       |             |      | X     |                 |
| MNT       |         |     |       | X      | X     | X      |      |        | X     |       |             |      |       |                 |
| H         |         |     |       | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| CRO       | X       | X   |       | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| XLM       | X       | X   |       | X      | X     |        | X    |        |       |       |             |      | X     |                 |
| PUMP      |         | X   |       | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| OKB       |         | X   |       | X      |       |        | X    |        | X     |       |             |      |       |                 |
| UNI       | X       | X   |       | X      |       | X      |      | X      |       |       |             |      |       |                 |
| DOT       | X       | X   |       |        | X     | X      | X    | X      |       |       |             |      |       |                 |
| BCH       | X       | X   |       | X      | X     | X      |      |        |       |       |             |      |       |                 |
| WLFI      | X       | X   |       |        | X     |        | X    | X      |       |       |             |      |       |                 |
| LINEA     |         | X   |       |        | X     | X      | X    | X      |       |       |             |      |       |                 |
| MYX       |         |     |       | X      |       |        | X    | X      |       |       |             |      |       |                 |
| SKY       |         |     |       |        | X     | X      |      | X      |       |       |             |      |       |                 |
| ZORA      |         |     |       | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| STBL      |         |     |       |        |       |        | X    |        | X     |       |             |      | X     |                 |
| ASTER     |         |     |       | X      |       |        | X    |        | X     |       |             |      |       |                 |
| XPL       | X       | X   |       |        | X     |        | X    | X      | X     |       |             |      | X     |                 |
| ZEC       | X       |     |       |        |       | X      | X    |        |       |       |             |      |       |                 |
| SNX       | X       | X   |       | X      | X     |        | X    | X      |       |       |             |      |       |                 |
| DASH      | X       |     |       |        |       | X      | X    |        |       |       |             |      |       |                 |
| XMR       |         |     | X     |        |       | X      | X    |        |       |       |             |      |       |                 |
| MORPHO    | X       | X   |       | X      |       | X      | X    | X      |       |       |             |      |       |                 |
| ICP       | X       | X   |       | X      | X     | X      |      | X      |       |       |             |      |       |                 |
| FIL       | X       | X   | X     | X      | X     | X      |      |        |       |       |             |      |       |                 |
| MON       |         |     |       | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| LIT       |         |     |       | X      |       |        |      |        |       |       |             | X    |       | X               |
| AXS       | X       | X   |       |        | X     |        | X    | X      |       |       |             |      |       |                 |
| SKR       |         |     |       | X      | X     | X      | X    |        |       |       |             |      |       |                 |
| SENT      | X       |     |       | X      | X     | X      | X    | X      |       |       |             |      |       |                 |
| BIRB      |         |     |       |        | X     | X      | X    | X      |       |       |             |      |       |                 |
| ZAMA      | X       | X   |       | X      | X     |        | X    |        |       |       |             |      |       |                 |


| RWA    | pragma | Finage | Trademade | Pyth | Chainlink |
| ------ | ------ | ------ | --------- | ---- | --------- |
| SPX500 | X      | X      | X         |      |           |
| NAS100 | X      | X      | X         |      |           |
| XAU    | X      |        |           | X    | X         |
| XAG    | X      |        |           | X    | X         |
| GOOGL  |        |        |           | X    | X         |
| TSLA   |        |        |           | X    | X         |
| NVDA   |        |        |           | X    | X         |


#### Mark Price

The Mark Price represents the best estimate of a Perpetual Futures contract value and prevents unnecessary liquidations that would potentially be caused by market manipulation: it is less volatile than the Index Price or Last Price.

First we compute the Median Price of the three following components :

```
Median Price = Median(P1, P2, Futures Price)
where:
    P1 = Index Price * (1 + Last Funding Rate * Time until next Funding / dt)
    P2 = Index Price + 15 Minute Moving Average[Basis]
    Futures Price = Median(Bid0, Ask0, Last_Price)

Last Funding Rate is expressed on a 8h basis
Basis = Median(Bid0, Ask0) - Index Price, calculated as a snapshot every minute
dt = Funding Period = 8 hours

```

Then Orderly applies a cap to the Mark Price relative to the Index Price defined by Factor (see table below) and Cap/Floor funding (cf Funding Rate section)

```
Mark Price = Clamp(Median Price, Index Price * (1 + Factor * Cap Funding), Index Price * (1 + Factor * Floor_funding))

cap_funding and floor_funding depend on the perpetual market (cf Funding Rate section)
```

| Perp Market | Factor | Max Mark Price Deviation from Index Price |
| ----------- | ------ | ----------------------------------------- |
| BTC         | 10     | 3%                                        |
| ETH         | 8      | 3%                                        |
| Others      | 7      | 5.25%                                     |

#### Last Price

The Last Price refers to the last traded price of a Perpetual Futures contract.


### Order Price Limit

Source: [https://orderly.network/docs/introduction/trade-on-orderly/perpetual-futures/orders-price-limits](https://orderly.network/docs/introduction/trade-on-orderly/perpetual-futures/orders-price-limits)

To ensure fair trading, Orderly imposes price limits on futures orders. These price limits are crucial in preventing market manipulation and protecting traders from extreme market movements and abnormal trading activity (e.g. widening of bid/ask spread, deviation of the bid/ask price from the Mark Price).

#### Price Range

* The price of buy limit orders should be less than or equal to Mark Price \* (1 + Price Range)

* The price of sell limit orders should be greater than or equal to Mark Price \* (1 - Price Range)

* Price Range = 3% for all markets

In case of extreme volatility, the price of a contract might move significantly in a short period of time. If a trader places a Market order, this order may be partially filled up to the price levels specified above.

Open limit orders will be cancelled if, at any point in time, the limit price of the order crosses the Mark Price by more than the price range (e.g. for Buy orders, if the limit price is higher than the Mark Price by more than the Price Range)

In the event of extreme price movements, Orderly reserves the right to change the value of the Price Range for one or several perpetual markets.

#### Price Scope

* The price of a buy limit order cannot be lower than Mark Price \* (1 - Price Scope)

* The price of a sell limit order cannot be higher than Mark Price \* (1 + Price Scope)

* Price Scope = 40% for all markets


### Funding Rate

Source: [https://orderly.network/docs/introduction/trade-on-orderly/perpetual-futures/funding-rate](https://orderly.network/docs/introduction/trade-on-orderly/perpetual-futures/funding-rate)

Funding Fees are cash flows that are periodically exchanged between traders holding long positions and traders holding short positions. Those cash flows are based on a Funding Rate. This aims to ensure the Futures price closely follows the underlying asset price (ie the Index Price). Usually, in Orderly, Funding payments with a settlement frequency of every eight hours start at 00:00 (UTC), 08:00 (UTC), and 16:00 (UTC). Funding payments with a settlement frequency of every four hours start at 00:00 (UTC), 04:00 (UTC), 08:00 (UTC), 12:00 (UTC), 16:00 (UTC), and 20:00 (UTC). In the event of extreme market volatility, Orderly reserves the right to update the Funding Rate Floor and Cap, as well as the funding interval of a perpetual contract that differs from the default 8-hour funding interval. In some cases, such as new listing or extreme volatility on a specific symbol, Orderly reserves the right to update the funding rate interval to a shorter time frame 4h, 2h or 1h.

The Funding rate is determined by two components: the Premium and the Interest Rate.

#### Premium calculation

The Funding Rate is determined mainly by the Premium, which measures the deviation between the Futures price and the Index Price (ie the Basis). In order to avoid manipulation, Orderly uses Impact Bid and Ask prices, rather than the highest bid and lowest ask only.

- The Impact Bid Price represents the average fill price to execute a sell order with the size of the Impact Margin Notional.

- The Impact Ask Price represents the average fill price to execute a buy order with the size of the Impact Margin Notional.

- The Impact Margin Notional is the notional available to trade with 1,000 USDC of collateral at the maximum leverage of the specific market. For example, for NEAR-USDC, the maximum leverage is 10x, so Impact Margin Notional is 10,000 USDC.

Every 15 seconds, Orderly computes the Premium index according to the following formula:

```
Premium = [Max(0, Impact Bid Price - I) - Max(0, I - Impact Ask Price)] / I

I = Index Price
```

#### Piecewise linear funding rate function

For each funding period, Orderly calculates the Premium every 15 seconds. The number of Premium points depends on the funding period: N = 240 points for 1-hour periods, N = 960 points for 4-hour periods, and N = 1,920 points for 8-hour periods. An Average Premium is then computed:

```
Average Premium = (Premium_1 + Premium_2 + ... + Premium_N) / N
```

Once the Average Premium for the funding period has been computed, a funding piecewise linear function with three regions is applied to the Average Premium

The **Funding Function** is defined as follows to allow for faster convergence in case the prices deviate significantly:

```
Funding Function(x) =
  x , if |x| < 0.5%
  0.5%  * sign(x) + (x - 0.5% * sign(x)) * 2, if 0.5% < |x| < 1.5%
  [0.5% + (1.5% - 0.5%) * 2] * sign(x) + (x - 1.5% * sign(x)) * 4, if |x| > 1.5%

NB: x refers here to the Average Premium
```

| Premium | Range               | Slope |
| ------- | ------------------- | ----- |
| Low     | \|x\| < 0.5%        | 1     |
| Medium  | 0.5% < \|x\| < 1.5% | 1     |
| Large   | 1.5% < \|x\|        | 1     |

#### Interest Rate

To this funding function, we add the second component of the funding rate which is the Interest Rate. By definition, it is equal to:

```
Interest Rate = (USDC Interest - Underlying Base Asset interest) / Funding Interval
```

The Interest Rate is fixed to be 0.01% for all Perpetual Markets (assuming USDC interest of 0.06%, Asset interest rate equal to 0.03%). Orderly reserves the right to adjust the Interest Rate depending on market conditions.

#### Final Funding Rate

The final Funding Rate is then a combination of the Average Premium and the Interest Rate.

```
Funding Rate = clamp[Funding Function(Average Premium) + clamp(Interest Rate - Average Premium , cap_ir, floor_ir) / (8/N), Cap Funding, Floor Funding]
```

The funding rate is also capped and floored respectively by a `Cap Funding` and a `Floor Funding`. The specific values depend on each perpetual market. In the event of extreme market conditions, Orderly may change these parameters, which will enable the funding rate model's higher slope to kick in.

| Perp Market     | Interval | Cap Funding | Floor Funding | Interest Rate | Cap IR | Floor IR |
| --------------- | -------- | ----------- | ------------- | ------------- | ------ | -------- |
| 1000BONK        | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| 1000PEPE        | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| 1000SHIB        | 8 hours  | 0.4875%     | \-0.4875%     | 0.01000%      | 0.01%  | \-0.01%  |
| 1000000MOG      | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| AAVE            | 8 hours  | 0.7500%     | \-0.7500%     | 0.01000%      | 0.01%  | \-0.01%  |
| ADA             | 8 hours  | 0.3750%     | \-0.3750%     | 0.01000%      | 0.01%  | \-0.01%  |
| AIXBT           | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| APT             | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| AR              | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| ARB             | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| ASTER           | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| AVAX            | 8 hours  | 0.3750%     | \-0.3750%     | 0.01000%      | 0.01%  | \-0.01%  |
| BCH             | 8 hours  | 0.3750%     | \-0.3750%     | 0.01000%      | 0.01%  | \-0.01%  |
| BERA            | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| BIO             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| BNB             | 8 hours  | 0.3750%     | \-0.3750%     | 0.01000%      | 0.01%  | \-0.01%  |
| BTC             | 8 hours  | 0.3000%     | \-0.3000%     | 0.01000%      | 0.04%  | \-0.04%  |
| CAKE            | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| CRV             | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| CRO             | 8 hours  | 4.00%       | \-4.00%       | 0.01000%      | 0.02%  | \-0.02%  |
| DASH            | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| DOGE            | 8 hours  | 0.4875%     | \-0.4875%     | 0.01000%      | 0.01%  | \-0.01%  |
| DOT             | 8 hours  | 0.4875%     | \-0.4875%     | 0.01000%      | 0.02%  | \-0.02%  |
| DYM             | 8 hours  | 4.00%       | \-4.00%       | 0.01000%      | 0.02%  | \-0.02%  |
| ENA             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| ETH             | 8 hours  | 0.3000%     | \-0.3000%     | 0.01000%      | 0.04%  | \-0.04%  |
| ETHFI           | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| FARTCOIN        | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| FET             | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| FIL             | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| GOAT            | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| H               | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| HBAR            | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| HYPE            | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| ICP             | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| INJ             | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| IP              | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| JUP             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| LDO             | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| LINEA           | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| LINK            | 8 hours  | 0.3750%     | \-0.3750%     | 0.01000%      | 0.01%  | \-0.01%  |
| LIT             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| LTC             | 8 hours  | 0.3750%     | \-0.3750%     | 0.01000%      | 0.01%  | \-0.01%  |
| MERL            | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| MNT             | 8 hours  | 4.00%       | \-4.00%       | 0.01000%      | 0.02%  | \-0.02%  |
| MON             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| MORPHO          | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| MYX             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| NAS100          | 8 hours  | 0.3000%     | \-0.3000%     | 0.01000%      | 0.07%  | \-0.07%  |
| NEAR            | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| OKB             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| ONDO            | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| OP              | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| ORDER           | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.02%  | \-0.02%  |
| PAXG            | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| PENDLE          | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| PENGU           | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| POL             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| PUMP            | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| RAY             | 4 hours  | 0.7500%     | \-0.7500%     | 0.00500%      | 0.01%  | \-0.01%  |
| S               | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| SEI             | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| SKY             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| SNX             | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| SOL             | 8 hours  | 0.3750%     | \-0.3750%     | 0.01000%      | 0.01%  | \-0.01%  |
| SPX             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| SPX500          | 8 hours  | 0.3000%     | \-0.3000%     | 0.01000%      | 0.07%  | \-0.07%  |
| STBL            | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| SUI             | 8 hours  | 0.7500%     | \-0.7500%     | 0.01000%      | 0.01%  | \-0.01%  |
| TAO             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| TIA             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| TON             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| TRUMP           | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| TRX             | 8 hours  | 0.4875%     | \-0.4875%     | 0.01000%      | 0.01%  | \-0.01%  |
| UNI             | 8 hours  | 0.4500%     | \-0.4500%     | 0.01000%      | 0.02%  | \-0.02%  |
| USELESS         | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| VIRTUAL         | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| WIF             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| WLFI            | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| WLD             | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| WOO             | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| XAG             | 4 hours  | 0.3000%     | \-0.3000%     | 0.01000%      | 0.07%  | \-0.07%  |
| XAU             | 4 hours  | 0.3000%     | \-0.3000%     | 0.01000%      | 0.07%  | \-0.07%  |
| XLM             | 8 hours  | 0.7500%     | \-0.7500%     | 0.01000%      | 0.02%  | \-0.02%  |
| XMR             | 8 hours  | 0.7500%     | \-0.7500%     | 0.01000%      | 0.01%  | \-0.01%  |
| XPL             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| XRP             | 8 hours  | 0.3750%     | \-0.3750%     | 0.01000%      | 0.01%  | \-0.01%  |
| ZEC             | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| ZEN             | 8 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.02%  | \-0.02%  |
| ZORA            | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| ZRO             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| AXS             | 4 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| SKR             | 4 hours  | 2.00%       | \-2.00%       | 0.00500%      | 0.01%  | \-0.01%  |
| BIRB            | 1 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| SENT            | 1 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| ZAMA            | 4 hours  | 2.00%       | \-2.00%       | 0.01000%      | 0.01%  | \-0.01%  |
| GOOGL           | 8 hours  | 0.3000%     | \-0.3000%     | 0.01000%      | 0.07%  | \-0.07%  |
| TSLA            | 8 hours  | 0.3000%     | \-0.3000%     | 0.01000%      | 0.07%  | \-0.07%  |
| NVDA            | 8 hours  | 0.3000%     | \-0.3000%     | 0.01000%      | 0.07%  | \-0.07%  |


#### Funding Period

The Funding Period for Orderly perpetual futures contracts can be 1 hour, 4 hours, or 8 hours depending on the specific market. The Funding Rate is expressed on the basis of the funding period for each market. Most markets use an 8-hour funding period, while some markets use 4-hour or 1-hour periods to better respond to market conditions.

#### Accrued Funding

At each funding settlement time, a position on a Perpetual Futures contract will accrue the following funding:

```
Accrued Funding(dt) = Position Size * Mark Price * Funding Rate
```

#### Funding settlement

The accrued funding of an account's position is settled when a PNL settlement is being called on that account (see [PNL settlement](/introduction/trade-on-orderly/perpetual-futures/margin-leverage-and-pnl#pnl-settlement)).


### Liquidations

Source: [https://orderly.network/docs/introduction/trade-on-orderly/perpetual-futures/liquidations](https://orderly.network/docs/introduction/trade-on-orderly/perpetual-futures/liquidations)

An account is subject to liquidation if its Account Margin Ratio falls below its Maintenance Margin Ratio. Orderly uses the [Mark Price](/introduction/trade-on-orderly/perpetual-futures/mark-price-index-price-and-last-price#mark-price) to represent a contract's estimated value. As it derives from multiple reputable spot exchanges (see [Index Price](/introduction/trade-on-orderly/perpetual-futures/mark-price-index-price-and-last-price#index-price)) and the funding rate, it is less volatile than the [Last Price](/introduction/trade-on-orderly/perpetual-futures/mark-price-index-price-and-last-price#last-price) and discourages bad actors from manipulating the market price to trigger liquidations.

When an account is under liquidation, its current open orders are automatically cancelled and its USDC balance is frozen.

#### Decentralized Liquidations

Unlike CEXes (Centralized Exchanges) or a few other dApps such as dYdX, at Orderly, liquidations are decentralized.

Most of the time, CEXes directly close positions on the orderbook, which often triggers cascading liquidations, hurting traders further and encouraging bad actors to manipulate market prices.

Orderly adopts a decentralized liquidation model where positions are transferred to **liquidators** at a discount instead of being market sold in the orderbook. It is fully decentralized as anyone with an Orderly account can act as a liquidator, as long as the account has enough margin to take over the liquidated positions. Further details on how an account can claim liquidating positions can be found in the API docs.

#### Liquidation Trigger

A liquidation is triggered if the Account Margin Ratio (AMR) is below the Maintenance Margin Ratio (MMR) required for the account (see [here](/introduction/trade-on-orderly/perpetual-futures/margin-leverage-and-pnl#maintenance-margin-ratio) for more details).

#### Liquidation Tiers

All trading pairs are not equal in term of risk. In Orderly, there are two groups of symbol tier :

- Low Tier Risk : Liquidators can only claim a ratio of all symbols. Claiming a single symbol is not allowed
- High Tier Risk : Liquidators can claim 1 single symbol

| Tier | Perp Markets |
| ---- | ------------ |
| Low  | BTC ; ETH    |
| High | Others       |

#### Liquidation amount

The amount of positions that need to be liquidated is calculated for both low tier and each symbol of high tier perp markets. Whenever possible, each amount is computed so that the Account Margin Ratio equals the Initial Margin Ratio.

If the account has multiple positions in the low tier risk, the positions will be partially liquidated in a volume-weighted fashion.

#### Liquidation fee

When an account is liquidated, a User Liquidation Fee is incurred. This is split between the Orderly **Insurance Fund** and the **liquidator**. Each perpetual market has its own Liquidation Fee:

| Perp Market | Liquidation Fee | Liquidator Fee |
| ----------- | --------------- | -------------- |
| BTC         | 0.60%           | 0.30%          |
| ETH         | 0.60%           | 0.30%          |
| SOL         | 0.60%           | 0.30%          |
| Others      | 1.20%           | 0.60%          |

The overall User Liquidation Fee and Liquidator Fee are calculated as follows:

Low Tier Liquidation (multiple symbols):

```
User Liquidation Fee = Sum[Liquidation Fee(Symbol i) * Abs(Notional i)]
Liquidator Fee = Sum[Liquidator Fee(Asset i) * Abs(Notional i)]
```

High Tier Liquidation (1 symbol):

```
User Liquidation Fee = Liquidation Fee(Symbol i) * Abs(Notional i)
Liquidator Fee = Sum[Liquidator Fee(Asset i) * Abs(Notional i)]
```

- If the Account Margin Ratio is higher than the User Liquidation Fee, the User Liquidation Fee is split in half between the Insurance Fund and the liquidator (Insurance Fund and Liquidator each receives `0.5 * User Liquidation Fee`).

- If the Account Margin Ratio is between User Liquidation Fee and Liquidator Fee, then a fee equal to `0.5 * User Liquidation Fee` is paid to the liquidator, and the remaining account margin is transferred to the insurance fund.

- In the unlikely scenario that the remaining margin of the account cannot cover the Liquidator Fee, the account's balance and positions are transferred to the insurance fund. Those positions can still be claimed by liquidators (see [Insurance Fund & ADL](/introduction/trade-on-orderly/perpetual-futures/insurance-fund-and-adl)).

#### Full vs Partial Liquidator Takeover

The minimum notional for a partial liquidation takeover is 10,000 USDC for low tier liquidations and 5,000 USDC for high tier liquidations. For liquidation positions below the threshold, in case of a low tier liquidation, the liquidator must take over all of the positions of the liquidated user and in case of a high tier liquidation of a specific symbol, the liquidator must claim the entire position. Above the threshold, the liquidator could choose to take over only a percentage of the positions of the liquidated user, provided that the notional of the positions taken over exceeds the threshold.

Before transferring positions to the liquidator, Orderly makes sure that the liquidator can effectively take over the positions, doing similar margin checks as for new order placements.


### Insurance Fund & ADL

Source: [https://orderly.network/docs/introduction/trade-on-orderly/perpetual-futures/insurance-fund-and-adl](https://orderly.network/docs/introduction/trade-on-orderly/perpetual-futures/insurance-fund-and-adl)

#### Protect bankrupt traders

An account is bankrupt if it has a negative total collateral value. Under this scenario, the Orderly Insurance Fund will take over all the account's positions and debt to protect other users.

#### Insurance Fund growth

In the majority of cases, Orderly Insurance Fund will collect part of liquidation fees from accounts that have enough margin. Over time, it should be growing. In the case of extreme market conditions, liquidators might not be able to liquidate positions in time. Some traders might become bankrupt, and this is where the Insurance Fund comes in and cover those losses.

#### Claiming of non-liquidated positions

If an Account Margin Ratio is insufficient to cover the minimum liquidator fee, all the positions and the remaining USDC balance of the liquidated account are transferred to the Insurance Fund.

Liquidators can make a request to claim Insurance Fund positions at a discount. This discount is slightly less than the liquidator fee.

#### Specifications

The Insurance Fund is a special account that does not share the same margin requirements as a standard account. Important parameters are : 

* `min_insurance_fund_margin_ratio`: corresponds to the maintenance margin ratio for the Insurance Fund

* `min_margin_ratio_solvency`: refers to the lowest level of margin ratio that the Insurance Fund must maintain to avoid becoming insolvent.

#### ADL

In the unlikely scenario where:

1. Liquidators don't take over liquidated positions

2. No liquidators claim those positions on the Insurance Fund for some time, and

3. The Insurance Fund Margin Ratio falls below the `min_insurance_fund_margin_ratio`,

ADL or Auto-Deleveraging will be triggered.

The process consists first in selecting the top traders with the most profit and leverage, then offsetting the positions of the insurance fund in each perpetual market, one by one.


### Supported Markets

Source: [https://orderly.network/docs/introduction/trade-on-orderly/supported-markets](https://orderly.network/docs/introduction/trade-on-orderly/supported-markets)

> **Note:** Front-end applications can choose which of the supported markets they want to list on their
>   platform

#### EVM

##### Perpetual Futures

> **Note:** All Perpetual Futures contracts are denominated and settled in USDC

| Token Name                            | Token Ticker | Token Symbol         |
| ------------------------------------- | ------------ | -------------------- |
| Bitcoin                               | BTC          | PERP_BTC_USDC        |
| Ethereum                              | ETH          | PERP_ETH_USDC        |
| Celestia                              | TIA          | PERP_TIA_USDC        |
| Solana                                | SOL          | PERP_SOL_USDC        |
| Woo                                   | WOO          | PERP_WOO_USDC        |
| Arbitrum                              | ARB          | PERP_ARB_USDC        |
| Optimism                              | OP           | PERP_OP_USDC         |
| Injective                             | INJ          | PERP_INJ_USDC        |
| Chainlink                             | LINK         | PERP_LINK_USDC       |
| Sui                                   | SUI          | PERP_SUI_USDC        |
| Avalanche                             | AVAX         | PERP_AVAX_USDC       |
| Jupiter                               | JUP          | PERP_JUP_USDC        |
| Worldcoin                             | WLD          | PERP_WLD_USDC        |
| Sei                                   | SEI          | PERP_SEI_USDC        |
| Dymension                             | DYM          | PERP_DYM_USDC        |
| Dogecoin                              | DOGE         | PERP_DOGE_USDC       |
| Ether.fi                              | ETHFI        | PERP_ETHFI_USDC      |
| Ethena                                | ENA          | PERP_ENA_USDC        |
| dogwifhat                             | WIF          | PERP_WIF_USDC        |
| 1000PEPE                              | 1000PEPE     | PERP_1000PEPE_USDC   |
| Merlin Chain                          | MERL         | PERP_MERL_USDC       |
| Ondo                                  | ONDO         | PERP_ONDO_USDC       |
| Arweave                               | AR           | PERP_AR_USDC         |
| 1000BONK                              | 1000BONK     | PERP_1000BONK_USDC   |
| Toncoin                               | TON          | PERP_TON_USDC        |
| Stargate Finance                      | STG          | PERP_STG_USDC        |
| LayerZero                             | ZRO          | PERP_ZRO_USDC        |
| Aave                                  | AAVE         | PERP_AAVE_USDC       |
| Tron                                  | TRX          | PERP_TRX_USDC        |
| Curve DAO                             | CRV          | PERP_CRV_USDC        |
| Lido DAO                              | LDO          | PERP_LDO_USDC        |
| Orderly Network                       | ORDER        | PERP_ORDER_USDC      |
| Polygon                               | POL          | PERP_POL_USDC        |
| Bittensor                             | TAO          | PERP_TAO_USDC        |
| Shiba Inu                             | SHIB         | PERP_1000SHIB_USDC   |
| Goatseus Maximus                      | GOAT         | PERP_GOAT_USDC       |
| Mog Coin                              | MOG          | PERP_1000000MOG_USDC |
| SPX6900                               | SPX          | PERP_SPX_USDC        |
| Pendle                                | PENDLE       | PERP_PENDLE_USDC     |
| aixbt by Virtuals                     | AIXBT        | PERP_AIXBT_USDC      |
| Pudgy Penguins                        | PENGU        | PERP_PENGU_USDC      |
| Fartcoin                              | FARTCOIN     | PERP_FARTCOIN_USDC   |
| Horizen                               | ZEN          | PERP_ZEN_USDC        |
| Bio Protocol                          | BIO          | PERP_BIO_USDC        |
| Raydium                               | RAY          | PERP_RAY_USDC        |
| Cardano                               | ADA          | PERP_ADA_USDC        |
| Sonic (prev. FTM)                     | S            | PERP_S_USDC          |
| OFFICIAL TRUMP                        | TRUMP        | PERP_TRUMP_USDC      |
| Artificial Superintelligence Alliance | FET          | PERP_FET_USDC        |
| Berachain                             | BERA         | PERP_BERA_USDC       |
| UXLINK                                | UXLINK       | PERP_UXLINK_USDC     |
| Story                                 | IP           | PERP_IP_USDC         |
| PancakeSwap                           | CAKE         | PERP_CAKE_USDC       |
| Litecoin                              | LTC          | PERP_LTC_USDC        |
| Hedera                                | HBAR         | PERP_HBAR_USDC       |
| PAX Gold                              | PAXG         | PERP_PAXG_USDC       |
| Artificial Superintelligence Alliance | FET          | PERP_FET_USDC        |
| Useless Coin                          | USELESS      | PERP_USELESS_USDC    |
| Mantle                                | MNT          | PERP_MNT_USDC        |
| Humanity                              | H            | PERP_H_USDC          |
| Cronos                                | CRO          | PERP_CRO_USDC        |
| League of Kingdoms                    | XLM          | PERP_XLM_USDC        |
| Pump.fun                              | PUMP         | PERP_PUMP_USDC       |
| OKX                                   | OKB          | PERP_OKB_USDC        |
| Uniswap                               | UNI          | PERP_UNI_USDC        |
| Polkadot                              | DOT          | PERP_DOT_USDC        |
| Bitcoin Cash                          | BCH          | PERP_BCH_USDC        |
| World Liberty Finance                 | WLFI         | PERP_WLFI_USDC       |
| Linea                                 | LINEA        | PERP_LINEA_USDC      |
| MYX Finance                           | MYX          | PERP_MYX_USDC        |
| Sky                                   | SKY          | PERP_SKY_USDC        |
| Zora                                  | ZORA         | PERP_ZORA_USDC       |
| STBL                                  | STBL         | PERP_STBL_USDC       |
| Aster                                 | ASTER        | PERP_ASTER_USDC      |
| Plasma                                | XPL          | PERP_XPL_USDC        |
| Zcash                                 | ZEC          | PERP_ZEC_USDC        |
| Synthetix                             | SNX          | PERP_SNX_USDC        |
| Dash                                  | DASH         | PERP_DASH_USDC       |
| Monero                                | XMR          | PERP_XMR_USDC        |
| Morpho                                | MORPHO       | PERP_MORPHO_USDC     |
| Internet Computer                     | ICP          | PERP_ICP_USDC        |
| Filecoin                              | FIL          | PERP_FIL_USDC        |
| Monad                                 | MON          | PERP_MON_USDC        |
| Lighter                               | LIT          | PERP_LIT_USDC        |
| Axie Infinity                         | AXS          | PERP_AXS_USDC        |
| Solana Mobile Seeker                  | SKR          | PERP_SKR_USDC        |
| Moonbirds                             | BIRB         | PERP_BIRB_USDC       |
| Sentient                              | SENT         | PERP_SENT_USDC       |
| Zama                                  | ZAMA         | PERP_ZAMA_USDC       |


#### RWA

##### Perpetual Futures

> **Note:** All Perpetual Futures contracts are denominated and settled in USDC

| RWA Name              | RWA Ticker | RWA Symbol       |
| --------------------- | ---------- | ---------------- |
| Standard & Poor's 500 | SPX500     | PERP_SPX500_USDC |
| NASDAQ 100 Index      | NAS100     | PERP_NAS100_USDC |
| Gold                  | XAU        | PERP_XAU_USDC    |
| Silver                | XAG        | PERP_XAG_USDC    |
| Alphabet Inc          | GOOGL      | PERP_GOOGL_USDC  |
| Tesla                 | TSLA       | PERP_TSLA_USDC   |
| NVIDIA                | NVDA       | PERP_NVDA_USDC   |


### Supported Chains

Source: [https://orderly.network/docs/introduction/trade-on-orderly/supported-chains](https://orderly.network/docs/introduction/trade-on-orderly/supported-chains)

##### EVM Chains

All contract addresses and details [here](/build-on-omnichain/addresses)

- Arbitrum
- Optimism
- Base
- Mantle
- Ethereum
- SEI
- Avalanche
- Morph
- Sonic
- Story
- Mode
- Plume
- Abstract
- BNB Smart Chain
- Monad

##### Non-EVM Chains
- Solana

All contract addresses and details [here](/build-on-omnichain/addresses#solana)


### Multi-Collateral

Source: [https://orderly.network/docs/introduction/trade-on-orderly/multi-collateral](https://orderly.network/docs/introduction/trade-on-orderly/multi-collateral)

#### Collaterals

##### Max Deposits (Global)

These values represent the maximum amount of each collateral type (USDT or ETH) that can be deposited across all users on a global scale for the specified blockchain network (Arbitrum, Ethereum, or Base).

| Collateral | Chain    | Max Collateral (global) |
| ---------- | -------- | ----------------------- |
| USDT       | Arbitrum | 2,000,000               |
| ETH        | Arbitrum | 1,000                   |
| USDT       | Ethereum | 3,000,000               |
| ETH        | Ethereum | 500                     |
| ETH        | Base     | 500                     |
| USDT       | BSC      | 4,000,000               |
| YUSD       | Ethereum | 500,000                 |
| YUSD       | BSC      | 500,000                 |
| SOL        | SOL      | 40,000                  |
| BNB        | BSC      | 10,000                  |
| WBTC       | Ethereum | 80                      |
| USD1       | Ethereum | 1,000,000               |
| USD1       | BSC      | 1,000,000               |

##### Max Deposits (User)

| Collateral | Max Collateral |
| ---------- | -------------- |
| USDT       | 500,000        |
| ETH        | 100            |
| SOL        | 2,000          |
| BNB        | 500            |
| YUSD       | 50,000         |
| WBTC       | 5              |
| USD1       | 500,000        |

#### What is Loan-to-value (LTV)?

Loan-to-Value (LTV) is a key risk metric that measures the ratio of your negative USDC value which includes your negative balance (`USDC_balance`) and unrealized PnL (`upnl`), to your collateral’s value. On Orderly, LTV replaces traditional credit scores to determine your borrowing power in our asset-backed lending system. A lower LTV signifies a safer loan.

By maintaining a healthy LTV, you can maximize the loan you can access while enhancing the safety of your position against market volatility. This empowers you to borrow with confidence. Your collateral is held securely by Orderly until the loan is repaid, providing a clear and powerful way for you to leverage your holdings.


##### How to calculate LTV

```
LTV = ( abs(min(USDC Balance, 0)) + abs(min(upnl, 0)) ) / [ sum( max(Collateral Quantity, 0) × Index Price × Weight ) + max(upnl, 0) ]
```

| Term                | Definition                                                |
| ------------------- | --------------------------------------------------------- |
| USDC Balance        | The total absolute USDC balance that has been borrowed    |
| min(upnl, 0)        | The isolated unrealized losses included                   |
| Collateral Quantity | The quantity of a specific asset you hold as collateral   |
| Index Price         | The current market price of the collateral                |
| Weight              | The collateral weight (refer to Collateral Ratio section) |
| max(upnl, 0)        | The isolated unrealized profits included                  |

The acceptable range of LTV ratio remains below 95%. Auto conversion of collateral will be triggered if the LTV ratio reaches 95% and above.

---

#### Collateral Ratio

##### What is Collateral Ratio?

The Collateral Ratio on Orderly is the value at which we recognize your asset deposited as collateral, expressed as a percentage.

A higher ratio provides a greater safety buffer against market fluctuations and lowers the risk of liquidation. Orderly calculates this by assigning asset-specific "weights," where more volatile assets contribute less to the ratio than stable assets. The Collateral Ratio serves as the primary indicator of an account's financial health on the platform.


##### How to Calculate Weight?

```
Weight = min (Base Weight, K / (1 + DCF * abs(Collateral Quantity * Index Price )^(4/5)))
```

where:

- `DCF_i` = Discount Collateral Factor
- `K` = 1.2

| Term                | Definition                                                                 |
| ------------------- | -------------------------------------------------------------------------- |
| Base Weight         | The standard or default collateral weight for a specific asset             |
| K                   | A constant system parameter set at 1.2 unless otherwise stated             |
| DCF                 | Discount collateral factor determining weight sensitivity to position size |
| Collateral Quantity | Quantity of the collateral deposited                                       |
| Index Price         | Current market price of the collateral                                     |
| ^(⅘)                | Smoothes impact of large position size                                     |

##### Weight & Discount Collateral Factor

Weight and DCF will be determined based on the table below:

| Collateral | base_weight | DCF_i     |
| ---------- | ----------- | --------- |
| USDT       | 1           | 0.0000015 |
| ETH        | 0.8         | 0.000007  |
| YUSD       | 0.9         | 0.0000045 |
| SOL        | 0.8         | 0.000007  |
| BNB        | 0.8         | 0.000007  |
| WBTC       | 0.8         | 0.000007  |
| USD1       | 0.98        | 0.0000045 |

---

#### Collateral Value

```
Collateral Value = min(Collateral Quantity , Collateral Cap) * Weight * Index Price
```

##### Total Collateral Value

```
Total Collateral Value = sum(Collateral Value) + upnl
```

##### Free Collateral

```
Free Collateral = Total Collateral Value - Total Initial Margin With Orders
```

##### Total Account Value

```
Total Account Value = sum(Collateral Quantity * Index Price) + upnl
```

---

#### Auto Conversion (Haircuts)

If your Loan-to-Value (LTV) ratio reaches the 95% threshold or a negative USDC value equivalent to -11,000, the system will automatically convert a necessary portion of your collateral into USDC. This action immediately reduces your LTV to a safer level, helping to preserve your account.

This is a protective measure to manage risk. As always, remember that the lower your LTV ratio, the more secure your position is from this type of automated deleveraging. The fee for auto conversion of each collateral will follow the table below:

| Collateral | Auto Conversion Fee (Haircuts) |
| ---------- | ------------------------------ |
| USDT       | 0.025%                         |
| ETH        | 3.5%                           |
| YUSD       | 0.035%                         |
| SOL        | 3.5%                           |
| BNB        | 3.5%                           |
| WBTC       | 3.5%                           |
| USD1       | 0.035%                         |

---

#### Manual Conversion

We recommend monitoring your LTV ratio to ensure it stays below the 95% and/or -11,000 USDC threshold. We permit manual conversion of collateral to assist with this maintenance via on-chain swaps.

Each collateral’s minimum and maximum swap amount can be found in the table below:


##### Minimum Swap Collateral Required

| Collateral | Arbitrum & Base | Ethereum | Solana | BSC |
| ---------- | --------------- | -------- | ------ | --- |
| USDT       | 50              | 500      | 50     | 50  |
| ETH        | 0.02            | 0.2      | --     | --  |
| YUSD       | --              | 500      | --     | 50  |
| SOL        | --              | --       | 2      | --  |
| BNB        | --              | --       | --     | 0.5 |
| WBTC       | --              | 0.005    | --     | --  |
| USD1       | --              | 500      | --     | 500 |

##### Maximum Swap Collateral Threshold

| Collateral | Arbitrum & Base | Ethereum  | Solana  | BSC     |
| ---------- | --------------- | --------- | ------- | ------- |
| USDT       | 500,000         | 1,000,000 | 500,000 | 500,000 |
| ETH        | 100             | 500       | --      | --      |
| YUSD       | --              | 50,000    | --      | 50,000  |
| SOL        | 500             | --        | --      | --      |
| BNB        | --              | --        | --      | 500     |
| WBTC       | 5               | --        | --      | --      |
| USD1       | --              | 10,000    | --      | 10,000  |


### Builders

Source: [https://orderly.network/docs/introduction/trade-on-orderly/builders](https://orderly.network/docs/introduction/trade-on-orderly/builders)

GOLD
            
            
                
            
        
        
            GOLD
            
            
                
            
        
        
            GOLD
            
            
                
            
        
    
    
        
            GOLD
            
            
                
            
        
        
            GOLD
            
            
                
            
        
        
            GOLD
            
            
                
            
        
    
    
        
            GOLD
            
            
                
            
        
        
            GOLD
            
            
                
            
        
        
            GOLD
            
            
                
            
        
    
    
        
            GOLD
            
            
                
            
        
        
            GOLD


## Orderly OmniVault

### Overview

Source: [https://orderly.network/docs/introduction/orderly-omniVault/overview](https://orderly.network/docs/introduction/orderly-omniVault/overview)

Orderly OmniVault is Orderly’s flagship strategy vault. It is an omnichain and permissionless strategy vault carefully designed to leverage the participation of protocol stakeholders to amplify liquidity and enhance on-chain trading experience across tradable markets within the Orderly ecosystem, creating new yield-earning opportunities for our stakeholders.

As part of the initiative, Orderly is collaborating with industry-leading market makers (our trusted partners) as **Strategy Providers (SP)**, starting with Kronos Research.<sup>1 </sup> &nbsp;We leverage their extensive expertise to execute efficient market-making strategies through the utilization & management of the OmniVault assets. Users can conveniently deposit USDC into the Orderly OmniVault from any of the supported blockchain networks and become protocol liquidity providers, granting them a proportional share of OmniVault’s PnL. This enables them to earn attractive passive yields generated by professional market-marking strategies.<sup>2</sup> &nbsp;Orderly OmniVault opens up profit opportunities previously inaccessible to retail users.

#### Security
Orderly has completed two independent audits on our strategy vault smart contracts to ensure the highest security level of asset security for users. Audit reports are publicly available on our [GitHub](https://github.com/OrderlyNetwork/Audits).

Users should carefully assess their risk tolerance and the vault’s risk profile before depositing. It’s important to note that every strategy vault carries its own risks.

#### OmniVault Smart Contract Addresses

0x70fe7d65ac7c1a1732f64d2e6fc0e33622d0c991

1. [Arbitrum](https://arbiscan.io/address/0x70fe7d65ac7c1a1732f64d2e6fc0e33622d0c991)
2. [Base](https://basescan.org/address/0x70fe7d65ac7c1a1732f64d2e6fc0e33622d0c991)
3. [Optimism](https://optimistic.etherscan.io/address/0x70fe7d65ac7c1a1732f64d2e6fc0e33622d0c991)
4. [Sei](https://seitrace.com/address/0x70Fe7d65Ac7c1a1732f64d2E6fC0E33622D0C991)
---

<sup>1 </sup>  Strategy Providers are independent third parties and operate at arm’s length from Orderly. While we work with reputable firms, Orderly does not guarantee their performance or assume liability for their actions.

<sup>2 </sup>  All yields are subject to market risks and may fluctuate. Past performance is not indicative of future results, and returns are not guaranteed.


### Mechanics

Source: [https://orderly.network/docs/introduction/orderly-omniVault/mechanics](https://orderly.network/docs/introduction/orderly-omniVault/mechanics)

Orderly OmniVault deploys strategies with vault assets to generate yields. The PnL gain/loss are proportionally split across all its Liquidity Providers (LPs), according to the number of shares each LP owns.

The lifecycle of Orderly OmniVault is summarised as follows:

1. Users deposit USDC into the OmniVault

2. Strategy Providers (SPs) execute strategies with vault assets

3. Users submit withdrawal requests to redeem shares

4. Users claim their redeemed USDC once redemption is processed

&nbsp;

Refer below to learn more about the key concepts of Orderly OmniVault:

#### Shares
Shares are used to track the portion of Orderly OmniVault asset ownership of a LP. Each LP’s shareholding is traceable both on-chain and off-chain. Shares<sup>1 </sup> &nbsp;are non-tokenized, meaning they are neither tradable nor transferrable.

Share price is calculated as:

- Share price = Vault Net Asset Value / Total Number of Issued Shares

For deposits, new shares are calculated as:

- Number of Shares = LP Deposits (in USDC) / Share Price

For withdrawals, claimable amounts are calculated as:

- Claimable Amount (in USDC) = LP Withdrawal Shares * Share Price

#### Vault Period

Orderly OmniVault uses the concept of a vault period, which batches and processes all deposits & withdrawal requests at a common <u>vault period settlement share price</u> to ensure fairness, stability, and eliminates front-running risks. It’s important to note that the number of shares or claimable USDC may differ from initial estimates at the time of deposit or withdrawal requests.<sup>2 </sup>

Each Vault Period lasts for 3 hours and runs consecutively:

- Vault Period Start time (UTC): 0200H, 0500H, 0800H, 1100H, 1400H, 1700H, 2000H, 2300H

Example:

| Vault Period | User Activities |
|--------------|-----------------|
| 8am-11am     | LP 1 perform a 50,000 USDC deposit at 9am <p/> - transaction status: pending <p/> LP 2 perform a 2,000 shares withdrawal requests at 10am <p/> - transaction status: requested <p/> Both transactions will be assigned and processed in the next vault period at 11am |
| 11am-2pm     | Using the settlement of share price at 11am, assuming \$1.25 <p/> - LP 1 will receive 40,000 shares (50,000 USDC / \$1.25) for his 50k USDC deposit <p/> - LP 2 will be able to claim 2,500 USDC (2000 * \$1.25) for his 2,000 shares withdrawal request at the end of this vault period |

#### Omnichain Capability
Orderly OmniVault is omnichain-enabled that allows LP to deposit USDC into the vault from any supported network while interacting with a single unified strategy vault. This differentiates Orderly OmniVault from typical strategy vaults that either support a single blockchain network or manage each supported network separately.<sup>3 </sup>

Orderly OmniVault support blockchain networks:

1. Arbitrum

2. Base

3. Optimism

4. Additional networks coming soon

Like the user experience for staking $ORDER, OmniVault offers omnichain flexibility–users can deposit USDC from chain A (e.g. Optimism) and withdraw+claim USDC on chain B (e.g. Base)

#### OmniVault Yields & Strategies

Orderly OmniVault assets are managed by SP to:

1. Execute market making strategies primarily on Orderly’s order book

2. Act as the primary liquidator for selected symbols, taking on liquidated positions.<sup>4 </sup>

It is important to note that Orderly OmniVault does not replace the Orderly insurance fund, and not all symbol liquidated positions will be handled on by Orderly OmniVault. Risk management mechanisms are in place to limit the vault’s exposure to liquidated positions.

Additionally, the Orderly protocol will allocate a portion of its net protocol revenue (up to 40%) and a portion of insurance fund liquidation fees proceeds to Orderly OmniVault. The percentage sharing will be periodically adjusted based on market conditions and OmniVault’s TVL.

All returns (PnL gains/losses and protocol fees distributions) are compounded in Orderly OmniVault and distributed to all LPs proportionally.

#### APY Calculation

APY is calculated using a daily time-weighted rate of return (TWRR) approach across a 30 days rolling window, compounded and annualized. It serves as an estimate of annualized returns based on past OmniVault performance and is not a guarantee or indicator of future results.

> **Note:** APY may initially fluctuate significantly due to the limited historical data at launch.

---

<sup>1 </sup>  Shares represent a record of vault participation and do not constitute securities, debt instruments, or any legal ownership in Orderly or its affiliates.

<sup>2 </sup>  Orderly is not responsible for any slippage, pricing discrepancies, or timing mismatch between user-submitted requests and vault period settlements.

<sup>3 </sup>  Omnichain functionality relies on third-party bridging protocols and may be subject to latency, errors, or cross-chain risks beyond Orderly’s control.

<sup>4 </sup>  Liquidation strategies involve inherent risks, including volatility, market reversals, or imperfect pricing execution, which may negatively impact vault performance.


### Liquidity Provider

Source: [https://orderly.network/docs/introduction/orderly-omniVault/liquidity-provider](https://orderly.network/docs/introduction/orderly-omniVault/liquidity-provider)

LPs can make deposits or submit a withdrawal request anytime via the [Orderly OmniVault App](https://app.orderly.network/vaults). Transactions will be processed in the subsequent vault period. Please note it may take a few minutes for your transaction to reflect across the app’s data, as every transaction undergoes a cross-chain messaging via the LayerZero protocol to Orderly chain.<sup>1 </sup>

If your on-chain transaction (deposit or withdrawal request) has a success status, it is assured that Orderly OmniVault has received your transaction request.

#### Deposits

LPs have the flexibility to deposit USDC from any supported network. On the deposit section on the app, after inputting the amount of USDC, you will see an estimated number of shares you will receive based on the current share price. However, the actual number of shares issued may vary from the estimate, as the share price at the time of your deposit request may differ from the final vault period settlement share price.

Every deposit transaction is subject to:

- Minimum Deposit Amount: 10 USDC
- Deposit Lock-up Duration: 2 days
  - The lock-up duration begins <u>at the start of the vault period</u> during which your deposit is processed, not at the exact time you made the deposit.
  - Once the lock-up period ends, the shares will be available for withdrawal.

#### Withdrawal

LPs can submit withdrawal requests from any supported network. The amount of USDC claimable on each network is determined by the blockchain network on which the withdrawal requests are submitted to. In the withdrawal section of the app, after inputting the number of shares to withdraw, you will see an estimated USDC amount based on the current share price. However, the actual claimable amount may differ from this estimate, as the final settlement share price may vary from the current estimate.

The withdrawal gate is a safety mechanism designed to protect the interests of all LPs and maintain vault stability. It limits the percentage (10%) of total vault assets that can be redeemed in a single vault period. If total withdrawal requests exceed this threshold, the excess requests will be queued and processed in subsequent vault periods.

Every withdrawal request transaction is subject to:

- Minimum Withdrawal Amount: 10 USDC

#### Claim Your Withdrawal

Once the withdrawal requests have been assigned to a vault period, Orderly OmniVault will begin the redemption process. LPs can typically claim their redeemed USDC approximately 15 to 30 minutes <u>after the end of that vault period</u>. Delays may occasionally occur due to factors such as network conditions or unforeseen delays, particularly during peak periods.

When your withdrawal request status is marked as “Claimable” in the app, you may proceed to claim your USDC on the respective blockchain network.

#### How-to Guide

Refer to our [how-to-guide](https://orderly.network/blog/omnivaulthow) blog for the clip on how to perform deposit/withdrawal request/claim with Orderly OmniVault!

---

<sup>1 </sup>  Orderly does not control the LayerZero protocol and is not responsible for delays, message failures, or other issues related to cross-chain messaging.


### FAQ

Source: [https://orderly.network/docs/introduction/orderly-omniVault/faq](https://orderly.network/docs/introduction/orderly-omniVault/faq)

**Are there fees charged for using Orderly OmniVault?:**

No fees are charged during the initial launch period of the Orderly OmniVault.

  

  **Can I lose money as an LP with Orderly OmniVault?:**

Yes, there is a possibility of loss. Interacting with any DeFi application involves risks. As an LP, you hold shares in the vault and will proportionally share in both the PnL gains and losses, together with other users. Orderly does not guarantee any minimum returns or protection from losses.

  

<Accordion title='Why is my deposit/withdrawal request stuck in the "pending/requested" status?'>
A "pending" or "requested" status means Orderly OmniVault has received your request and is awaiting processing in the next vault period. Please refer to the “Vault Period” section on the OmniVault Mechanics page for a detailed explanation.


  **Can I expect the actual returns to match the APY displayed on the Orderly OmniVault app?:**


The APY displayed serves as an estimate of annualized returns based on past OmniVault performance and is not a guarantee or indicator of future outcomes.

  

**Can I transfer or trade my shares?:**

No. Share is not tokenised, meaning they are neither tradable nor transferrable. Shares simply represent your percentage ownership of Orderly OmniVault assets.


**Has the Strategy Provider deposited USDC into Orderly OmniVault?:**

Yes, they have. The Strategy Provider is required to deposit USDC into the OmniVault, which remains locked up throughout their engagement. This ensures they have “skin in the game” and maintains alignment of interests with LPs.


## Orderly One

### Builder Guidelines

Source: [https://orderly.network/docs/introduction/orderly-one/builder-guidelines](https://orderly.network/docs/introduction/orderly-one/builder-guidelines)

Orderly One is built to empower developers to launch independent DEXes with speed and creativity. Every DEX built on our infrastructure reflects not only your project but also the wider ecosystem.

These Builder Guidelines sit alongside the Orderly One Terms of Use and are meant as a practical code of conduct for builders, outlining how projects should present themselves and how Orderly may respond if the standards are not met.

These Builder Guidelines may be updated from time to time, and the latest version shall apply once updated.

#### **Why These Guidelines Exist**

The Builder Guidelines exist to:

1. Protect the reputation and integrity of the Orderly brand.

2. Safeguard the ecosystem from harmful, misleading, or unlawful behaviour.

3. Give builders clarity about expectations from Day 1\.

Orderly One celebrates creativity and independence, but with independence comes responsibility. Projects that are offensive, defamatory, misleading, unlawful, or reputationally damaging may not be promoted through Orderly channels and, in serious cases, may lose access to Orderly One services altogether.

By following these Guidelines, you help ensure the ecosystem remains trusted, respected, and welcoming to both users and builders.

#### **What Orderly One Is (and Isn’t)**

Orderly One is a no-code SDK that lets developers launch decentralized exchanges (DEXes) quickly and efficiently. By integrating the SDK, you gain access to Orderly’s backend liquidity, order-matching engine, and cross-chain connectivity.

Orderly One is a toolkit, not a managed service. You control your front-end, branding, and user experience. DEXes created with Orderly One are independently developed and operated by builders, not by Orderly Network.

#### **Independent by Design**

1. Do not present your DEX as an “official Orderly product.”

2. You may say your project is “built with Orderly One” or “powered by Orderly liquidity.”

3. Make it clear that users interact with your DEX at their own risk, and that Orderly is not responsible for your operations, marketing, or outcomes.

#### **Names and Brands That Build Trust**

1. Avoid offensive, defamatory, discriminatory, or otherwise inappropriate names or imagery.

2. Avoid names that are misleading, confusing, or deliberately controversial.

3. Do not copy or impersonate Orderly, other projects, companies, or individuals.  It is important to respect the intellectual property rights of others.

4. Choose branding that reflects originality, professionalism, and respect for the community.

#### **Talk Straight, Build Credibility**

1. Be transparent about your product, fees, risks, and governance.

2. Do not make exaggerated or misleading claims such as “guaranteed returns” or “risk-free profits.”

3. Keep your messaging consistent across your website, documentation, and community channels.

#### **Build for the Long Game**

1. Treat your users with fairness and respect.

2. Avoid pump-and-dump schemes, scams, or misleading gimmicks.

3. Do not adopt imagery, memes, or tactics that could be defamatory, abusive, or damaging to the ecosystem’s reputation.

#### **Be Compliant**

1. You are fully and solely responsible for ensuring your DEX complies with all applicable laws and regulations.    
     
2. Do carefully consider the users you allow on your platform.  Accepting users from certain countries may attract licensing requirements, while accepting users from sanctioned countries may result in your DEX enabling sanctioned activity.    
     
3. While it is tempting to name your DEX after a famous person, brand or event, this may breach intellectual property laws.    
     
4. While we have mentioned a few examples of legal considerations you should factor in for your DEX, this is by no means exhaustive, and these issues vary from DEX to DEX.  You should seek legal advice if you are unsure of the legal considerations for your DEX.  Orderly is not responsible for your DEX nor any such legal risks.

#### **How We Shine a Spotlight**

1. Orderly may choose to showcase projects on its channels, but this is always at our discretion.

2. Projects that show professionalism, transparency, and alignment with ecosystem values are more likely to be featured.

3. Projects that create reputational, legal, or regulatory risk will not be promoted.

#### **When We May Step In**

1. Access to Orderly One SDK, liquidity, and connectivity is provided at Orderly’s discretion.

2. Access may be suspended or withdrawn if a project engages in offensive, defamatory, misleading, or high-risk behaviour.

3. Access may also be suspended if a project creates reputational, legal, or regulatory risk.

4. These decisions are made to protect the integrity of the ecosystem and community.

#### **Examples: Do’s and Don’ts**

✓ Launch a DEX with a fun, clear, and professional name.  
 ✓ Communicate transparently about fees, risks, and governance.  
 ✓ Use branding that is original and consistent.  
 ✓ Build a community presence that is constructive and engaged.

✗ Launch with an offensive, misleading, or copied name.  
 ✗ Over-promise returns or imply official Orderly endorsement.  
 ✗ Use branding that imitates others or confuses users.  
 ✗ Engage in pump-and-dump style marketing that damages trust.

#### **Moving Forward Together**

Orderly One gives builders the tools to innovate, experiment, and scale. These Guidelines exist to protect both Orderly and the ecosystem by ensuring that projects built on our infrastructure maintain integrity while leaving room for creativity.

By building responsibly, and with personality, you strengthen your project and contribute to a community based on trust, transparency, and innovation.


### Supplemental Terms for DEXes

Source: [https://orderly.network/docs/introduction/orderly-one/supplemental-terms-for-dexes](https://orderly.network/docs/introduction/orderly-one/supplemental-terms-for-dexes)

Last updated: 1 October 2025

These Supplemental Terms govern your (“**your**”, “**Developer’s**” or “**Operator’s**”) use of the services and infrastructure (“**DEX Service**”) provided by Orderly for the purpose of building, deploying, or operating decentralized exchange front-ends or related applications that connect to Orderly’s infrastructure for omnichain liquidity and order-matching (each, a **“Front-End DEX”**).

These Supplemental Terms form part of, and are incorporated into, the General Terms of Service (the “**Terms**”), and are Supplemental Terms as defined in the Terms. In the event of conflict between these Supplemental Terms and the Terms, these Supplemental Terms shall prevail with respect to the DEX Service.  Capitalised terms not otherwise defined in these Supplemental Terms shall have the meanings given to them in the Terms.

By accessing, downloading, integrating, or using Orderly’s SDKs, infrastructure, or liquidity services for the operation of a Front-End DEX or otherwise using the DEX Service, you agree to be bound by both these Supplemental Terms and the Terms.

These Supplemental Terms may be amended by Orderly Network Ltd. at any time. Updates will be effective upon posting, in the manner set out in the Terms.

#### **1\. Independent Operation of Front-End DEXes**

1.1 Each Front-End DEX is to be independently developed and operated by the developer or operator. Orderly Network Ltd. does not own, control, monitor, sponsor, or endorse any Front-End DEX, and simply acts as a software solution for the Front-End DEX.

1.2 Operators are solely responsible for the operation, compliance, marketing, user relationships, and legal obligations of their Front-End DEX.  Operators understand and agree that operating a Front-End DEX comes with a substantial number of potential legal and regulatory considerations, including without limitation:

* licensing requirements;  
* KYC/AML requirements on its users, including requirements to prevent any money laundering activity on the Front-End DEX;  
* Sanctions restrictions imposed by the United Nations or a major country like the United States on certain users of the Front-End DEX;  
* Consumer protection laws and requirements imposed on the Front-End DEX to the benefit of its users;  
* Data privacy regulations, to the extent the Front-End DEX receives any;  
* Financial transaction laws, such as those prohibiting insider trading, market manipulation trading, trade reporting or filing obligations and others; and/or  
* Intellectual property rights in respect of any protected intellectual property being used by the Front-End DEX.

Orderly disclaims all responsibility for any of these risks given it is merely a decentralised software and technological solution with no control over the Front-End DEXes.  It is up to the Operators to assess and manage these risks in a compliant manner.  Orderly strongly advises Operators to seek independent professional advice for these risks. 

1.3 Users of a Front-End DEX interact and trade on the Front-End DEX at their own risk. Orderly Network Ltd. is not a party to those relationships and disclaims any liability arising from them.

#### **2\. Operator Responsibilities**

2.1 Operators must not represent their Front-End DEX as an official Orderly product. Operators may only state that their DEX is “built with Orderly infrastructure” or “powered by Orderly liquidity”.  Operators must seek Orderly’s prior approval before using the “Orderly” name or logo in any other manner.

2.2 Operators are responsible for ensuring that their Front-End DEX does not infringe intellectual property rights, violate laws or regulations, or use offensive, defamatory, or misleading branding.

2.3 Operators are solely responsible for ensuring that their Front-End DEX does not provide access to users located in restricted or sanctioned jurisdictions, including the United States, Cuba, Iran, North Korea, Syria, or any jurisdiction subject to comprehensive sanctions by the United States, United Nations, United Kingdom or European Union. Orderly Network Ltd. does not control, monitor, or approve the users of Front-End DEXes and disclaims all liability arising from access by restricted or sanctioned users.

2.4 Operators are responsible for compliance with all applicable laws, including financial services, consumer protection, and data protection requirements in the jurisdictions where they operate.

2.5 Operators acknowledge that Orderly Network Ltd. reserves the right, in its sole discretion, to restrict or terminate access to the DEX Service at any point in time, including without limitation, where Orderly determines a Front-End DEX:

* creates reputational, regulatory, or compliance risk to it or Orderly;

* facilitates or fails to prevent access by restricted or sanctioned users;

* infringes the rights of third parties, including intellectual property rights; or

* otherwise engages in activity that Orderly determines to be offensive, unlawful, or contrary to its ecosystem standards.

#### **3\. Prohibited Conduct**

Operators must not:

3.1 Use Orderly services to promote or facilitate unlawful, fraudulent, abusive, or misleading activity;

3.2 Operate a Front-End DEX with offensive, defamatory, or abusive names, content, or imagery;

3.3 Mislead users by promising guaranteed returns, risk-free profits, or regulatory endorsements without a legal basis; or

3.4 Engage in conduct that may damage Orderly Network Ltd.’s reputation, expose Orderly to regulatory or legal risk, or undermine community trust.

#### **4\. Security and Hack Risk**

4.1 Operators acknowledge that blockchain networks, smart contracts, and decentralized infrastructure may be vulnerable to hacks, exploits, and malicious activity.

4.2 Orderly Network Ltd. does not guarantee security or uninterrupted availability of its services and disclaims liability for losses resulting from such events no matter how they arise.

4.3 Operators must implement appropriate safeguards in their own Front-End DEXes to protect themselves and their users.

#### **5\. Suspension and Termination**

5.1 Access to Orderly’s services, SDKs, liquidity, or infrastructure is a privilege provided at the discretion of Orderly Network Ltd.

5.2 Orderly Network Ltd. may suspend or terminate a Front-End DEX’s access, with or without notice, at any time in its sole and absolute discretion, including without limitation if:

* the Front-End DEX exposes Orderly to reputational, regulatory, compliance, or legal risk;

* the Front-End DEX allows access by users in prohibited or sanctioned jurisdictions;

* the Front-End DEX infringes third-party rights, including intellectual property rights;

* the Front-End DEX otherwise breaches these Supplemental Terms or the Terms.

5.3 Suspension or termination may include delisting, removal from ecosystem promotion, or disconnection from Orderly infrastructure.

#### **6\. Indemnity**

Notwithstanding any other condition in the Terms, the Operators agree to indemnify and hold harmless Orderly Network Ltd. and its affiliates, officers, employees, and agents from any claims, damages, losses, or liabilities (including reasonable legal fees) arising out of or related to:

* the Operator’s operation of a Front-End DEX;

* any breach of these Supplemental Terms or the Terms;

* infringement of third-party rights, including intellectual property;

* violation of applicable laws or regulations.


### Orderly Distributor Program

Source: [https://orderly.network/docs/introduction/orderly-one/vanguard-distributor-program](https://orderly.network/docs/introduction/orderly-one/vanguard-distributor-program)

#### TL;DR

The Orderly Distributor Program is the core growth engine for the Orderly One ecosystem. It incentivizes **Distributors** to onboard new Builders (DEXs) through a tiered revenue-sharing model.

*   **Participant Role:** Anyone (EOA) or Builder Owners can participate as a Distributor.
*   **Profit Mechanism:** Revenue is generated via the "Fee Spread" between the Distributor’s tier and their Invitee’s tier.
*   **Scale Advantage:** Distributors level up using the aggregate volume of their entire invitee network plus their own volume.

#### 1. Participant Profile

| Feature | Distributor (EOA / Builder Owner) |
| :--- | :--- |
| **Role** | General users, Affiliates, or DEX Owners |
| **Revenue Stream** | Referral share (Spread between tiers) |
| **Revenue Settlement** | Trading account (EOA) or Builder admin account |

#### 2. Onboarding & Binding Rules

##### The 3-Step Setup

Access the portal at [dex.orderly.network/distributor/](https://dex.orderly.network/distributor/) to begin:

1.  **Connect:** Link an EOA wallet via Ethereum, Arbitrum One, or Base.
2.  **Activate:** Complete key creation to initialize the Distributor profile.
3.  **Share:** Use unique distributor codes or URLs to bind invitees.

##### Binding Rules (Guardrails)

*   **Unidirectional:** An invitee can only be bound to a single distributor.
*   **Non-Reciprocal:** Cross-referral (e.g., A invites B, B invites A) is strictly prohibited.
*   **Timing:** Binding must be established **at or before** the invitee’s DEX graduation.
*   **Immutability:** Once established, the binding relationship cannot be modified.
*   **Account Type Lock:** An EOA account registered as a Distributor cannot be converted into a Builder Admin account later.

#### 3. Orderly Tiering Programme

A distributor’s tier is determined by their **30-day Aggregate Volume** and **$ORDER Staking**.

##### Tiers & Privileges

| Tier | 30d Aggregate Volume | $ORDER Staked | Base Taker Fee | Tier Assignment Privilege |
| :--- | :--- | :--- | :--- | :--- |
| **Public** | ≥ $0 | ≥ 0 | 3.00 bps | - |
| **Silver** | ≥ $30M | ≥ 100K | 2.75 bps | - |
| **Gold** | ≥ $90M | ≥ 250K | 2.50 bps | Can assign Silver / Public |
| **Platinum** | ≥ $1B | ≥ 2M | 2.00 bps | Can assign Gold & below |
| **Diamond** | ≥ $10B | ≥ 7M | 1.00 bps | Can assign Platinum & below |

##### The Volume Formula

$$
\text{30d Aggregate Vol.} = \text{Distributor Personal Vol.} + \sum (\text{All Graduated Invitees' Vol.})
$$

Reference: [Orderly Builder Programme](/build-on-omnichain/user-flows/builder-staking-programme).

#### 4. Revenue Share Mechanics

##### The Core Equation

Distributors earn the "spread" between the invitee’s base fee and their own.

**Distributor Margin:**

$$
Margin = \max(0.1 \text{ bps}, \text{Invitee Base Fee} - \text{Distributor Base Fee})
$$

*(A guaranteed 0.1 bps minimum margin applies to Taker orders even if tiers are identical).*

#### 5. Settlement & Distribution

*   **Frequency:** Daily settlement at **00:00 UTC**.
*   **Automatic Distribution:**
    *   **Builder Owners:** Revenue is credited to the **Builder Admin Account**
    *   **General EOA:** Revenue is credited to the **Distributor**


## Build on Omnichain - Getting Started

### System Overview

Source: [https://orderly.network/docs/build-on-omnichain/building-on-omnichain](https://orderly.network/docs/build-on-omnichain/building-on-omnichain)

#### Introduction

Orderly provides the infrastructure and tools necessary for developers to build their own DeFi dApps by accessing an array of products Orderly offers.

Builders can create their own Perps DEX on top of a low latency and shared liquidity CLOB trading infrastructure, accessible from all the main EVM chains.

A trader on Polygon can trade against traders on other chains like Arbitrum or AVAX, without leaving Polygon.

No need to bridge funds, no extra complexities. Go to your favorite dApp, connect your wallet, and start trading.


#### High-level Architecture


There are three main layers:

**Asset Layer** \- resides on each chain Orderly supports
   * Users interact with this layer when registering/depositing/withdrawing

**Settlement Layer** \- resides on a single chain  
   * Users do not interact with this directly and is used as a transaction ledger

**Engine Layer** \- Orderbook and order-related services  
   * Users interact with this when managing orders


> **Info:** This guide is a WIP. If you have any suggestions or questions please contact us by [email](mailto:product@orderly.network?subject=Gitbook%20Feedback)


> **Info:** For questions regarding building with us, send us an [email](mailto:product@orderly.network?subject=Inquiry:%20Building%20On%20Orderly) or reach out in the [discord](http://discord.gg/OrderlyNetwork)


### Smart Contract Overview

Source: [https://orderly.network/docs/build-on-omnichain/overview](https://orderly.network/docs/build-on-omnichain/overview)

#### General Overview


  


#### Deposit Flow


  


#### Settle PnL Flow


  


#### Trade Flow


  


#### Withdrawal Flow


### Smart Contract Addresses

Source: [https://orderly.network/docs/build-on-omnichain/addresses](https://orderly.network/docs/build-on-omnichain/addresses)

> **Note:** Please note, ARB-Goerli & OP-Goerli support is deprecated as of Jan 16, 2024. We have now migrated
>   to Sepolia testnet.

#### Arbitrum

| Contract Name          | Mainnet Address (Arbitrum One)             | Testnet Address (Sepolia)                  |
| ---------------------- | ------------------------------------------ | ------------------------------------------ |
| USDC                   | 0xaf88d065e77c8cC2239327C5EDb3A432268e5831 | 0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d |
| USDT                   | 0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9 | 0xEf54C221Fc94517877F0F40eCd71E0A3866D66C2 |
| Vault                  | 0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9 | 0x0EaC556c0C2321BA25b9DC01e4e3c95aD5CDCd2f |
| VaultProxyAdmin        | 0xA2eA0a58b083c492AdC91A687FAc8B53AdB7c0Fd | 0xa3BB1F1Aa238AF13528965f069fD0a4F1595d8e9 |
| VaultCrossChainManager | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C | 0xc8E38C1Fd1422f49DB592BAe619080EA5Deb50e0 |
| CrossChainRelay        | 0x173B47eDBeCa665125edc24C509bfE545CDA60a9 | 0x25eB1e506608ab7eb8f91802e1dae6963848ED25 |

#### Optimism

| Contract Name          | Mainnet Address                            | Testnet Address (Sepolia)                  |
| ---------------------- | ------------------------------------------ | ------------------------------------------ |
| USDC                   | 0x0b2c639c533813f4aa9d7837caf62653d097ff85 | 0x5fd84259d66Cd46123540766Be93DFE6D43130D7 |
| Vault                  | 0x816f722424b49cf1275cc86da9840fbd5a6167e9 | 0xEfF2896077B6ff95379EfA89Ff903598190805EC |
| VaultProxyAdmin        | 0xA2eA0a58b083c492AdC91A687FAc8B53AdB7c0Fd | 0xEfD0cbED3f520cb59c6Cf8cE428a44978C18F8Fb |
| VaultCrossChainManager | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C | 0x6C14bf583C142B66EC59F8fc725B255e3a94BAA3 |
| CrossChainRelay        | 0x173B47eDBeCa665125edc24C509bfE545CDA60a9 | 0x09a766D6bcA1Fd8FdB6c09b76084719cF94d041b |

#### Base

| Contract Name          | Mainnet Address                            | Testnet Address (Sepolia)                  |
| ---------------------- | ------------------------------------------ | ------------------------------------------ |
| USDC                   | 0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913 | 0x036CbD53842c5426634e7929541eC2318f3dCF7e |
| Vault                  | 0x816f722424b49cf1275cc86da9840fbd5a6167e9 | 0xdc7348975aE9334DbdcB944DDa9163Ba8406a0ec |
| VaultProxyAdmin        | 0xA2eA0a58b083c492AdC91A687FAc8B53AdB7c0Fd | 0xe014a38501cF2B8139dED0b60Ed4FbD02C113b59 |
| VaultCrossChainManager | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C | 0xc8E38C1Fd1422f49DB592BAe619080EA5Deb50e0 |
| CrossChainRelay        | 0x173B47eDBeCa665125edc24C509bfE545CDA60a9 | 0x25eB1e506608ab7eb8f91802e1dae6963848ED25 |

#### Mantle

| Contract Name          | Mainnet Address                            | Testnet Address (Sepolia)                  |
| ---------------------- | ------------------------------------------ | ------------------------------------------ |
| USDC.e                 | 0x09bc4e0d864854c6afb6eb9a9cdf58ac190d0df9 | 0xAcab8129E2cE587fD203FD770ec9ECAFA2C88080 |
| Vault                  | 0x816f722424b49cf1275cc86da9840fbd5a6167e9 | 0xfb0E5f3D16758984E668A3d76f0963710E775503 |
| VaultProxyAdmin        | 0xa2ea0a58b083c492adc91a687fac8b53adb7c0fd | 0xdc7348975aE9334DbdcB944DDa9163Ba8406a0ec |
| VaultCrossChainManager | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C | 0xC0031c46DB3A30245400cf3095FdFbac064063DD |
| CrossChainRelay        | 0x173B47eDBeCa665125edc24C509bfE545CDA60a9 | 0x92DD844c209Cb519Ab85C5D8b5f0e3F254A8Cdb1 |

#### Ethereum

| Contract Name          | Mainnet Address                            | Testnet Address (Sepolia)                  |
| ---------------------- | ------------------------------------------ | ------------------------------------------ |
| USDC                   | 0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48 | 0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238 |
| USDT                   | 0xdAC17F958D2ee523a2206206994597C13D831ec7 | 0x01a6810727db185bbf7f30ec158c3ac8b8112627 |
| YUSD                   | 0x4274cd7277c7bb0806bd5fe84b9adae466a8da0a |                                            |
| WBTC                   | 0x2260fac5e5542a773aa44fbcfedf7c193bc2c599 |                                            |
| USD1                   | 0x8d0d000ee44948fc98c9b98a4fa4921476f08b0d |                                            |
| Vault                  | 0x816f722424b49cf1275cc86da9840fbd5a6167e9 | 0x0EaC556c0C2321BA25b9DC01e4e3c95aD5CDCd2f |
| VaultProxyAdmin        | 0xa2ea0a58b083c492adc91a687fac8b53adb7c0fd | 0xa3BB1F1Aa238AF13528965f069fD0a4F1595d8e9 |
| VaultCrossChainManager | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C | 0xE3a4d50b99758b5A07762B12a61F3832A63AE143 |
| CrossChainRelay        | 0x173B47eDBeCa665125edc24C509bfE545CDA60a9 | 0xfD89A24390BfEBbA227c0e8BcD4447d0c3A84FC2 |

#### SEI

| Contract Name          | Mainnet Address                            | Testnet Address |
| ---------------------- | ------------------------------------------ | --------------- |
| USDC                   | 0xe15fC38F6D8c56aF07bbCBe3BAf5708A2Bf42392 |                 |
| Vault                  | 0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9 |                 |
| VaultProxyAdmin        | 0xA2eA0a58b083c492AdC91A687FAc8B53AdB7c0Fd |                 |
| VaultCrossChainManager | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C |                 |
| CrossChainRelay        | 0x173B47eDBeCa665125edc24C509bfE545CDA60a9 |                 |

#### Avalanche

| Contract Name          | Mainnet Address                            | Testnet Address (Fuji)                     |
| ---------------------- | ------------------------------------------ | ------------------------------------------ |
| USDC                   | 0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E | 0x5425890298aed601595a70ab815c96711a31bc65 |
| Vault                  | 0x816f722424b49cf1275cc86da9840fbd5a6167e9 | 0xAB6c8F6245B67421302AAe30AcEB10E00c30F463 |
| VaultProxyAdmin        | 0xA2eA0a58b083c492AdC91A687FAc8B53AdB7c0Fd | 0xB483f9D0bD47371B54087983214887c3Be103b92 |
| VaultCrossChainManager | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C | 0x7246365Db2faeC60b8EF702Ba2c8Bbd5330E06F6 |
| CrossChainRelay        | 0x173B47eDBeCa665125edc24C509bfE545CDA60a9 | 0x9fA5512075be0FAa7f207aE42E02F34DE91E8256 |

#### Morph

| Contract Name          | Mainnet Address                            | Testnet Address (Holesky)                  |
| ---------------------- | ------------------------------------------ | ------------------------------------------ |
| USDC                   | 0xe34c91815d7fc18A9e2148bcD4241d0a5848b693 | 0x6dD7917d2558b88d7A4CB75ccBC05b83EE73eC0e |
| Vault                  | 0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9 | 0x11d60125F6F601eb1ebEAdE3DD3e8784E0884638 |
| VaultProxyAdmin        | 0xA2eA0a58b083c492AdC91A687FAc8B53AdB7c0Fd | 0xd5a526780DB88BD96e45a2897023EF91D1c67564 |
| VaultCrossChainManager | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C | 0x17233845f1CD96ef160E4D89Ef41c46264882F3C |
| CrossChainRelay        | 0x173B47eDBeCa665125edc24C509bfE545CDA60a9 | 0x1E1fF5737Db00aaCD7822F389d8b310b4c41863C |

#### Sonic

| Contract Name          | Mainnet Address                            | Testnet Address                            |
| ---------------------- | ------------------------------------------ | ------------------------------------------ |
| USDC                   | 0x29219dd400f2Bf60E5a23d13Be72B486D4038894 | 0x37f3E3CB84deA21d10cC8915889d3f3bFa6a1c24 |
| Vault                  | 0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9 | 0x7514E0ef065F154a7768F85c44a06EeB207c06e4 |
| VaultProxyAdmin        | 0xA2eA0a58b083c492AdC91A687FAc8B53AdB7c0Fd | 0x17D2FE3B2c7f1905A81E1aedD2edfA5FDe94A801 |
| VaultCrossChainManager | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C | 0x858113629af263CC960eC0Bd9934dE9aB2E7A704 |
| CrossChainRelay        | 0x173B47eDBeCa665125edc24C509bfE545CDA60a9 | 0xDf29Fd7DFc51e428Aa22e820AF1D2B90aE22A0E9 |

#### Monad

| Contract Name          | Mainnet Address                            | Testnet Address                            |
| ---------------------- | ------------------------------------------ | ------------------------------------------ |
| USDC                   | 0x754704Bc059F8C67012fEd69BC8A327a5aafb603 | 0x77F77926C6596c78f285D230Cd0dC8dC3540e3a6 |
| Vault                  | 0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9 | 0x9442e24203e999db4aE87E35Dc0c8F3C610c29A0 |
| VaultProxyAdmin        | 0xA2eA0a58b083c492AdC91A687FAc8B53AdB7c0Fd | 0x1b13c1dF66a17c8bcc4A6bB2Ed1e45313b0Eeb35 |
| VaultCrossChainManager | 0xA02e7DA50c7df5Fd22927B24Fa63B59ec8b22062 | 0xE99715DCD2044511cf7679d28cc1F9c39e5b75f8 |
| CrossChainRelay        | 0x461C12FBa639303Da045255dd32eEa7E38AC69b0 | 0xf0A705f6aA750b4a7100F1ff4b154c761FC454c1 |

#### Bera

| Contract Name          | Mainnet Address                            | Testnet Address |
| ---------------------- | ------------------------------------------ | --------------- |
| USDC                   | 0x549943e04f40284185054145c6e4e9568c1d3241 |                 |
| Vault                  | 0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9 |                 |
| VaultProxyAdmin        | 0xa2ea0a58b083c492adc91a687fac8b53adb7c0fd |                 |
| VaultCrossChainManager | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C |                 |
| CrossChainRelay        | 0x173b47edbeca665125edc24c509bfe545cda60a9 |                 |

#### Story

| Contract Name          | Mainnet Address                            | Testnet Address |
| ---------------------- | ------------------------------------------ | --------------- |
| USDC                   | 0xF1815bd50389c46847f0Bda824eC8da914045D14 |                 |
| Vault                  | 0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9 |                 |
| VaultProxyAdmin        | 0xA2eA0a58b083c492AdC91A687FAc8B53AdB7c0Fd |                 |
| VaultCrossChainManager | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C |                 |
| CrossChainRelay        | 0x173b47edbeca665125edc24c509bfe545cda60a9 |                 |

#### Mode

| Contract Name          | Mainnet Address                            | Testnet Address |
| ---------------------- | ------------------------------------------ | --------------- |
| USDC                   | 0xd988097fb8612cc24eeC14542bC03424c656005f |                 |
| Vault                  | 0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9 |                 |
| VaultProxyAdmin        | 0xA2eA0a58b083c492AdC91A687FAc8B53AdB7c0Fd |                 |
| VaultCrossChainManager | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C |                 |
| CrossChainRelay        | 0x173b47edbeca665125edc24c509bfe545cda60a9 |                 |

#### Plume

| Contract Name          | Mainnet Address                            | Testnet Address |
| ---------------------- | ------------------------------------------ | --------------- |
| USDC                   | 0x78adD880A697070c1e765Ac44D65323a0DcCE913 |                 |
| Vault                  | 0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9 |                 |
| VaultProxyAdmin        | 0xA2eA0a58b083c492AdC91A687FAc8B53AdB7c0Fd |                 |
| VaultCrossChainManager | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C |                 |
| CrossChainRelay        | 0x173B47eDBeCa665125edc24C509bfE545CDA60a9 |                 |

#### Abstract

| Contract Name          | Mainnet Address                            | Testnet Address                            |
| ---------------------- | ------------------------------------------ | ------------------------------------------ |
| USDC                   | 0x84A71ccD554Cc1b02749b35d22F684CC8ec987e1 | 0xa0BB43E2eA7fcE91F07e628d72fD6333e80F47D2 |
| Vault                  | 0xE80F2396A266e898FBbD251b89CFE65B3e41fD18 | 0x2c65ea2eE7265df755d7258291202690c27C6d2d |
| VaultProxyAdmin        | 0x80393Db20493CD0a6B9fB2e62892A1691db7435D | 0xa61F6d749bf80257E116705a7763aD0d105028fE |
| VaultCrossChainManager | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C | 0x30207b453a2cA665A2Cea2B53c98d4Ed3aFeA80F |
| CrossChainRelay        | 0x173b47edbeca665125edc24c509bfe545cda60a9 | 0x1cAC12A4c449D47B455D2c64C3bea1429Ffc658f |

#### BNB Smart Chain

| Contract Name          | Mainnet Address                            | Testnet Address                            |
| ---------------------- | ------------------------------------------ | ------------------------------------------ |
| USDC                   | 0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d | 0x31873b5804bABE258d6ea008f55e08DD00b7d51E |
| USDT                   | 0x55d398326f99059fF775485246999027B3197955 | 0xE8709025f99dd1B8533FB9b78Ca879Ee4ec7E70a |
| YUSD                   | 0xAB3dBcD9B096C3fF76275038bf58eAC10D22C61f |                                            |
| USD1                   | 0x8d0d000ee44948fc98c9b98a4fa4921476f08b0d |                                            |
| Vault                  | 0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9 | 0xaf2036D5143219fa00dDd90e7A2dbF3E36dba050 |
| VaultProxyAdmin        | 0xA2eA0a58b083c492AdC91A687FAc8B53AdB7c0Fd | 0x53D61a2bBb737985d68809ab85eA59aD29882D99 |
| VaultCrossChainManager | 0x6Fb848801aCa77E724A8AB22D0006cb317e69492 | 0x8677718760f058A20fA04613d6Bf10aB306616C5 |
| CrossChainRelay        | 0x461C12FBa639303Da045255dd32eEa7E38AC69b0 | 0x60d918c08cfD9Eeb11b3300e0566189FcB8Df09C |

#### Solana

| Contract Name             | Mainnet Address                              | Devnet Address (Arctic)                      |
| ------------------------- | -------------------------------------------- | -------------------------------------------- |
| USDC Mint                 | EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v | 4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU |
| USDT                      | Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB |                                              |
| SolConnector(PeerAddress) | 0xCecAe061aa078e13b5e70D5F9eCee90a3F2B6AeA   | 0x5Bf771A65d057e778C5f0Ed52A0003316f94322D   |
| Solana-Vault              | ErBmAD61mGFKvrFNaTJuxoPwqrS8GgtwtqJTJVjFWx9Q | 9shwxWDUNhtwkHocsUAmrNAQfBH2DHh4njdAEdHZZkF2 |
| Vault Authority           | 2AoLiH5kVBG2ot1qKoh4ro8F95KQb7HEBbJmkxrwYBec | CT9AgCVpWQCuPyVMriYKxTdrkH5DFmn2oiYhGKcNwPCm |
| OAPP Config               | 4ffJMy1qwt9bD9r9Ty1VsdYECaDR88sP6JD1EFM7T1Np | 5YsvfmqrMY9KWskY1e1uU2haJJZZHK7UAw8V6qpDsYm5 |
| Nonce                     | ENvNRNpE9dRZ8oj88SCCtgFcCpthdHwneb8D7kpZNoPB | H26FHztWj6ACQPVbMzA1MAhaq7mv6uXNoQRK9qwiZwT3 |
| Peer                      | CGvDvUb3CRp7HVtN8UZL89nZUzYqJMwmHTMZgh1Lf4z6 | 5cX2eHYKTJLSJknNxFP1o79VKkB85qGVcR1Jys78pn9T |
| Vault USDC Account        | 77puyQ4K4ov82qzBuda4q9iMh2Ux49YnnBNWqxQkcrXE | HL4NkDbY9FgQySWJwpK92W8iXq1b5wovLvL7K3roedCj |
| Lookup Table              | 8iq7xCQt3bLdRRn4A46d5GuaXYinBoiAhbe2sUmZVzwg | BbGKfxuPwDmu58BjPpd7PMG69TqnZjSpKaLDMgf9E9Dr |

##

#### Orderly L2 (chainID: 291)

Explorer: [explorer.orderly.network](https://explorer.orderly.network/)

| Contract Name                                        | Mainnet Address                            | Testnet Address                            |
| ---------------------------------------------------- | ------------------------------------------ | ------------------------------------------ |
| Ledger (verifying contract for EIP-712 withdraw msg) | 0x6F7a338F2aA472838dEFD3283eB360d4Dff5D203 | 0x1826B75e2ef249173FC735149AE4B8e9ea10abff |
| LedgerProxyAdmin                                     | 0xA2eA0a58b083c492AdC91A687FAc8B53AdB7c0Fd | 0x24ea35cCD9d8c7aA5D35BDdc140A5f97D89289F8 |
| OperatorManager                                      | 0x7CC5B6433eb33164c88F6512f56C566CFC3420BF | 0x1A46be28AB241F5A64F82ddFc384911520E3d557 |
| VaultManager                                         | 0x14a6342A8C1Ef9856898F510FcCE377e46668F33 | 0x873c120b42C80D528389d85cEA9d4dC0197974aD |
| LedgerCrossChainManager                              | 0xa0a07a78c7d31E6f8698F48Fc9219f9a3030f38C | 0xb592011550a7E2a85c69EdF1788F460075b958fc |
| LedgerCrossChainRelay                                | 0x173B47eDBeCa665125edc24C509bfE545CDA60a9 | 0xa1a9C94bb24B09739Af80E6EfaB7ca0F576182bc |

> **Note:** A list of chainIDs can be found on [ChainList](https://chainlist.org/).

> **Note:** Latest contract ABI files can be found on our
>   [GitHub](https://github.com/OrderlyNetwork/contract-evm-abi). All of our contracts are verified,
>   so you can also see the ABI on their respective explorers.


### Partner Support

Source: [https://orderly.network/docs/build-on-omnichain/partner-support](https://orderly.network/docs/build-on-omnichain/partner-support)

#### Introduction

Orderly provides unparalleled opportunities for developers to bring their visionary projects to life. This page will list the myriad of resources and support systems that Orderly offers, illustrating why it's the go-to platform for developers seeking to make a significant impact in DeFi.

#### Community Resources

##### Ambassador Program

Engage with our Ambassador Program to connect with other innovators and gain insights into the latest DeFi trends and strategies. Ambassadors play a crucial role in spreading knowledge and fostering a supportive environment for new developers.

##### Community Chat

Join our Community Chat platforms to network with fellow developers, share your experiences, and collaborate on solutions. This active forum is perfect for real-time advice and support from the Orderly community.

#### Developer Support

##### Marketing and Go-to-Market Strategy

Leverage our expert marketing team to craft compelling go-to-market strategies that ensure your project reaches its target audience effectively. We provide customized support to enhance your project's visibility and user acquisition.

##### Developer Tooling

Access a comprehensive suite of developer tools designed to streamline your development process. From advanced APIs to customizable SDKs, we provide everything you need to build, test, and deploy your applications with ease.

##### Technical Integration Support

Our technical support team is available to assist with the integration of Orderly’s features into your projects. Whether you need help troubleshooting or optimizing your code, we're here to ensure a smooth integration.

##### Partnerships

Explore partnership opportunities that can open new avenues for collaboration and growth. Orderly’s extensive network of industry partners can help scale your project and enhance its capabilities.

##### Grants and Investment Opportunities

Take advantage of our grants and investment opportunities to secure the funding you need to advance from prototype to full-scale deployment. We support promising projects at every stage of their development to ensure they have the resources necessary to succeed.


### Integration Checklist

Source: [https://orderly.network/docs/build-on-omnichain/integration-checklist](https://orderly.network/docs/build-on-omnichain/integration-checklist)

#### Pre-Integration

##### Tech Stack Selection

Decide on programming languages, frameworks, and tools compatible with Orderly's APIs. Orderly offers the following tools to ease the integration (every tool has comprehensive documentation, code examples for each major user flow, as well as PoCs):

- Directly to API

- [Python connector](https://github.com/OrderlyNetwork/orderly-evm-connector-python)

- TS SDK

  - [React Hooks](/sdks/hooks/overview)

  - [React UI components](/sdks/react/overview)

##### GTM Plan

Develop a go-to-market strategy in collaboration with Orderly, including timelines and milestones.

##### Development Planning

Outline the scope, objectives, and phases of development, ensuring alignment with Orderly's architecture and capabilities.

Dev kick-off call to verify the final product is in line with Orderly architecture and capabilities and establish any needed support from Orderly.

#### Development

Main flows to cover:

- **Builder Setup:** Get [in touch](mailto:product@orderly.network) with Orderly team to set up broker_id, builder admin wallet, and default fee rates.

- **Deposit & Withdrawal Processes:** Establish secure and efficient mechanisms for handling deposits and withdrawals. Documentation [here](/build-on-omnichain/user-flows/withdrawal-deposit).

- **Account Registration:** Registering a user account with Orderly. Each user’s wallet can have one account per builder on Orderly. Documentation [here](/build-on-omnichain/user-flows/accounts).

- **Orderly Keys Management:** Implement creation and management of Orderly Keys for each user. Documentation [here](/build-on-omnichain/user-flows/wallet-authentication#orderly-key).

- **Trading Functionality:** Integrate and test trading features, including order placement and execution, order types, markets, and appropriate margin/collater calculations.

  - Although all information can be retrieved through the APIs, performing calculations in the front end is recommended so data is more dynamic with the market conditions.

> **Note:** Submit reduce-only orders for orders reducing the position, as reduce-only orders don't count
>   against IMR. If a user wants to close a position and the order is not submited as reduce-only,
>   user might run into IMR requirements issues if they don't have enough margin to submit the order,
>   preventing the user from closing the position.

- **User Data Management:** Being able to display proper user data, like trade history, assets/collater, and open positions.

- **Market Data Integration:** Integrate real-time market data feeds for accurate trading and analysis. Implement trading view charts and order book/market trades display.

- **Fee Setting:** Set up a fee rate-setting system.

  - Orderly offers a tool for volume-based fee rate setting which can be found on our [GitHub](https://github.com/OrderlyNetwork/orderly-evm-broker-fee-admin).

- **Settle PnL:** Implement and test the profit and loss settlement processes.

- **Ensure Regulatory Compliance:** Verify that all features comply with relevant regulations and geo-block in necessary jurisdictions.

#### Post-integration

**Orderly Announcements Channel:** Join the builder Telegram channel for updates and announcements.

**Maintenance Preparation:** Set up procedures for regular maintenance and updates.

    - Get maintenance notifications through our Telegram channel and check if the system is under maintenance through an [API endpoint](/build-on-omnichain/evm-api/restful-api/public/get-system-maintenance-status).

    - Give users an option to cancel all pending orders during maintenance. Can be done through [this API](/build-on-omnichain/evm-api/restful-api/private/set-maintenance-config).

> **Warning:** Market prices, order book, user positions, user orders, user balances, and similar data will NOT be available during maintenance.
> 
> Pending orders do not get cancelled if not configured and open positions stay open during maintenance so positions can get liquidated.
> 
> Trading may resume at a different price after maintenance.

**Tech Support Setup:** Establish a technical support system for handling user queries and technical issues. Orderly has a tech support team to handle any user or tech issues builders may encounter.


### Integration FAQs

Source: [https://orderly.network/docs/build-on-omnichain/integration-faqs](https://orderly.network/docs/build-on-omnichain/integration-faqs)

**What is Orderly?:**

Orderly is a combination of an orderbook-based trading infrastructure and a robust liquidity layer offering perpetual futures orderbooks. Unlike traditional platforms, Orderly doesn’t have a front end; instead, it operates at the core of the ecosystem, providing essential services to projects built on top of it.

Our DEX white-label solution is carefully crafted to save builders time and capital while granting access to our bootstrapped liquidity. Picture having the best features of CEXs while keeping settlements on-chain and maintaining full self-custody.

With Orderly, anyone can create a trading application thanks to our seamless plug-and-play experience leveraging our liquidity and composability.

Looking ahead, our grand vision is to create an omnichain protocol, connecting traders from both EVM and non-EVM chains within the same orderbook.

  

   **How to integrate?:**

Orderly offers multiple integration pathways: 
- [React UI components](/sdks/react/overview)
- [React hooks](/sdks/hooks/overview)
- [Python connector](https://github.com/OrderlyNetwork/orderly-evm-connector-python)
- Direct API access

Documentation and examples for these can be found on their respective GitHub repositories and the official documentation site.

  

  **Creating a builder ID:**

Not everyone needs a builder ID.

If you are an API trader please select any available builder to trade on [here](/build-on-omnichain/evm-api/restful-api/public/get-builder-list).

If you are a builder looking to host a front-end, onboard traders, and earn revenue share, you can get in touch via [email](mailto::product@orderly.network).

  

**Fee setting, default fees, and custom fee rates:**

  More on fees can be found [here](/build-on-omnichain/user-flows/custom-fees)


**Builder fee rebate distribution:**

  Fees builders collect on top of Orderly base fee are collected by Orderly directly at the time of the trade. Rebates are then sent to each builder's admin wallet account daily.

To claim the rebate, builders need to log in on their own interface with the admin wallet and withdraw.


**Builder admin wallet:**

  Builder admin wallet is a wallet provided at the time of builder ID setup and has to be an EOA.
  Builder admin wallet is used for:
   - Receiving fee rebates daily 
   - Accessing certain endpoints that require builder admin authentication such as changing user fees. Endpoints that require builder
  admin authentication will note that in the API page description.


**Obtaining user data:**


Most user data can only be accessed by the user with user's trading key. Only builder endpoints allow user data retrieval for their own users.


## Build on Omnichain - User Flows

### Accounts

Source: [https://orderly.network/docs/build-on-omnichain/user-flows/accounts](https://orderly.network/docs/build-on-omnichain/user-flows/accounts)

#### Account Structure

A wallet owner can register an account on Orderly for each builder that is supported. Each wallet owner could thus have multiple accounts (that are not interlinked with each other) registered with Orderly.

##### Account ID

Each account is identified by an account id, which can be calculated by


  **Step: Converting the wallet address to bytes**

  
  **Step: Converting the keccak256 hash of the `brokerId` string to bytes**

  
  **Step: ABI encoding (1) and (2)**

  
  **Step: Converting back to Hex String, the keccak256 hash of the result of (3)**

    
```ts TypeScript

  const abicoder = AbiCoder.defaultAbiCoder();
  return keccak256(
    abicoder.encode(
      ['address', 'bytes32'],
      [userAddress, solidityPackedKeccak256(['string'], [brokerId])]
    )
  );
}
```
    
  


#### Account Registration

Follow the following steps to register an account on Orderly:


  **Step: Choose a valid chain/builder to register the account on**

    List of chains can be found [here](build-on-omnichain/addresses) and supported builders through [Get list of builders API](/build-on-omnichain/evm-api/restful-api/public/get-builder-list).
  
  **Step: Check if the wallet is already registered or account exists**

     Check if the wallet is already registered via [this](/build-on-omnichain/evm-api/restful-api/public/check-if-wallet-is-registered) API or if account already exisists via [this](/build-on-omnichain/evm-api/restful-api/public/check-if-account-exists) API.
  
  **Step: Obtain a registration nonce**

    Get a nonce from [Get Registration Nonce API](/build-on-omnichain/evm-api/restful-api/public/get-registration-nonce).

    **Example code:**

      

```Java Java
String baseUrl = "https://testnet-api.orderly.org";

OkHttpClient client = new OkHttpClient();

Request nonceReq = new Request.Builder()
      .url(baseUrl + "/v1/registration_nonce")
      .build();
String nonceRes;
try (Response response = client.newCall(nonceReq).execute()) {
    nonceRes = response.body().string();
}
JSONObject nonceObj = new JSONObject(nonceRes);

String registrationNonce = nonceObj.getJSONObject("data").getString("registration_nonce");
```

```py Python
base_url = "https://testnet-api.orderly.org"

res = requests.get("%s/v1/registration_nonce" % base_url)
response = json.loads(res.text)
registration_nonce = response["data"]["registration_nonce"]
```

```ts TypeScript
const BASE_URL = "https://testnet-api.orderly.org";

const nonceRes = await fetch(`${BASE_URL}/v1/registration_nonce`);
const nonceJson = await nonceRes.json();
const registrationNonce = nonceJson.data.registration_nonce as string;
```

      
    

  
  **Step: Obtain a signature from EIP-712**

    Sign a message from the wallet in the following format using the EIP-712 standard and obtain the signature.

```json
{
  "brokerId": "woofi_dex",
  "chainId": 80001,
  "timestamp": 1685973017064,
  "registrationNonce": "194528949540"
}
```

where:

| **Name**          | **Type**  | **Required** | **Description**                                                                                            |
| ----------------- | --------- | ------------ | ---------------------------------------------------------------------------------------------------------- |
| brokerId          | string    | Y            | Builder ID                                                                                                  |
| chainId           | int       | Y            | Chain ID of registering chain (within those that are supported by the Network)                             |
| timestamp         | timestamp | Y            | timestamp in UNIX milliseconds                                                                             |
| registrationNonce | string    | Y            | Valid nonce from Get [Registration Nonce](/build-on-omnichain/evm-api/restful-api/public/get-registration-nonce) |

    **Example code:**

      

```Java Java
JSONObject MESSAGE_TYPES = new JSONObject("""
  {
    "EIP712Domain": [
        {"name": "name", "type": "string"},
        {"name": "version", "type": "string"},
        {"name": "chainId", "type": "uint256"},
        {"name": "verifyingContract", "type": "address"},
    ],
    "Registration": [
        {"name": "brokerId", "type": "string"},
        {"name": "chainId", "type": "uint256"},
        {"name": "timestamp", "type": "uint64"},
        {"name": "registrationNonce", "type": "uint256"},
    ],
  }""");

JSONObject OFF_CHAIN_DOMAIN = new JSONObject("""
  {
    "name": "Orderly",
    "version": "1",
    "chainId": 421614,
    "verifyingContract": "0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC",
  }""");

String brokerId = "woofi_dex";
int chainId = 421614;

Dotenv dotenv = Dotenv.load();
String pk = dotenv.get("PRIVATE_KEY");
Credentials credentials = Credentials.create(ECKeyPair.create(Hex.decodeHex(pk)));

JSONObject registerMessage = new JSONObject();
registerMessage.put("brokerId", brokerId);
registerMessage.put("chainId", chainId);
registerMessage.put("timestamp", Instant.now().toEpochMilli());
registerMessage.put("registrationNonce", registrationNonce);

JSONObject jsonObject = new JSONObject();
jsonObject.put("types", RegisterExample.MESSAGE_TYPES);
jsonObject.put("primaryType", "Registration");
jsonObject.put("domain", RegisterExample.OFF_CHAIN_DOMAIN);
jsonObject.put("message", registerMessage);

Sign.SignatureData signature = Sign.signTypedData(jsonObject.toString(), credentials.getEcKeyPair());
```

```py Python
MESSAGE_TYPES = {
    "EIP712Domain": [
        {"name": "name", "type": "string"},
        {"name": "version", "type": "string"},
        {"name": "chainId", "type": "uint256"},
        {"name": "verifyingContract", "type": "address"},
    ],
    "Registration": [
        {"name": "brokerId", "type": "string"},
        {"name": "chainId", "type": "uint256"},
        {"name": "timestamp", "type": "uint64"},
        {"name": "registrationNonce", "type": "uint256"},
    ],
}

OFF_CHAIN_DOMAIN = {
    "name": "Orderly",
    "version": "1",
    "chainId": 421614,
    "verifyingContract": "0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC",
}

broker_id = "woofi_dex"
chain_id = 421614

account: Account = Account.from_key(os.environ.get("PRIVATE_KEY"))

d = datetime.utcnow()
epoch = datetime(1970, 1, 1)
timestamp = math.trunc((d - epoch).total_seconds() * 1_000)

register_message = {
    "brokerId": broker_id,
    "chainId": chain_id,
    "timestamp": timestamp,
    "registrationNonce": registration_nonce,
}

encoded_data = messages.encode_typed_data(
    domain_data=OFF_CHAIN_DOMAIN,
    message_types={"Registration": MESSAGE_TYPES["Registration"]},
    message_data=register_message,
)
signed_message = account.sign_message(encoded_data)
```

```ts TypeScript
const MESSAGE_TYPES = {
  EIP712Domain: [
    { name: "name", type: "string" },
    { name: "version", type: "string" },
    { name: "chainId", type: "uint256" },
    { name: "verifyingContract", type: "address" }
  ],
  Registration: [
    { name: "brokerId", type: "string" },
    { name: "chainId", type: "uint256" },
    { name: "timestamp", type: "uint64" },
    { name: "registrationNonce", type: "uint256" }
  ]
};

const OFF_CHAIN_DOMAIN = {
  name: "Orderly",
  version: "1",
  chainId: 421614,
  verifyingContract: "0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"
};

const BASE_URL = "https://testnet-api.orderly.org";
const BROKER_ID = "woofi_dex";
const CHAIN_ID = 421614;

const wallet = new ethers.Wallet(process.env.PRIVATE_KEY!);

const registerMessage = {
  brokerId: BROKER_ID,
  chainId: CHAIN_ID,
  timestamp: Date.now(),
  registrationNonce
};

const signature = await wallet.signTypedData(
  OFF_CHAIN_DOMAIN,
  {
    Registration: MESSAGE_TYPES.Registration
  },
  registerMessage
);
```

      
    

  
  **Step: Register account**

    Send all the necessary information via [Register account API](/build-on-omnichain/evm-api/restful-api/public/register-account).

    **Example code:**

      

```Java Java
String baseUrl = "https://testnet-api.orderly.org";

JSONObject jsonBody = new JSONObject();
jsonBody.put("message", registerMessage);
jsonBody.put("signature", RegisterExample.signatureToHashString(signature));
jsonBody.put("userAddress", credentials.getAddress());
RequestBody body = RequestBody.create(jsonBody.toString(), MediaType.get("application/json"));
Request registerReq = new Request.Builder()
      .url(baseUrl + "/v1/register_account")
      .post(body)
      .build();
String registerRes;
try (Response response = client.newCall(registerReq).execute()) {
    registerRes = response.body().string();
}
JSONObject registerObj = new JSONObject(registerRes);

String orderlyAccountId = registerObj.getJSONObject("data").getString("account_id");
System.out.println("orderlyAccountId: " + orderlyAccountId);

// ...

public static String signatureToHashString(Sign.SignatureData signature) {
    byte[] retval = new byte[65];
    System.arraycopy(signature.getR(), 0, retval, 0, 32);
    System.arraycopy(signature.getS(), 0, retval, 32, 32);
    System.arraycopy(signature.getV(), 0, retval, 64, 1);
    return Numeric.toHexString(retval);
}
```

```py Python
base_url = "https://testnet-api.orderly.org"

res = requests.post(
    "%s/v1/register_account" % base_url,
    headers={"Content-Type": "application/json"},
    json={
        "message": register_message,
        "signature": signed_message.signature.hex(),
        "userAddress": account.address,
    },
)
response = json.loads(res.text)

orderly_account_id = response["data"]["account_id"]
print("orderly_account_id:", orderly_account_id)
```

```ts TypeScript
const BASE_URL = "https://testnet-api.orderly.org";

const registerRes = await fetch(`${BASE_URL}/v1/register_account`, {
  method: "POST",
  headers: {
    "Content-Type": "application/json"
  },
  body: JSON.stringify({
    message: registerMessage,
    signature,
    userAddress: await wallet.getAddress()
  })
});
const registerJson = await registerRes.json();
if (!registerJson.success) {
  throw new Error(registerJson.message);
}
const orderlyAccountId = registerJson.data.account_id;
console.log("orderlyAccountId", orderlyAccountId);
```

      
    

  


##### Full example


```Java Java


public class RegisterExample {
public static JSONObject MESSAGE_TYPES = new JSONObject("""
{
"EIP712Domain": [
{"name": "name", "type": "string"},
{"name": "version", "type": "string"},
{"name": "chainId", "type": "uint256"},
{"name": "verifyingContract", "type": "address"},
],
"Registration": [
{"name": "brokerId", "type": "string"},
{"name": "chainId", "type": "uint256"},
{"name": "timestamp", "type": "uint64"},
{"name": "registrationNonce", "type": "uint256"},
],
}""");

public static JSONObject OFF_CHAIN_DOMAIN = new JSONObject("""
{
"name": "Orderly",
"version": "1",
"chainId": 421614,
"verifyingContract": "0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC",
}""");

public static void main(String[] args) throws Exception {
String baseUrl = "https://testnet-api.orderly.org";
String brokerId = "woofi_dex";
int chainId = 421614;

      Dotenv dotenv = Dotenv.load();
      String pk = dotenv.get("PRIVATE_KEY");
      Credentials credentials = Credentials.create(ECKeyPair.create(Hex.decodeHex(pk)));
      OkHttpClient client = new OkHttpClient();

      Request nonceReq = new Request.Builder()
            .url(baseUrl + "/v1/registration_nonce")
            .build();
      String nonceRes;
      try (Response response = client.newCall(nonceReq).execute()) {
         nonceRes = response.body().string();
      }
      JSONObject nonceObj = new JSONObject(nonceRes);

      String registrationNonce = nonceObj.getJSONObject("data").getString("registration_nonce");

      JSONObject registerMessage = new JSONObject();
      registerMessage.put("brokerId", brokerId);
      registerMessage.put("chainId", chainId);
      registerMessage.put("timestamp", Instant.now().toEpochMilli());
      registerMessage.put("registrationNonce", registrationNonce);

      JSONObject jsonObject = new JSONObject();
      jsonObject.put("types", RegisterExample.MESSAGE_TYPES);
      jsonObject.put("primaryType", "Registration");
      jsonObject.put("domain", RegisterExample.OFF_CHAIN_DOMAIN);
      jsonObject.put("message", registerMessage);

      Sign.SignatureData signature = Sign.signTypedData(jsonObject.toString(), credentials.getEcKeyPair());

      JSONObject jsonBody = new JSONObject();
      jsonBody.put("message", registerMessage);
      jsonBody.put("signature", RegisterExample.signatureToHashString(signature));
      jsonBody.put("userAddress", credentials.getAddress());
      RequestBody body = RequestBody.create(jsonBody.toString(), MediaType.get("application/json"));
      Request registerReq = new Request.Builder()
            .url(baseUrl + "/v1/register_account")
            .post(body)
            .build();
      String registerRes;
      try (Response response = client.newCall(registerReq).execute()) {
         registerRes = response.body().string();
      }
      JSONObject registerObj = new JSONObject(registerRes);

      String orderlyAccountId = registerObj.getJSONObject("data").getString("account_id");
      System.out.println("orderlyAccountId: " + orderlyAccountId);

}

public static String signatureToHashString(Sign.SignatureData signature) {
byte[] retval = new byte[65];
System.arraycopy(signature.getR(), 0, retval, 0, 32);
System.arraycopy(signature.getS(), 0, retval, 32, 32);
System.arraycopy(signature.getV(), 0, retval, 64, 1);
return Numeric.toHexString(retval);
}
}

````

```py Python
from datetime import datetime


from eth_account import Account, messages


MESSAGE_TYPES = {
    "EIP712Domain": [
        {"name": "name", "type": "string"},
        {"name": "version", "type": "string"},
        {"name": "chainId", "type": "uint256"},
        {"name": "verifyingContract", "type": "address"},
    ],
    "Registration": [
        {"name": "brokerId", "type": "string"},
        {"name": "chainId", "type": "uint256"},
        {"name": "timestamp", "type": "uint64"},
        {"name": "registrationNonce", "type": "uint256"},
    ],
}

OFF_CHAIN_DOMAIN = {
    "name": "Orderly",
    "version": "1",
    "chainId": 421614,
    "verifyingContract": "0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC",
}

base_url = "https://testnet-api.orderly.org"
broker_id = "woofi_dex"
chain_id = 421614

account: Account = Account.from_key(os.environ.get("PRIVATE_KEY"))

res = requests.get("%s/v1/registration_nonce" % base_url)
response = json.loads(res.text)
registration_nonce = response["data"]["registration_nonce"]

d = datetime.utcnow()
epoch = datetime(1970, 1, 1)
timestamp = math.trunc((d - epoch).total_seconds() * 1_000)

register_message = {
    "brokerId": broker_id,
    "chainId": chain_id,
    "timestamp": timestamp,
    "registrationNonce": registration_nonce,
}

encoded_data = messages.encode_typed_data(
    domain_data=OFF_CHAIN_DOMAIN,
    message_types={"Registration": MESSAGE_TYPES["Registration"]},
    message_data=register_message,
)
signed_message = account.sign_message(encoded_data)

res = requests.post(
    "%s/v1/register_account" % base_url,
    headers={"Content-Type": "application/json"},
    json={
        "message": register_message,
        "signature": signed_message.signature.hex(),
        "userAddress": account.address,
    },
)
response = json.loads(res.text)

orderly_account_id = response["data"]["account_id"]
print("orderly_account_id:", orderly_account_id)
````

```ts TypeScript


const MESSAGE_TYPES = {
  EIP712Domain: [
    { name: "name", type: "string" },
    { name: "version", type: "string" },
    { name: "chainId", type: "uint256" },
    { name: "verifyingContract", type: "address" }
  ],
  Registration: [
    { name: "brokerId", type: "string" },
    { name: "chainId", type: "uint256" },
    { name: "timestamp", type: "uint64" },
    { name: "registrationNonce", type: "uint256" }
  ]
};

const OFF_CHAIN_DOMAIN = {
  name: "Orderly",
  version: "1",
  chainId: 421614,
  verifyingContract: "0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"
};

const BASE_URL = "https://testnet-api.orderly.org";
const BROKER_ID = "woofi_dex";
const CHAIN_ID = 421614;

config();

async function registerAccount(): Promise<void> {
  const wallet = new ethers.Wallet(process.env.PRIVATE_KEY!);

  const nonceRes = await fetch(`${BASE_URL}/v1/registration_nonce`);
  const nonceJson = await nonceRes.json();
  const registrationNonce = nonceJson.data.registration_nonce as string;

  const registerMessage = {
    brokerId: BROKER_ID,
    chainId: CHAIN_ID,
    timestamp: Date.now(),
    registrationNonce
  };

  const signature = await wallet.signTypedData(
    OFF_CHAIN_DOMAIN,
    {
      Registration: MESSAGE_TYPES.Registration
    },
    registerMessage
  );

  const registerRes = await fetch(`${BASE_URL}/v1/register_account`, {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({
      message: registerMessage,
      signature,
      userAddress: await wallet.getAddress()
    })
  });
  const registerJson = await registerRes.json();
  if (!registerJson.success) {
    throw new Error(registerJson.message);
  }
  const orderlyAccountId = registerJson.data.account_id;
  console.log("orderlyAccountId", orderlyAccountId);
}

registerAccount();
```


### Wallet Authentication

Source: [https://orderly.network/docs/build-on-omnichain/user-flows/wallet-authentication](https://orderly.network/docs/build-on-omnichain/user-flows/wallet-authentication)

#### EIP-712

Orderly relies on the [EIP-712](https://eips.ethereum.org/EIPS/eip-712) standard to authenticate wallets and accounts for critical actions, such as:

* Account creation

* Orderly key addition

* Withdrawal requests

For these actions, wallet owners will need to sign specific messages from their wallet and pass the signature through the REST APIs to complete the action. The following sections describe the steps needed to complete these actions.

For other actions, such as calling trading-related RESTful APIs, a successful Orderly Key generation is required in order to use it via [API authentication](/build-on-omnichain/evm-api/api-authentication).


##### Domain

Orderly utilizes the following EIP-712 domain and types for the registration, access key, withdrawal and settle PnL processes.
Note that `chainId` will be the id of the chain connected, which must be supported by Orderly.

###### Off-chain Domain

The `Registration` and `AddOrderlyKey` types are entirely processed off-chain, which is why the `verifyingContract` is set to `0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC`.

```json
{
    "name": "Orderly",
    "version": "1",
    "chainId": chainId,
    "verifyingContract": "0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC",
}
```

###### On-chain Domain

Any other type uses the on-chain domain. The address for the Ledger contract on the Orderly L2 chain can be looked up [here](/build-on-omnichain/addresses).

```json
{
    "name": "Orderly",
    "version": "1",
    "chainId": chainId,
    "verifyingContract": ledgerContractAddress,
}
```

##### Message Types

The message types are required for the EIP-712 algorithm to do a proper signing. Here is a list of all message types as JSON:

```js
{
    "EIP712Domain": [
        { "name": "name", "type": "string" },
        { "name": "version", "type": "string" },
        { "name": "chainId", "type": "uint256" },
        { "name": "verifyingContract", "type": "address" },
    ],
    "Registration": [
        { "name": "brokerId", "type": "string" },
        { "name": "chainId", "type": "uint256" },
        { "name": "timestamp", "type": "uint64" },
        { "name": "registrationNonce", "type": "uint256" },
    ],
    "AddOrderlyKey": [
        { "name": "brokerId", "type": "string" },
        { "name": "chainId", "type": "uint256" },
        { "name": "orderlyKey", "type": "string" },
        { "name": "scope", "type": "string" },
        { "name": "timestamp", "type": "uint64" },
        { "name": "expiration", "type": "uint64" },
    ],
    "Withdraw": [
        { "name": "brokerId", "type": "string" },
        { "name": "chainId", "type": "uint256" },
        { "name": "receiver", "type": "address" },
        { "name": "token", "type": "string" },
        { "name": "amount", "type": "uint256" },
        { "name": "withdrawNonce", "type": "uint64" },
        { "name": "timestamp", "type": "uint64" },
    ],
    "SettlePnl": [
        { "name": "brokerId", "type": "string" },
        { "name": "chainId", "type": "uint256" },
        { "name": "settleNonce", "type": "uint64" },
        { "name": "timestamp", "type": "uint64" },
    ],
    "DelegateSigner": [
        { "name": "delegateContract", type: "address" },
        { "name": "brokerId", type: "string" },
        { "name": "chainId", type: "uint256" },
        { "name": "timestamp", type: "uint64" },
        { "name": "registrationNonce", type: "uint256" },
        { "name": "txHash", type: "bytes32" },
    ],
    "DelegateAddOrderlyKey": [
        { "name": "delegateContract", type: "address" },
        { "name": "brokerId", type: "string" },
        { "name": "chainId", type: "uint256" },
        { "name": "orderlyKey", type: "string" },
        { "name": "scope", type: "string" },
        { "name": "timestamp", type: "uint64" },
        { "name": "expiration", type: "uint64" },
    ],
    "DelegateWithdraw": [
        { "name": "delegateContract", type: "address" },
        { "name": "brokerId", type: "string" },
        { "name": "chainId", type: "uint256" },
        { "name": "receiver", type: "address"},     
        { "name": "token", type: "string" },
        { "name": "amount", type: "uint256" },
        { "name": "withdrawNonce", type: "uint64" },
        { "name": "timestamp", type: "uint64" },
    ],
    "DelegateSettlePnl": [
        { "name": "delegateContract", type: "address" },
        { "name": "brokerId", type: "string" },
        { "name": "chainId", type: "uint256" },
        { "name": "settleNonce", type: "uint64" },
        { "name": "timestamp", type: "uint64" },
    ],
}
```

#### Orderly key

Orderly uses the `ed25519` elliptic curve standard for Orderly keys. Users can generate Orderly keys using any public `ed25519` libraries and then be added to any account through the REST API.
An Orderly key is necessary to perform [API authentication](/build-on-omnichain/evm-api/api-authentication).

Orderly keys can have different scopes. A `read` scope API can access all private read-only APIs, and a `trading` scope can, in addition, access all order APIs (create order, batch create order, edit order, cancel order, cancel order by client\_order-Id, cancel orders in bulk, batch cancel orders, batch cancel orders by client\_order\_id).

Orderly keys also have expirations for security reasons. The maximum allowed expiration of an Orderly key is 365 days.

Follow the following steps to add a new Orderly key on Orderly:


  **Step: Generate an ed25519 key-pair**

    Any public ed25519 library can be used (such as [this one](https://www.npmjs.com/package/@noble/ed25519)).
  
  **Step: Obtain signature from EIP-712**

    Sign a message from the wallet in the following format using the EIP-712 standard and obtain the signature

```json
{
    "brokerId": "woofi_dex",
    "chainId": 80001,
    "orderlyKey": "ed25519:HqN9uKJioHjAJZbadgQRGzq2e7huKg6foCyNY43hWbCk",
    "scope": "trading",
    "timestamp": 1685973094398,
    "expiration": 1686081094398
}
```

where:

| **Name**   | **Type**  | **Required** | **Description**                                                                               |
| ---------- | --------- | ------------ |-----------------------------------------------------------------------------------------------|
| brokerId   | string    | Y            | Builder ID, the valid list can be found \[here\]                                              |
| chainId    | int       | Y            | Chain ID of registering chain (within those that are supported by the Network)                |
| orderlyKey | string    | Y            | ed25519 public key                                                                            |
| scope      | string    | Y            | valid scopes are `read`, `trading` and `asset`. Multiple scopes can be sent, comma separated  |
| timestamp  | timestamp | Y            | timestamp in UNIX milliseconds                                                                |
| expiration | timestamp | Y            | Expiration time of the key in UNIX millisecondsMaximum allowed expiration is 365 days from add |
  
  **Step: Add Orderly key**

     Send all the necessary information via [Add Orderly key API](/build-on-omnichain/evm-api/restful-api/public/add-orderly-key).
  


##### Full example


```Java Java


public class OrderlyKeyExample {
   public static JSONObject MESSAGE_TYPES = new JSONObject("""
         {
            "EIP712Domain": [
               {"name": "name", "type": "string"},
               {"name": "version", "type": "string"},
               {"name": "chainId", "type": "uint256"},
               {"name": "verifyingContract", "type": "address"},
            ],
            "AddOrderlyKey": [
               {"name": "brokerId", "type": "string"},
               {"name": "chainId", "type": "uint256"},
               {"name": "orderlyKey", "type": "string"},
               {"name": "scope", "type": "string"},
               {"name": "timestamp", "type": "uint64"},
               {"name": "expiration", "type": "uint64"},
            ],
         }""");

   public static JSONObject OFF_CHAIN_DOMAIN = new JSONObject("""
         {
            "name": "Orderly",
            "version": "1",
            "chainId": 421614,
            "verifyingContract": "0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC",
         }""");

   public static void main(String[] args) throws Exception {
      String baseUrl = "https://testnet-api.orderly.org";
      String brokerId = "woofi_dex";
      int chainId = 421614;

      Dotenv dotenv = Dotenv.load();
      String pk = dotenv.get("PRIVATE_KEY");
      Credentials credentials = Credentials.create(ECKeyPair.create(Hex.decodeHex(pk)));
      OkHttpClient client = new OkHttpClient();

      KeyPairGenerator keyGen = new KeyPairGenerator();
      KeyPair keyPair = keyGen.generateKeyPair();
      String orderlyKey = Util.encodePublicKey((EdDSAPrivateKey) keyPair.getPrivate());

      JSONObject addKeyMessage = new JSONObject();
      long timestamp = Instant.now().toEpochMilli();
      addKeyMessage.put("brokerId", brokerId);
      addKeyMessage.put("chainId", chainId);
      addKeyMessage.put("scope", "read,trading");
      addKeyMessage.put("orderlyKey", orderlyKey);
      addKeyMessage.put("timestamp", timestamp);
      addKeyMessage.put("expiration", timestamp + 1_000 * 60 * 60 * 24 * 365); // 1 year

      JSONObject jsonObject = new JSONObject();
      jsonObject.put("types", RegisterExample.MESSAGE_TYPES);
      jsonObject.put("primaryType", "AddOrderlyKey");
      jsonObject.put("domain", RegisterExample.OFF_CHAIN_DOMAIN);
      jsonObject.put("message", addKeyMessage);

      Sign.SignatureData signature = Sign.signTypedData(jsonObject.toString(), credentials.getEcKeyPair());

      JSONObject jsonBody = new JSONObject();
      jsonBody.put("message", addKeyMessage);
      jsonBody.put("signature", Util.signatureToHashString(signature));
      jsonBody.put("userAddress", credentials.getAddress());
      RequestBody body = RequestBody.create(jsonBody.toString(), MediaType.get("application/json"));
      Request addKeyReq = new Request.Builder()
            .url(baseUrl + "/v1/orderly_key")
            .post(body)
            .build();
      String addKeyRes;
      try (Response response = client.newCall(addKeyReq).execute()) {
         addKeyRes = response.body().string();
      }
      System.out.println("orderly_key response: " + addKeyRes);
   }

   public static String signatureToHashString(Sign.SignatureData signature) {
      byte[] retval = new byte[65];
      System.arraycopy(signature.getR(), 0, retval, 0, 32);
      System.arraycopy(signature.getS(), 0, retval, 32, 32);
      System.arraycopy(signature.getV(), 0, retval, 64, 1);
      return Numeric.toHexString(retval);
   }
}
```

```py Python
from datetime import datetime


from base58 import b58encode
from cryptography.hazmat.primitives.asymmetric.ed25519 import Ed25519PrivateKey
from eth_account import Account, messages


def encode_key(key: bytes):
    return "ed25519:%s" % b58encode(key).decode("utf-8")


MESSAGE_TYPES = {
    "EIP712Domain": [
        {"name": "name", "type": "string"},
        {"name": "version", "type": "string"},
        {"name": "chainId", "type": "uint256"},
        {"name": "verifyingContract", "type": "address"},
    ],
    "AddOrderlyKey": [
        {"name": "brokerId", "type": "string"},
        {"name": "chainId", "type": "uint256"},
        {"name": "orderlyKey", "type": "string"},
        {"name": "scope", "type": "string"},
        {"name": "timestamp", "type": "uint64"},
        {"name": "expiration", "type": "uint64"},
    ],
}

OFF_CHAIN_DOMAIN = {
    "name": "Orderly",
    "version": "1",
    "chainId": 421614,
    "verifyingContract": "0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC",
}

base_url = "https://testnet-api.orderly.org"
broker_id = "woofi_dex"
chain_id = 421614

account: Account = Account.from_key(os.environ.get("PRIVATE_KEY"))

orderly_key = Ed25519PrivateKey.generate()

d = datetime.utcnow()
epoch = datetime(1970, 1, 1)
timestamp = math.trunc((d - epoch).total_seconds() * 1_000)

add_key_message = {
    "brokerId": broker_id,
    "chainId": chain_id,
    "orderlyKey": encode_key(orderly_key.public_key().public_bytes_raw()),
    "scope": "read,trading",
    "timestamp": timestamp,
    "expiration": timestamp + 1_000 * 60 * 60 * 24 * 365,  # 1 year
}

encoded_data = messages.encode_typed_data(
    domain_data=OFF_CHAIN_DOMAIN,
    message_types={"AddOrderlyKey": MESSAGE_TYPES["AddOrderlyKey"]},
    message_data=add_key_message,
)
signed_message = account.sign_message(encoded_data)

res = requests.post(
    "%s/v1/orderly_key" % base_url,
    headers={"Content-Type": "application/json"},
    json={
        "message": add_key_message,
        "signature": signed_message.signature.hex(),
        "userAddress": account.address,
    },
)
response = json.loads(res.text)
print("add_access_key:", response)
```

```ts TypeScript


// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-ignore
if (!globalThis.crypto) globalThis.crypto = webcrypto;

const MESSAGE_TYPES = {
  EIP712Domain: [
    { name: 'name', type: 'string' },
    { name: 'version', type: 'string' },
    { name: 'chainId', type: 'uint256' },
    { name: 'verifyingContract', type: 'address' }
  ],
  AddOrderlyKey: [
    { name: 'brokerId', type: 'string' },
    { name: 'chainId', type: 'uint256' },
    { name: 'orderlyKey', type: 'string' },
    { name: 'scope', type: 'string' },
    { name: 'timestamp', type: 'uint64' },
    { name: 'expiration', type: 'uint64' }
  ]
};

const OFF_CHAIN_DOMAIN = {
  name: 'Orderly',
  version: '1',
  chainId: 421614,
  verifyingContract: '0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC'
};

const BASE_URL = 'https://testnet-api.orderly.org';
const BROKER_ID = 'woofi_dex';
const CHAIN_ID = 421614;

config();

async function createOrderlyKey(): Promise<void> {
  const wallet = new ethers.Wallet(process.env.PRIVATE_KEY!);

  const privateKey = utils.randomPrivateKey();
  const orderlyKey = `ed25519:${encodeBase58(await getPublicKeyAsync(privateKey))}`;
  const timestamp = Date.now();
  const addKeyMessage = {
    brokerId: BROKER_ID,
    chainId: CHAIN_ID,
    orderlyKey,
    scope: 'read,trading',
    timestamp,
    expiration: timestamp + 1_000 * 60 * 60 * 24 * 365 // 1 year
  };

  const signature = await wallet.signTypedData(
    OFF_CHAIN_DOMAIN,
    {
      AddOrderlyKey: MESSAGE_TYPES.AddOrderlyKey
    },
    addKeyMessage
  );

  const keyRes = await fetch(`${BASE_URL}/v1/orderly_key`, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      message: addKeyMessage,
      signature,
      userAddress: await wallet.getAddress()
    })
  });
  const keyJson = await keyRes.json();
  console.log('addAccessKey', keyJson);
}

createOrderlyKey();
```


### Deposit/Withdrawal

Source: [https://orderly.network/docs/build-on-omnichain/user-flows/withdrawal-deposit](https://orderly.network/docs/build-on-omnichain/user-flows/withdrawal-deposit)

#### Deposit

Token deposits can be made on any supported chains (list [here](/introduction/trade-on-orderly/supported-chains))

To create a deposit request, users can follow the following steps:


  **Step: Approve spending of the token by the Vault smart contract**

    Get Vault & USDC deposit address from [here](/build-on-omnichain/addresses#arbitrum).
    All our smart contracts are verified, so you can get Vault & USDC ABI files via explorer, e.g. on Arbitrum Sepolia you can copy Vault ABI from [here](https://sepolia.arbiscan.io/address/0x0c554ddb6a9010ed1fd7e50d92559a06655da482).

    **Example code:**

      

```Java Java
String usdcAddress = "0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d";
String vaultAddress = "0x0EaC556c0C2321BA25b9DC01e4e3c95aD5CDCd2f";

Dotenv dotenv = Dotenv.load();
String pk = dotenv.get("PRIVATE_KEY");
Credentials credentials = Credentials.create(ECKeyPair.create(Hex.decodeHex(pk)));

Web3j web3j = Web3j.build(new HttpService("https://arbitrum-sepolia.publicnode.com"));
DefaultGasProvider gasProvider = new DefaultGasProvider();

NativeUSDC USDC = new NativeUSDC(usdcAddress, web3j, credentials, gasProvider);

BigInteger depositAmount = new BigInteger("10000000");

// approve USDC ERC-20 to be transferred to Vault contract
USDC.approve(vaultAddress, depositAmount).send();
```

```py Python
usdc_address = Web3.to_checksum_address("0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d")
vault_address = Web3.to_checksum_address("0x0EaC556c0C2321BA25b9DC01e4e3c95aD5CDCd2f")

account: Account = Account.from_key(os.environ.get("PRIVATE_KEY"))

w3 = Web3(Web3.HTTPProvider("https://arbitrum-sepolia.publicnode.com"))
w3.middleware_onion.add(construct_sign_and_send_raw_middleware(account))

with open("./src/abi/NativeUSDC.json") as f:
    abi = json.load(f)
usdc = w3.eth.contract(
    address=usdc_address,
    abi=abi,
)

deposit_amount = 10000000

# approve USDC ERC-20 to be transferred to Vault contract
usdc.functions.approve(vault_address, deposit_amount).transact(
    {"from": account.address}
)
```

```ts TypeScript
const usdcAddress = "0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d";
const vaultAddress = "0x0EaC556c0C2321BA25b9DC01e4e3c95aD5CDCd2f";

const provider = new ethers.JsonRpcProvider("https://arbitrum-sepolia.publicnode.com");
const wallet = new ethers.Wallet(process.env.PRIVATE_KEY!, provider);

const usdcContract = NativeUSDC__factory.connect(usdcAddress, wallet);

const depositAmount = 10_000_000n;
await usdcContract.approve(vaultAddress, depositAmount);
```

      
    

  
  **Step: Determine necessary deposit fee in WEI**

    **Example code:**

      
```Java Java
String brokerId = "woofi_pro";
String tokenId = "USDC";
String orderlyAccountId = "0x...";

Vault vault = new Vault(vaultAddress, web3j, credentials, gasProvider);

Keccak.Digest256 brokerHash = new Keccak.Digest256();
byte[] brokerIdBytes = brokerId.getBytes("UTF-8");
brokerHash.update(brokerIdBytes, 0, brokerIdBytes.length);

Keccak.Digest256 tokenHash = new Keccak.Digest256();
byte[] usdcBytes = tokenId.getBytes("UTF-8");
tokenHash.update(usdcBytes, 0, usdcBytes.length);

Vault.VaultDepositFE depositInput = new Vault.VaultDepositFE(
Hex.decodeHex(orderlyAccountId.substring(2)),
brokerHash.digest(),
tokenHash.digest(),
depositAmount);

// get wei deposit fee for `deposit` call
BigInteger depositFee = vault.getDepositFee(credentials.getAddress(), depositInput).send();

````

```py Python
broker_id = "woofi_pro"
token_id = "USDC"
orderly_account_id = "0x..."

with open("./src/abi/Vault.json") as f:
    abi = json.load(f)
vault = w3.eth.contract(
    address=vault_address,
    abi=abi,
)

broker_hash = w3.keccak(text=broker_id)
token_hash = w3.keccak(text=token_id)

deposit_input = (
    bytes.fromhex(orderly_account_id[2:]),
    bytes.fromhex(broker_hash.hex()[2:]),
    bytes.fromhex(token_hash.hex()[2:]),
    deposit_amount,
)

# get wei deposit fee for `deposit` call
deposit_fee = vault.functions.getDepositFee(
    Web3.to_checksum_address(account.address),
    deposit_input,
).call()
````

```ts TypeScript
const brokerId = "woofi_pro";
const tokenId = "USDC";
const orderlyAccountId = "0x...";

const vaultContract = Vault__factory.connect(vaultAddress, wallet);

const encoder = new TextEncoder();
const depositInput = {
  accountId: orderlyAccountId,
  brokerHash: keccak256(encoder.encode(brokerId)),
  tokenHash: keccak256(encoder.encode(tokenId)),
  tokenAmount: depositAmount
} satisfies VaultTypes.VaultDepositFEStruct;

// get wei deposit fee for `deposit` call
const depositFee = await vaultContract.getDepositFee(wallet.address, depositInput);
```

      
    

  
  **Step: Call the `deposit` function of the smart contract**

    Contains the following structured data:
    ```json
    struct DepositData {
      bytes32 accountId;
      bytes32 brokerHash;
      bytes32 tokenHash;
      uint128 tokenAmount;
    }
    ```
    where:
| **Name**    | **Type** | **Required** | **Description**                                       |
| ----------- | -------- | ------------ | ----------------------------------------------------- |
| accountId   | bytes    | Y            | The account id of the user in bytes.                  |
| brokerHash  | bytes    | Y            | The keccak256 hash of the builder id (eg "woofi\_dex") |
| tokenHash   | bytes    | Y            | The keccak256 hash of the token string (eg “USDC“)    |
| tokenAmount | int      | Y            | Amount of tokens to be deposited                      |

    **Example code:**

      

```Java Java
// deposit USDC into Vault contract
vault.deposit(
      depositInput,
      depositFee).send();
```

```py Python
# deposit USDC into Vault contract
vault.functions.deposit(deposit_input).transact(
    {"from": account.address, "value": deposit_fee}
)
```

```ts TypeScript
// deposit USDC into Vault contract
await vaultContract.deposit(depositInput, { value: depositFee });
```

      
    

  


> **Note:** Deposits will take some time to reflect depending on the origin chain, to allow for finalizing of
>   the cross-chain transaction involved in the deposit. Once the deposit is credited, the balance
>   will update and the transaction can be seen on the [Get asset history
>   API](/build-on-omnichain/evm-api/restful-api/private/get-asset-history).

##### Full example

<Accordion title="Code generation via ABI file" defaultOpen="true">
  
    **Java:**

      - install [Web3j CLI](https://docs.web3j.io/4.8.7/command_line_tools/)
      - `web3j generate solidity -a <./path/to/Vault.json> -o <./out-path/to/Vault.java> -p <package-name>`
    
    **TypeScript:**

      - install [Typechain](https://github.com/dethcrypto/TypeChain)
      - `typechain --target=ethers-v6 <./path/to/Vault.json> --out-dir <out/path>`
    
  


```Java Java


public class DepositExample {

      public static void main(String[] args) throws Exception {

            String brokerId = "woofi_pro";
            String tokenId = "USDC";
            String orderlyAccountId = "0x...";

            String usdcAddress = "0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d";
            String vaultAddress = "0x0EaC556c0C2321BA25b9DC01e4e3c95aD5CDCd2f";

            Dotenv dotenv = Dotenv.load();
            String pk = dotenv.get("PRIVATE_KEY");
            Credentials credentials = Credentials.create(ECKeyPair.create(Hex.decodeHex(pk)));

            Web3j web3j = Web3j.build(new HttpService("https://arbitrum-sepolia.publicnode.com"));
            DefaultGasProvider gasProvider = new DefaultGasProvider();

            NativeUSDC USDC = new NativeUSDC(usdcAddress, web3j, credentials, gasProvider);

            BigInteger depositAmount = new BigInteger("10000000");

            // approve USDC ERC-20 to be transferred to Vault contract
            USDC.approve(vaultAddress, depositAmount).send();

            Vault vault = new Vault(vaultAddress, web3j, credentials, gasProvider);

            Keccak.Digest256 brokerHash = new Keccak.Digest256();
            byte[] brokerIdBytes = brokerId.getBytes("UTF-8");
            brokerHash.update(brokerIdBytes, 0, brokerIdBytes.length);

            Keccak.Digest256 tokenHash = new Keccak.Digest256();
            byte[] usdcBytes = tokenId.getBytes("UTF-8");
            tokenHash.update(usdcBytes, 0, usdcBytes.length);

            Vault.VaultDepositFE depositInput = new Vault.VaultDepositFE(
                        Hex.decodeHex(orderlyAccountId.substring(2)),
                        brokerHash.digest(),
                        tokenHash.digest(),
                        depositAmount);

            // get wei deposit fee for `deposit` call
            BigInteger depositFee = vault.getDepositFee(credentials.getAddress(), depositInput).send();

            // deposit USDC into Vault contract
            vault.deposit(
                        depositInput,
                        depositFee).send();
      }

}

````

```py Python


from eth_account import Account
from web3 import Web3
from web3.middleware import construct_sign_and_send_raw_middleware


broker_id = "woofi_pro"
token_id = "USDC"
orderly_account_id = "0x..."

usdc_address = Web3.to_checksum_address("0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d")
vault_address = Web3.to_checksum_address("0x0EaC556c0C2321BA25b9DC01e4e3c95aD5CDCd2f")

account: Account = Account.from_key(os.environ.get("PRIVATE_KEY"))

w3 = Web3(Web3.HTTPProvider("https://arbitrum-sepolia.publicnode.com"))
w3.middleware_onion.add(construct_sign_and_send_raw_middleware(account))

with open("./src/abi/NativeUSDC.json") as f:
    abi = json.load(f)
usdc = w3.eth.contract(
    address=usdc_address,
    abi=abi,
)

deposit_amount = 10000000

# approve USDC ERC-20 to be transferred to Vault contract
usdc.functions.approve(vault_address, deposit_amount).transact(
    {"from": account.address}
)

with open("./src/abi/Vault.json") as f:
    abi = json.load(f)
vault = w3.eth.contract(
    address=vault_address,
    abi=abi,
)

broker_hash = w3.keccak(text=broker_id)
token_hash = w3.keccak(text=token_id)

deposit_input = (
    bytes.fromhex(orderly_account_id[2:]),
    bytes.fromhex(broker_hash.hex()[2:]),
    bytes.fromhex(token_hash.hex()[2:]),
    deposit_amount,
)

# get wei deposit fee for `deposit` call
deposit_fee = vault.functions.getDepositFee(
    Web3.to_checksum_address(account.address),
    deposit_input,
).call()

# deposit USDC into Vault contract
vault.functions.deposit(deposit_input).transact(
    {"from": account.address, "value": deposit_fee}
)
````

```ts TypeScript


const brokerId = "woofi_pro";
const tokenId = "USDC";

const usdcAddress = "0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d";
const vaultAddress = "0x0EaC556c0C2321BA25b9DC01e4e3c95aD5CDCd2f";

config();

async function deposit(): Promise<void> {
  const provider = new ethers.JsonRpcProvider("https://arbitrum-sepolia.publicnode.com");
  const wallet = new ethers.Wallet(process.env.PRIVATE_KEY!, provider);

  const usdcContract = NativeUSDC__factory.connect(usdcAddress, wallet);

  const depositAmount = 10_000_000n;
  await usdcContract.approve(vaultAddress, depositAmount);

  const vaultContract = Vault__factory.connect(vaultAddress, wallet);

  const orderlyAccountId = getAccountId(wallet.address, brokerId);

  const encoder = new TextEncoder();
  const depositInput = {
    accountId: orderlyAccountId,
    brokerHash: keccak256(encoder.encode(brokerId)),
    tokenHash: keccak256(encoder.encode(tokenId)),
    tokenAmount: depositAmount
  } satisfies VaultTypes.VaultDepositFEStruct;

  // get wei deposit fee for `deposit` call
  const depositFee = await vaultContract.getDepositFee(wallet.address, depositInput);

  // deposit USDC into Vault contract
  await vaultContract.deposit(depositInput, { value: depositFee });
}


  const abicoder = AbiCoder.defaultAbiCoder();
  return keccak256(
    abicoder.encode(
      ["address", "bytes32"],
      [address, solidityPackedKeccak256(["string"], [brokerId])]
    )
  );
}

deposit();
```


#### Withdrawal

Follow the following steps to withdraw your tokens from Orderly:


  **Step: Choose a valid chain to withdraw your funds to**

    A list of supported chains can be found on our [Smart Contract Addresses page](/build-on-omnichain/addresses).
  
  **Step: Check if the chain has sufficient liquidity**

    Since Orderly is an omnichain trading infrastructure, the liquidity of withdrawn assets might need to move across chains. If there is not enough liquidity of the withdrawn asset on the target chain, then an
    additional cross-chain transaction fee will be deducted from the user's account.
  
  **Step: Obtain a withdrawal nonce**

    Get a nonce from [Get Withdrawal Nonce API](/build-on-omnichain/evm-api/restful-api/private/get-withdrawal-nonce).
  
  **Step: Obtain a signature from EIP-712**

    Sign an EIP-712 message of [message type](/build-on-omnichain/user-flows/wallet-authentication#message-types) `Withdraw`:

```json
"Withdraw": [
    {"name": "brokerId", "type": "string"},
    {"name": "chainId", "type": "uint256"},
    {"name": "receiver", "type": "address"},
    {"name": "token", "type": "string"},
    {"name": "amount", "type": "uint256"},
    {"name": "withdrawNonce", "type": "uint64"},
    {"name": "timestamp", "type": "uint64"},
]
```

Example:

```json
{
  "brokerId": "woofi_pro",
  "chainId": 80001,
  "receiver": "0x036Cb579025d3535a0ADcD929D05481a3189714b",
  "token": "USDC",
  "amount": "1000000",
  "withdrawNonce": 1,
  "timestamp": 1685973017064
}
```

where:

| **Name**      | **Type**  | **Required** | **Description**                                                                                                        |
| ------------- | --------- | ------------ | ---------------------------------------------------------------------------------------------------------------------- |
| brokerId      | string    | Y            | Builder ID, the valid list can be found \[here\]                                                                       |
| chainId       | int       | Y            | Chain ID of the chain that the funds should be withdrawn to (within those that are supported by the Network)           |
| receiver      | string    | Y            | Address of the receiver, which should be equal to the address of the account.                                          |
| token         | string    | Y            | The string representation of the token that is being withdrawn (eg "USDC")                                             |
| amount        | string       | Y            | Amount of tokens to be withdrawn                                                                                       |
| withdrawNonce | int       | Y            | Valid withdrawal nonce from [Get Withdrawal Nonce API](/build-on-omnichain/evm-api/restful-api/private/get-withdrawal-nonce) |
| timestamp     | timestamp | Y            | current timestamp in UNIX milliseconds                                                                                 |

  
  **Step: Make a withdraw request**

    Call the [Create withdraw request API](/build-on-omnichain/evm-api/restful-api/private/create-withdraw-request).
  


##### Example

The example code is very similar to the [Orderly key registration](/build-on-omnichain/user-flows/wallet-authentication#full-example), except it uses the EIP-712 [on-chain domain](/build-on-omnichain/user-flows/wallet-authentication#on-chain-domain) and the signed message is different.


### Settle PnL

Source: [https://orderly.network/docs/build-on-omnichain/user-flows/settle-pnl](https://orderly.network/docs/build-on-omnichain/user-flows/settle-pnl)

Any realized and unrealized PnL accrued from open or closed positions needs to be “Settled” into the USDC balance of the account. PnL settlement can happen anytime for any account if other users trigger a settlement. Any user can also trigger PnL settlement of their own account by following these steps:


  **Step: Get a Settle PnL nonce**

    Get a nonce from [Get settle PnL nonce](/build-on-omnichain/evm-api/restful-api/private/get-settle-pnl-nonce).
  
  **Step: Obtain signature from EIP-712**

    Sign an EIP-712 message in the following format:
```json
{
    "brokerId": "woofi_dex",
    "chainId": 80001,
    "settleNonce": 1,
    "timestamp": 1685973017064
}
```

where:

| **Name**    | **Type**  | **Required** | **Description**                                              |
| ----------- | --------- | ------------ | ------------------------------------------------------------ |
| brokerId    | string    | Y            | Broker ID, the valid list can be found \[here\]              |
| chainId     | int       | Y            | Chain ID of the connected chain where the message was signed |
| settleNonce | int       | Y            | Valid withdrawal nonce from [Get settle PnL nonce](/build-on-omnichain/evm-api/restful-api/private/get-settle-pnl-nonce)           |
| timestamp   | timestamp | Y            | current timestamp in UNIX milliseconds                       |

  
  **Step: Request PnL settlement**

    Request a PnL settlement through [Request Pnl settlement API](/build-on-omnichain/evm-api/restful-api/private/request-pnl-settlement).
  


##### Example

The example code is very similar to the [Orderly key registration](/build-on-omnichain/user-flows/wallet-authentication#full-example), except it uses the EIP-712 [on-chain domain](/build-on-omnichain/user-flows/wallet-authentication#on-chain-domain) and the signed message is different.


### Order Management

Source: [https://orderly.network/docs/build-on-omnichain/user-flows/order-management](https://orderly.network/docs/build-on-omnichain/user-flows/order-management)

*Content available at [https://orderly.network/docs/build-on-omnichain/user-flows/order-management](https://orderly.network/docs/build-on-omnichain/user-flows/order-management)*


### Custom Fee Structure

Source: [https://orderly.network/docs/build-on-omnichain/user-flows/custom-fees](https://orderly.network/docs/build-on-omnichain/user-flows/custom-fees)

#### Introduction

We’re thrilled to unveil the latest enhancement to our services: the Custom Trading Fee System. This innovative feature introduces a suite of flexible fee-setting options, allowing builders to tailor fee structures to their unique user bases more effectively than ever before. By departing from the limitations of Orderly’s standard fees, builders now have the freedom to set fees that align perfectly with their strategies and customer profiles.

#### Overview of Fee Structure

**Base Fee:** Orderly retains 100% of the 3 bps taker fee, and there's no maker fee. The base fee is subject to change according to our [builder staking programme](/build-on-omnichain/user-flows/builder-staking-programme).

**Custom Fee:** Builders keep 100% and decide their own additional charges, respecting Orderly's base fee minimum.

#### User Flow for Builders


  **Step: Determining the fee tiers**

    Builders decide on the logic for fee tiers for their users based on specific criteria, like volume or staked tokens, ensuring flexibility and precision in fee management, or set all users under the same fee rate.
  
  **Step: Calculating the fee rates**

    After the criteria has been decided, builders need to assign users to fee rates based on that criteria.
    
    Orderly has released a tool for assigning users to fee tiers based on volume to save builders the hastle of building it from scratch. Source code can be found on out [GitHub](https://github.com/OrderlyNetwork/orderly-evm-broker-fee-admin).
    > **Note:** The fee rate is total charged to the user (Orderly base fee + custom fee).
> 
>     Cannot be less than Orderly base fee.

  
    **Step: Set the default fee rate**

    Set the `default` fee rate through [POST `/v1/broker/fee_rate/default`](/build-on-omnichain/evm-api/restful-api/private/update-default-builder-fee).
  
  **Step: Setting the fees**

    After determining each user's fee rate, builders need to send the updated list to Orderly at any time.

    1. **For users keeping their fee rate, including default:** no update needed

    2. **For users re-assigned to "default" fee rate:** send the list through [POST `/v1/broker/fee_rate/set_default`](/build-on-omnichain/evm-api/restful-api/private/reset-user-fee-rate)

    3. **For users assigned to new fee rate:** send the list through [POST `/v1/broker/fee_rate/set`](/build-on-omnichain/evm-api/restful-api/private/update-user-fee-rate). Send updates in batches, grouped by the same `maker_fee` `taker_fee` combination.
    > **Note:** All users are assigned to "default" fee rate unless overriden by builder.

  
      **Step: Retrive user fee rates**

    Retrieve user's fee rate through [GET `/v1/broker/user_info`](/build-on-omnichain/evm-api/restful-api/private/get-user-fee-rates).

    Retrieve default fee rate through [GET `/v1/broker/fee_rate/default`](/build-on-omnichain/evm-api/restful-api/private/get-default-builder-fee).

  


##### Builder Rebate Distribution

Builders receive daily rebates in their fee wallet, calculated after deducting any referral rebates.

#### FAQs

**Live Fee Rate Impact:** More builder flexibility in fee structuring.

**Frequency of Fee Rate Changes:** No strict limitations, but consistency is recommended.

**Impact on End Users:** Personalized and competitive fee structures.

**Builder Integration Work:** Development of a dynamic fee rate assignment system.

**Fee Wallet Requirements:** Currently EOA, with multisig support upcoming.


  **Will there be limitations on how often fee rates can be changed? :**

There are no inherent limitations besides API rate limits, but we recommend prudent management to maintain consistency and trust with end users.
  

**How to set fees for users?:**

  Front-ends can develop a custom tiered structure based on different parameters like volume, staked
  tokens, etc.


**Can I get help determining and setting fees for the users?:**

  We have built a tool to help builders set and assign users to volume based TimeRanges.

**How does rebate work for front-ends?:**

  Front-ends keep all fees above the Orderly base fee which is 3 bps for taker and 0 bps for maker.


**How are fee rebates distributed?:**

  Builder fee rebates are distributed daily to builder's Orderly account registered with the wallet
  provided during the broker_id setup.


### Builder Staking Programme

Source: [https://orderly.network/docs/build-on-omnichain/user-flows/builder-staking-programme](https://orderly.network/docs/build-on-omnichain/user-flows/builder-staking-programme)

![](/images/builder_staking_programme.jpg)


### Delegate Signer

Source: [https://orderly.network/docs/build-on-omnichain/user-flows/delegate-signer](https://orderly.network/docs/build-on-omnichain/user-flows/delegate-signer)

#### Smart Contract trading

The Ethereum Virtual Machine (EVM) differes between user accounts, also known as Externally Owned Accounts (EOAs), and Smart Contract accounts. An EOA cannot have code deployed to it and a Smart Contract account cannot have a private key, that is owned by a user.

Since Orderly uses [EIP-712 off-chain signatures](/build-on-omnichain/user-flows/wallet-authentication) for trading, which will be sent to our backend services, a Smart Contract account cannot trade using this method. In order to allow Smart Contracts to trade on our platform, we introduce a feature called "Delegate Signer", that allows delegation of trading for a Smart Contract account to be executed by an EOA.

Delegate Signer allows Smart Contracts to assign an EOA to sign on behalf of them for actions requiring the EIP-712 signature. Smart Contracts assign a Delegate Signer through Orderly's [Vault Smart Contract](/build-on-omnichain/addresses) function called `delegateSigner` prior to interacting with Orderly.

##### Limitations

> **Warning:** There can only be one EOA per Smart Contract account. If a new Delegate Signer is announced via Vault Smart Contract interaction, the old Delegate Signer will be deleted.
> 
> Smart Contract accounts are single chain accounts, restricted to only be able to deposit/withdraw from the chain the Delegate Signer call was made.
> 
> A Smart Contract account will always need an EOA to withdraw funds.

##### Implementation


  **Step: Create delegate signer link**

    Your Smart Contract needs to call the `delegateSigner` function on the Orderly Vault contract.
    The interface is described below:

```sol
function delegateSigner(VaultTypes.VaultDelegate calldata data) external;

library VaultTypes {
    struct VaultDelegate {
        bytes32 brokerHash;
        address delegateSigner;
    }
}
```

    > **Note:** Latest contract ABI files can be found on our [GitHub](https://github.com/OrderlyNetwork/contract-evm-abi). All of our contracts are verified, so you can also see the ABI on their respective explorers.

    An example Smart Contract is deployed on [Arbitrum Sepolia](https://sepolia.arbiscan.io/address/0xa4394b62261061c629800c6d86d153a9f38f0cbb#code), however it implements an insecure `execAction` function, which allows arbitrary code execution.

    A minimal implementation of a Smart Contract will look like this:

    

```sol DelegateContract.sol
pragma solidity ^0.8.18;


contract DelegateContract {
    function delegate(address vault, VaultTypes.VaultDelegate calldata data) public {
        IVault(vault).delegateSigner(data);
    }

    // ...
    // implement any other functions your SC might need
}
```

```sol IVault.sol
pragma solidity ^0.8.18;

library VaultTypes {
    struct VaultDelegate {
        bytes32 brokerHash;
        address delegateSigner;
    }
}

interface IVault {
    function delegateSigner(VaultTypes.VaultDelegate calldata data) external;
}
```

    

    After calling the function on your Smart Contract for the linking, you need to remember this transaction hash.

  
  **Step: Accept the link from the Delegate Signer EOA**

    Confirm the link by signing the [EIP-712](/build-on-omnichain/user-flows/wallet-authentication#message-types) with your Delegate Signer's wallet and send the information via [`delegate_signer` API](/build-on-omnichain/evm-api/restful-api/public/delegate-signer). You will also need to send the transaction hash from previous step.

    This step will optionally create the account for the Smart Contract, if it does not yet exist. If it already exists it will just update the linked EOA account.

  
  **Step: Add Orderly Key**

    Add Delegate Orderly Key via [REST API](/build-on-omnichain/user-flows/wallet-authentication#orderly-key).
  
  **Step: Deploy funds**

    You can either implement a function in your Smart Contract to call the `deposit` function of the Vault contract or you can call the `depositTo` function from any address and deposit into your Smart Contract's account wallet.
    For the latter you will also require the `account_id` from the registration step.
  
  **Step: Start Trading**

    Start trading via regular trading APIs authenticated with above Orderly Key.
  
  **Step: Settle PnL/Withdraw**

    [Settle PnL](/build-on-omnichain/evm-api/restful-api/private/delegate-signer-settle-pnl) and [withdraw](/build-on-omnichain/evm-api/restful-api/private/delegate-signer-withdraw-request) via special Delegate Signer endpoints. Sign [EIP-712](/build-on-omnichain/user-flows/wallet-authentication) domains with Delegate Signer wallet.
  


##### Example

A full example can be found on [this Github repository](https://github.com/OrderlyNetwork/broker-registration).
The website is deployed [here](https://orderlynetwork.github.io/broker-registration/).


### Referral System

Source: [https://orderly.network/docs/build-on-omnichain/user-flows/referral-system](https://orderly.network/docs/build-on-omnichain/user-flows/referral-system)

#### Introduction

We are excited to present an addition to our array of services that many have eagerly anticipated: Orderly Referral System. This system, developed in response to your insightful feedback, represents a pivotal advancement in our platform's evolution. Designed to enrich and expand our community, it offers a dynamic way for both existing and new users to connect, thereby significantly strengthening the Orderly ecosystem.

Existing users can effortlessly create personalized referral codes, which they can then share with potential new members. It's designed to reward both new and existing members, encouraging the growth of their networks within the Orderly ecosystem and fostering a more interconnected and robust trading community.

#### Overview of the Referral Binding Process

**Referral Code Creation:** Builders create unique referral codes linked to specific user accounts.

**Binding Process:** The referee, upon receiving a referral code, binds it to their account, establishing a direct link between the referrer and the referee.

**Rebate Distribution:** Rebates are distributed daily and credited to each user's Orderly account.

**Incentives:** Referrers and/or referees benefit from rebates off trading fees for using the referral code.

#### Referral Rebate Breakdown

The referral rebate applies to both taker and maker fees.

##### Distribution of Rebates:

- **Referee Rebate:** A portion of the fee is rebated to the referee.

- **Referrer Rebate:** A matching portion of the fee is rebated to the referrer.

- **Builder Rebate:** The remaining portion of the fee is rebated to the builder.

##### Example Calculation

**Assumptions:**

-Referee Rate: 0.2%

-Referrer Rate: 0.2%

-Total Fee for Referee's Order: 7 basis points (bps) = 15 USDC

-Builder Rebate: 4 bps ≈ 8.6 USDC

**Rebate Allocation:**

- Referee Rebate: 1.7 USDC

- Referrer Rebate: 1.7 USDC

- Builder Rebate: 5.2 USDC

#### User Flow for Builders


  **Step: Generating referral codes**

    Builders generate and assign unique referral codes for each user (referrer) through [POST `/v1/referral/create`](/build-on-omnichain/evm-api/restful-api/private/create-referral-code).

    The rebate needs to be provided for both referee and referrer.

    > **Note:** This endpoint is authenticated with builder's admin account

  
    **Step: Bind referral code**

    Bind the referral code to each user (referee) through [POST `/v1/referral/bind`](/build-on-omnichain/evm-api/restful-api/private/bind-referral-code).
  
  **Step: Update referral code**

Update referral rebate of a referral code through [POST `/v1/referral/update`](/build-on-omnichain/evm-api/restful-api/private/update-referral-code).
    > **Note:** This endpoint is authenticated with builder's admin account
  
      **Step: Retrieve referral information**

Builders can retrieve details of referees, referrers, rebates. All endpoints listed under ["Referral Program"](/build-on-omnichain/evm-api/restful-api/private/get-referral-info) section.


### Algo Order Sample Requests

Source: [https://orderly.network/docs/build-on-omnichain/user-flows/algo-order-samples](https://orderly.network/docs/build-on-omnichain/user-flows/algo-order-samples)

#### Create Algo Order Sample


##### STOP
`STOP` order will be triggered once the given `trigger_price` is reached and new order of `trigger_price_type` will be created.
```json
{
    "symbol": "PERP_NEAR_USDC", 
    "algo_type": "STOP", 
    "quantity": "5.5", 
    "side": "BUY", 
    "type": "LIMIT", 
    "trigger_price_type": "MARK_PRICE", 
    "trigger_price": "4.203", 
    "price": "3.5"
}
```

##### TP_SL
- For each `TP_SL` order placed, three algo orders will be created in Orderly system.

- To edit a `TP_SL` order, user must send the edit order request on the `root_algo_order` and must pass both `root_algo_order` and `child_orders` as parameters. User may pass only one `child_order` for editing. If the goal is to edit `quantity`, both `child_order` must be passed and the `quantity` need to be identical.

- For each user, there can be at most 10 untriggered `TP_SL` orders.

- For each user, there can be at most 1 untriggered `POSITIONAL_TP_SL` order.

```json
{
    "symbol": "PERP_NEAR_USDC",
    "algo_type": "TP_SL",
    "quantity": "5.5",
    "trigger_price_type": "MARK_PRICE",
    "order_tag": "test_tag",
    "child_orders": [
        {
            "symbol": "PERP_NEAR_USDC",
            "algo_type": "TAKE_PROFIT",
            "side": "SELL",
            "type": "MARKET",
            "trigger_price": 3.365,
            "reduce_only": true
        },
        {
            "symbol": "PERP_NEAR_USDC",
            "algo_type": "STOP_LOSS",
            "side": "SELL",
            "type": "MARKET",
            "trigger_price": 3.36,
            "reduce_only": true
        }
    ]
}
```

- `TP_SL` orders support triggering Limit orders.

```json
{
    "symbol": "PERP_NEAR_USDC",
    "algo_type": "TP_SL",
    "quantity": 6,
    "trigger_price_type": "MARK_PRICE",
    "child_orders": [
        {
            "symbol": "PERP_NEAR_USDC",
            "algo_type": "TAKE_PROFIT",
            "side": "SELL",
            "type": "LIMIT",
            "price": 2.4,
            "trigger_price": 2.3,
            "reduce_only": true
        },
        {
            "symbol": "PERP_NEAR_USDC",
            "algo_type": "STOP_LOSS",
            "side": "SELL",
            "type": "LIMIT",
            "price": 2.1,
            "trigger_price": 1.9,
            "reduce_only": true
        }
    ]
}
```

##### POSITIONAL_TP_SL
```json
{
    "symbol": "PERP_NEAR_USDC", 
    "algo_type": "POSITIONAL_TP_SL", 
    "trigger_price_type": "MARK_PRICE", 
    "child_orders": [
        {
            "symbol": "PERP_NEAR_USDC", 
            "algo_type": "TAKE_PROFIT", 
            "side": "SELL", 
            "type": "CLOSE_POSITION", 
            "trigger_price_type": "MARK_PRICE", 
            "trigger_price": 4.05, 
            "reduce_only": true
        }, 
        {
            "symbol": "PERP_NEAR_USDC", 
            "algo_type": "STOP_LOSS", 
            "side": "SELL", 
            "type": "CLOSE_POSITION", 
            "trigger_price_type": "MARK_PRICE", 
            "trigger_price": 3.95, 
            "reduce_only": true
        }
    ]
}
```

##### BRACKET
The nature of `BRACKET` order is to use track a regular order and close its position with `TP_SL` \ `POSITIONAL_TP_SL` order. In this example, assume the regular order under `BRACKET` order as `leg_1` and the `TP_SL` \ `POSITIONAL_TP_SL` child order under `BRACKET` order as `leg_2`.

`leg_1` \= `BRACKET` and the triggered regular order

`leg_2` \= `POSITIONAL_TP_SL` \ `TP_SL` and their triggered child orders

`BRACKET` + `TP_SL` : The quantity of `TP_SL` order is determined by the `executed_quantity` of `leg_1`.

`BRACKET` + `POSITIONAL_TP_SL` : The quantity of `POSITIONAL_TP_SL` order is determined by the user's position at the time of triggering. 

Note: For `BRACKET` + `POSITIONAL_TP_SL`, when `leg_2`'s `POSITIONAL_TP_SL` order is triggered, the previously active `POSITIONAL_TP_SL` orders will be canceled. If there were existing triggered `POSITIONAL_TP_SL` order, `leg_2` will be canceled. 

Makes sure there's only one active `POSITIONAL_TP_SL` order. For any of the regular order under `leg_1` being executed, `leg_1` and `leg_2` will be cutoff such that `leg_2` becomes an independent `POSITIONAL_TP_SL` order. 

```json
{
  "symbol": "PERP_ETH_USDC",
  "algo_type": "BRACKET",
  "quantity": "0.0032",
  "side": "BUY",
  "type": "LIMIT",
  "price": "3415.9",
  "child_orders": [
    {
      "symbol": "PERP_ETH_USDC",
      "algo_type": "POSITIONAL_TP_SL",
      "child_orders": [
        {
          "symbol": "PERP_ETH_USDC",
          "algo_type": "TAKE_PROFIT",
          "side": "SELL",
          "type": "CLOSE_POSITION",
          "trigger_price": "3518.4",
          "reduce_only": true
        },
        {
          "symbol": "PERP_ETH_USDC",
          "algo_type": "STOP_LOSS",
          "side": "SELL",
          "type": "CLOSE_POSITION",
          "trigger_price": "3313.4",
          "reduce_only": true
        }
      ]
    }
  ]
}
```

##### BRACKET + TP_SL
```json
{
    "symbol": "PERP_NEAR_USDC",
    "algo_type": "BRACKET",
    "quantity": "4",
    "side": "BUY",
    "type": "LIMIT",
    "price": 2.03,
    "child_orders": [
        {
            "symbol": "PERP_NEAR_USDC",
            "algo_type": "TP_SL",
            "child_orders": [
                {
                    "symbol": "PERP_NEAR_USDC",
                    "algo_type": "TAKE_PROFIT",
                    "side": "SELL",
                    "type": "LIMIT",
                    "price": 2.06,
                    "trigger_price": 2.05,
                    "reduce_only": true
                },
                {
                    "symbol": "PERP_NEAR_USDC",
                    "algo_type": "STOP_LOSS",
                    "side": "SELL",
                    "type": "LIMIT",
                    "price": 2.02,
                    "trigger_price": 2.02,
                    "reduce_only": true
                }
            ]
        }
    ]
}
```


### Internal Transfer

Source: [https://orderly.network/docs/build-on-omnichain/user-flows/internal-transfer](https://orderly.network/docs/build-on-omnichain/user-flows/internal-transfer)

#### Internal Transfer With Wallet Signature

The Internal Transfer with Wallet Signature API allows users to transfer assets between Orderly accounts. This API requires a wallet EIP-712 signature to verify the ownership and authorization of the transfer.

To create an internal transfer request, users can follow the following steps:


  **Step: Obtain a transfer nonce**

    Get a valid transfer nonce from the [Get Transfer Nonce API](/build-on-omnichain/evm-api/restful-api/private/get-transfer-nonce).

    > **Note:** This API requires Orderly authentication headers:
>       - `orderly-timestamp`: Current timestamp in milliseconds
>       - `orderly-account-id`: Your Orderly Account ID
>       - `orderly-key`: Your Orderly Key
>       - `orderly-signature`: Ed25519 signature of the request message
>       
>       The signature is generated by signing `{timestamp}{http_method}{url_path}{payload}` using your Orderly Secret.
>       For production use, it's recommended to use the Orderly SDK which handles authentication automatically.

    **Example code:**

      

```ts TypeScript
interface Client {
    _sign_request(method: string, path: string, payload?: any): Promise<any>;
}

async function get_transfer_nonce(client: Client): Promise<number | null> {
    try {
        const response = await client._sign_request("GET", "/v1/transfer_nonce");
        if (response.data && response.data.transfer_nonce) {
            return response.data.transfer_nonce;
        } else if (response.transfer_nonce) {
            return response.transfer_nonce;
        }
        return null;
    } catch (error) {
        return null;
    }
}
```

```py Python
def get_transfer_nonce(client):
    try:
        response = client._sign_request("GET", "/v1/transfer_nonce")
        if 'data' in response and 'transfer_nonce' in response['data']:
            return response['data']['transfer_nonce']
        elif 'transfer_nonce' in response:
            return response['transfer_nonce']
        return None
    except Exception:
        return None
```

      
    

    ```json
    // Response Example
    {
      "success": true,
      "timestamp": 1702989203989,
      "data": {
        "transfer_nonce": 1
      }
    }
    ```

  

  **Step: Obtain a signature from EIP-712**

    Sign an EIP-712 message of [message type](/build-on-omnichain/user-flows/wallet-authentication#message-types) `InternalTransfer`:

    ```json
    "InternalTransfer": [
        { "name": "receiver", "type": "bytes32" },
        { "name": "token", "type": "string" },
        { "name": "amount", "type": "uint256" },
        { "name": "transferNonce", "type": "uint64" }
    ]
    ```

    where:

    | **Name**        | **Type**  | **Required** | **Description**                                                                        |
    | --------------- | --------- | ------------ | -------------------------------------------------------------------------------------- |
    | receiver        | bytes32   | Y            | The Orderly Account ID of the receiver (must be converted to bytes32 format for EIP-712 signing)                           |
    | token           | string    | Y            | The token symbol (e.g., "USDC")                                                       |
    | amount          | uint256   | Y            | The amount to transfer (raw value with decimals, e.g., 1000000 for 1 USDC)            |
    | transferNonce   | uint64    | Y            | The nonce obtained from Step 1                                                         |

    > **Note:** The EIP-712 signature uses the [on-chain domain](/build-on-omnichain/user-flows/wallet-authentication#on-chain-domain). The `verifyingContract` should be the Ledger contract address, which can be found [here](/build-on-omnichain/addresses).

    **Example code:**

      

```ts TypeScript


const chainId = 42161; // Arbitrum One
const ledgerContractAddress = "0x..."; // Get from addresses page

// Define Domain
const domain = {
  name: "Orderly",
  version: "1",
  chainId: chainId,
  verifyingContract: ledgerContractAddress
};

// Define Types
const types = {
  InternalTransfer: [
    { name: "receiver", type: "bytes32" },
    { name: "token", type: "string" },
    { name: "amount", type: "uint256" },
    { name: "transferNonce", type: "uint64" }
  ]
};

// Define Message Data
// Note: ethers.js signTypedData automatically converts hex strings to bytes32
const receiverAccountId = "0x9ff99a5d6cb71a3ef897b0fff5f5801af6dc5f72d8f1608e61409b8fc965bd68";
const message = {
  receiver: receiverAccountId, // ethers.js automatically handles hex string to bytes32 conversion
  token: "USDC",
  amount: 1000000n, // 1 USDC (assuming 6 decimals)
  transferNonce: 1 // From API
};

// Sign
const wallet = new ethers.Wallet(process.env.PRIVATE_KEY!);
const signature = await wallet.signTypedData(domain, types, message);
```

```py Python

from eth_account import Account
from eth_account.messages import encode_typed_data

chain_id = 42161  # Arbitrum One
ledger_contract_address = "0x..."  # Get from addresses page
private_key = os.environ.get("PRIVATE_KEY")
if not private_key:
    raise ValueError("PRIVATE_KEY environment variable is not set")
receiver_account_id = "0x9ff99a5d6cb71a3ef897b0fff5f5801af6dc5f72d8f1608e61409b8fc965bd68"

# Construct EIP-712 Data
# Note: receiver must be converted from hex string to bytes32 for signing
data = {
    "types": {
        "EIP712Domain": [
            {"name": "name", "type": "string"},
            {"name": "version", "type": "string"},
            {"name": "chainId", "type": "uint256"},
            {"name": "verifyingContract", "type": "address"},
        ],
        "InternalTransfer": [
            {"name": "receiver", "type": "bytes32"},
            {"name": "token", "type": "string"},
            {"name": "amount", "type": "uint256"},
            {"name": "transferNonce", "type": "uint64"},
        ],
    },
    "domain": {
        "name": "Orderly",
        "version": "1",
        "chainId": chain_id,
        "verifyingContract": ledger_contract_address,
    },
    "primaryType": "InternalTransfer",
    "message": {
        "receiver": bytes.fromhex(receiver_account_id[2:]),  # Convert hex string to bytes32
        "token": "USDC",
        "amount": 1000000,
        "transferNonce": 1
    },
}

# Sign
account = Account.from_key(private_key)
signable_message = encode_typed_data(full_message=data)
signed_message = account.sign_message(signable_message)
signature = signed_message.signature.hex()
```

      
    

  

  **Step: Make an internal transfer request**

    Call the [Create Internal Transfer With Wallet Signature API](/build-on-omnichain/evm-api/restful-api/private/create-internal-transfer-v2).

    The request body must include the generated signature and the message parameters used to create it:

    > **Note:** Note that in the API request, `receiver` is a string (hex format with 0x prefix), while in the EIP-712 signature it must be bytes32. The `userAddress` must be an EVM address format (0x-prefixed hex string) for EVM chains, or a Solana address for SOL chains.

    ```json

{
"message": {
"receiver": "0x9ff99a5d6cb71a3ef897b0fff5f5801af6dc5f72d8f1608e61409b8fc965bd68",
"token": "USDC",
"amount": "1000000",
"transferNonce": "2",
"chainId": "421614",
"chainType": "EVM"
},
"signature": "0xa9f5ef503a95af0bb0211858e8b6a83a3d23d7a84b8db3c2aa3327deb34b084577758cc6d8cbc9a047d60436c62d0591ee6693f34487bea785247608516360991b",
"userAddress": "0xb6309c90b5ecc2f8a87987294af03951e80bfef0",
"verifyingContract": "0x8794E7260517B1766fc7b55cAfcd56e6bf08600e"
}

````

    where:

    | **Parameter**              | **Type** | **Required** | **Description**                                                                    |
    | -------------------------- | -------- | ------------ | ---------------------------------------------------------------------------------- |
    | message.receiver           | string   | Y            | The Orderly Account ID of the receiver                                             |
    | message.token              | string   | Y            | Token symbol                                                                       |
    | message.amount             | string   | Y            | Transfer amount                                                                    |
    | message.transferNonce       | string   | Y            | Must match the nonce used in the signature                                         |
    | message.chainId            | string   | Y            | Chain ID                                                                           |
    | message.chainType          | string   | Y            | Chain type: `EVM` or `SOL`                                                         |
    | signature                  | string   | Y            | The EIP-712 signature string                                                      |
    | userAddress                | string   | Y            | The wallet address of the sender (must match the signer)                           |
    | verifyingContract          | string   | Y            | The contract address used in the EIP-712 domain                                    |

  


> **Note:** Ensure the `userAddress` matches the wallet address associated with the Orderly Account ID making
>   the request. The standard Orderly authentication headers (Orderly Key signature) are also required
>   for this API call.

##### Full example


```ts TypeScript


const ACCOUNT_ID = "0x...";
const ENV = 'mainnet';
const ORDERLY_KEY = "ed25519:xxx";
const ORDERLY_SECRET = "ed25519:xxx";
const WALLET_SECRET = "70xxxf9";
const USER_ADDRESS = "0x...";
const CHAIN_ID = ENV === 'mainnet' ? 42161 : 421614;
const LEDGER_CONTRACT_ADDRESS = ENV === 'mainnet' 
    ? "0x6F7a338F2aA472838dEFD3283eB360d4Dff5D203" 
    : "0x8794E7260517B1766fc7b55cAfcd56e6bf08600e";
const RECEIVER_ACCOUNT_ID = "0x...";
const TRANSFER_AMOUNT = 1000000;
const ORDERLY_TESTNET = ENV === 'testnet';

interface Client {
    _sign_request(method: string, path: string, payload?: any): Promise<any>;
}

async function get_transfer_nonce(client: Client): Promise<number | null> {
    try {
        const response = await client._sign_request("GET", "/v1/transfer_nonce");
        if (response.data && response.data.transfer_nonce) {
            return response.data.transfer_nonce;
        } else if (response.transfer_nonce) {
            return response.transfer_nonce;
        }
        return null;
    } catch (error) {
        return null;
    }
}

function sign_internal_transfer_message(
    receiver_account_id: string,
    token: string,
    amount: number,
    transfer_nonce: number,
    chain_id: number,
    ledger_contract_address: string,
    private_key: string
): string {
    const receiver_hex = receiver_account_id.startsWith('0x') 
        ? receiver_account_id.slice(2) 
        : receiver_account_id;
    const receiver_bytes32 = ethers.zeroPadValue('0x' + receiver_hex, 32);
    
    const domain = {
        name: "Orderly",
        version: "1",
        chainId: chain_id,
        verifyingContract: ledger_contract_address,
    };
    
    const types = {
        EIP712Domain: [
            { name: "name", type: "string" },
            { name: "version", type: "string" },
            { name: "chainId", type: "uint256" },
            { name: "verifyingContract", type: "address" },
        ],
        InternalTransfer: [
            { name: "receiver", type: "bytes32" },
            { name: "token", type: "string" },
            { name: "amount", type: "uint256" },
            { name: "transferNonce", type: "uint64" },
        ],
    };
    
    const message = {
        receiver: receiver_bytes32,
        token: token,
        amount: amount,
        transferNonce: transfer_nonce,
    };
    
    const wallet = new ethers.Wallet(private_key);
    const signature = wallet.signTypedDataSync(domain, types, message);
    return signature;
}

async function create_internal_transfer_v2(
    client: Client,
    receiver_account_id: string,
    token: string,
    amount: string,
    transfer_nonce: number,
    chain_id: number,
    chain_type: string,
    signature: string,
    user_address: string,
    verifying_contract: string
): Promise<any> {
    const payload = {
        message: {
            receiver: receiver_account_id,
            token: token,
            amount: amount,
            transferNonce: String(transfer_nonce),
            chainId: String(chain_id),
            chainType: chain_type,
        },
        signature: signature,
        userAddress: user_address,
        verifyingContract: verifying_contract,
    };
    
    try {
        return await client._sign_request("POST", "/v2/internal_transfer", payload);
    } catch (error) {
        return null;
    }
}

async function test_internal_transfer_v2(): Promise<any> {
    try {
        const { Rest: Client } = await import('orderly-evm-connector');
        
        const client = new Client({
            orderly_key: ORDERLY_KEY,
            orderly_secret: ORDERLY_SECRET,
            orderly_account_id: ACCOUNT_ID,
            wallet_secret: WALLET_SECRET,
            orderly_testnet: ORDERLY_TESTNET,
            debug: true
        });
        
        const transfer_nonce = await get_transfer_nonce(client);
        if (!transfer_nonce) {
            return null;
        }
        
        const signature = sign_internal_transfer_message(
            RECEIVER_ACCOUNT_ID,
            "USDC",
            TRANSFER_AMOUNT,
            transfer_nonce,
            CHAIN_ID,
            LEDGER_CONTRACT_ADDRESS,
            WALLET_SECRET
        );
        
        if (!signature) {
            return null;
        }
        
        return await create_internal_transfer_v2(
            client,
            RECEIVER_ACCOUNT_ID,
            "USDC",
            String(TRANSFER_AMOUNT),
            transfer_nonce,
            CHAIN_ID,
            "EVM",
            signature,
            USER_ADDRESS,
            LEDGER_CONTRACT_ADDRESS
        );
    } catch (error) {
        return null;
    }
}

test_internal_transfer_v2();
````

```py Python
from eth_account import Account
from eth_account.messages import encode_typed_data
from orderly_evm_connector.rest import Rest as Client
from orderly_evm_connector.error import ClientError

ACCOUNT_ID = "0x..."
ENV = 'mainnet'
ORDERLY_KEY = "ed25519:xxx"
ORDERLY_SECRET = "ed25519:xxx"
WALLET_SECRET = "70xxxf9"
USER_ADDRESS = "0x..."
CHAIN_ID = 42161 if ENV == 'mainnet' else 421614
LEDGER_CONTRACT_ADDRESS = "0x6F7a338F2aA472838dEFD3283eB360d4Dff5D203" if ENV == 'mainnet' else "0x8794E7260517B1766fc7b55cAfcd56e6bf08600e"
RECEIVER_ACCOUNT_ID = "0x..."
TRANSFER_AMOUNT = 1000000
ORDERLY_TESTNET = ENV == 'testnet'


def get_transfer_nonce(client):
    try:
        response = client._sign_request("GET", "/v1/transfer_nonce")
        if 'data' in response and 'transfer_nonce' in response['data']:
            return response['data']['transfer_nonce']
        elif 'transfer_nonce' in response:
            return response['transfer_nonce']
        return None
    except Exception:
        return None


def sign_internal_transfer_message(
    receiver_account_id: str,
    token: str,
    amount: int,
    transfer_nonce: int,
    chain_id: int,
    ledger_contract_address: str,
    private_key: str
):
    receiver_hex = receiver_account_id[2:] if receiver_account_id.startswith('0x') else receiver_account_id
    receiver_bytes = bytes.fromhex(receiver_hex)
        
    data = {
        "types": {
            "EIP712Domain": [
                {"name": "name", "type": "string"},
                {"name": "version", "type": "string"},
                {"name": "chainId", "type": "uint256"},
                {"name": "verifyingContract", "type": "address"},
            ],
            "InternalTransfer": [
                {"name": "receiver", "type": "bytes32"},
                {"name": "token", "type": "string"},
                {"name": "amount", "type": "uint256"},
                {"name": "transferNonce", "type": "uint64"},
            ],
        },
        "domain": {
            "name": "Orderly",
            "version": "1",
            "chainId": chain_id,
            "verifyingContract": ledger_contract_address,
        },
        "primaryType": "InternalTransfer",
        "message": {
            "receiver": receiver_bytes,
            "token": token,
            "amount": amount,
            "transferNonce": transfer_nonce,
        },
    }
    
    account = Account.from_key(private_key)
    signable_message = encode_typed_data(full_message=data)
    signed_message = account.sign_message(signable_message)
    return signed_message.signature.hex()


def create_internal_transfer_v2(
    client,
    receiver_account_id: str,
    token: str,
    amount: str,
    transfer_nonce: int,
    chain_id: int,
    chain_type: str,
    signature: str,
    user_address: str,
    verifying_contract: str
):
    payload = {
        "message": {
            "receiver": receiver_account_id,
            "token": token,
            "amount": amount,
            "transferNonce": str(transfer_nonce),
            "chainId": str(chain_id),
            "chainType": chain_type,
        },
        "signature": signature,
        "userAddress": user_address,
        "verifyingContract": verifying_contract,
    }
    
    try:
        return client._sign_request("POST", "/v2/internal_transfer", payload=payload)
    except ClientError:
        return None
    except Exception:
        return None


def test_internal_transfer_v2():
    try:
        client = Client(
            orderly_key=ORDERLY_KEY,
            orderly_secret=ORDERLY_SECRET,
            orderly_account_id=ACCOUNT_ID,
            wallet_secret=WALLET_SECRET,
            orderly_testnet=ORDERLY_TESTNET,
            debug=True
        )
        
        transfer_nonce = get_transfer_nonce(client)
        if not transfer_nonce:
            return None
        
        signature = sign_internal_transfer_message(
            receiver_account_id=RECEIVER_ACCOUNT_ID,
            token="USDC",
            amount=TRANSFER_AMOUNT,
            transfer_nonce=transfer_nonce,
            chain_id=CHAIN_ID,
            ledger_contract_address=LEDGER_CONTRACT_ADDRESS,
            private_key=WALLET_SECRET
        )
        
        if not signature:
            return None
        
        return create_internal_transfer_v2(
            client=client,
            receiver_account_id=RECEIVER_ACCOUNT_ID,
            token="USDC",
            amount=str(TRANSFER_AMOUNT),
            transfer_nonce=transfer_nonce,
            chain_id=CHAIN_ID,
            chain_type="EVM",
            signature=signature,
            user_address=USER_ADDRESS,
            verifying_contract=LEDGER_CONTRACT_ADDRESS
        )
    except Exception:
        return None


if __name__ == "__main__":
    test_internal_transfer_v2()
```


## EVM REST API

### Introduction

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/introduction](https://orderly.network/docs/build-on-omnichain/evm-api/introduction)

We provide two interfaces to communicate between Orderly and clients.

[RESTful API interface](#restful-api): Provides sending events like create order, cancel order, fetch balance, etc.

[Websocket interface](#websocket-api): Provides real-time orderbook data feed and order update feed.


#### Base endpoints

`https://api.orderly.org/` **(Mainnet)**

`https://testnet-api.orderly.org` **(Testnet)**

#### General Information on REST Endpoints

For `GET` and `DELETE` endpoints, parameters must be sent as a `query string`.

For `POST` and `PUT` endpoints, the parameters must be sent in the `request body` with content type `application/json`.

Parameters may be sent in any order.

#### Authorization 

All our private interfaces require signing via cryptographically secure keys for authentication, also known as Orderly key.  
Please set the corresponding header in your request. Please refer to [API authentication](/build-on-omnichain/evm-api/api-authentication) for more information.

#### Symbol  

Orderly uses the format of `PERP_<SYMBOL>_USDC` to represent a symbol name, for example: `PERP_ETH_USDC`.

#### Rate Limit

Rate limit is counted using the Orderly key. If your application reached the rate limit of certain endpoint, the server will return an error result with http code `429`. You may need wait until next time horizon.

#### Error Message 

> **Errors consist of three parts: an error code, detailed message and a success flag.**

```js
{
  "success": false,
  "code": -1005, // Error code
  "message": "order_price must be a positive number" // Detail message  
}
```

All API will return following json when api fails, the "message" will contain the detail error message, it may be because some data are in wrong format, or other reasons.  
Specific error codes and messages are defined in [Error Codes](/build-on-omnichain/evm-api/error-codes).


### API Authentication

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/api-authentication](https://orderly.network/docs/build-on-omnichain/evm-api/api-authentication)

#### Generate Request Signature

Orderly uses the [`ed25519` elliptic curve standard](https://ed25519.cr.yp.to/) for request authentication via signature verification. The necessary steps in order to send a valid request to Orderly are provided below.


  **Step: Orderly account ID**

    Before being able to authenticate, you must first register your account and get your account ID.
    The registration steps are provided [here](/build-on-omnichain/user-flows/accounts).
    You need to add your account ID to the request header as `orderly-account-id`.
  
  **Step: Access key (Orderly key)**

    Your Orderly public key needs to be added to the request header as `orderly-key`. To generate and add a new Orderly key, please refer to [the documentation](/build-on-omnichain/user-flows/wallet-authentication#orderly-key).
    You can also get Orderly keys from frontend builders like [WOOFi Pro](https://pro.woofi.com).
  
  **Step: Timestamp**

    Take the timestamp of the request in milliseconds and add it as `orderly-timestamp` to the request header.
  
  **Step: Normalize request content**

    The message that you need to sign with your Orderly private key needs to be normalized to a string via this method:

    1. Get current timestamp in milliseconds, e.g. 1649920583000
    2. Append HTTP method in uppercase, e.g. POST
    3. Append path of request **including** query parameters (without base URL), e.g. /v1/orders?symbol=PERP_BTC_USDC
    4. (optional) If request has method body, JSON stringify this and append it

    The resulting string could look like following:

```
1649920583000POST/v1/order{"symbol": "PERP_ETH_USDC", "order_type": "LIMIT", "order_price": 1521.03, "order_quantity": 2.11, "side": "BUY"}
```

  
  **Step: Generate a signature**

    Use the normalized request content to generate a signature using the `ed25519` algorithm, and encode the signature in base64 url-safe format. Add the result to the request headers as `orderly-signature`.
  
  **Step: Content type**

    Add `Content-Type` header. All `GET` and `DELETE` requests use `application/x-www-form-urlencoded`. Any other method type uses `application/json`.
  
  **Step: Send the request**

  The final request should have following headers:

`Content-Type`, `orderly-account-id`, `orderly-key`, `orderly-signature`, `orderly-timestamp`

  


> **Note:** Orderly key should be used without the ed25519\: prefix when used in code samples below.

##### Full example


  **Java:**

    
```Java AuthenticationExample.java


public class AuthenticationExample {
public static void main(String[] args) throws Exception {
String baseUrl = "https://testnet-api.orderly.org";
String orderlyAccountId = "<orderly-account-id>";

      Dotenv dotenv = Dotenv.load();
      OkHttpClient client = new OkHttpClient();

      String key = dotenv.get("ORDERLY_SECRET");
      EdDSAParameterSpec spec = EdDSANamedCurveTable.getByName(EdDSANamedCurveTable.ED_25519);
      EdDSAPrivateKeySpec encoded = new EdDSAPrivateKeySpec(Base58.decode(key), spec);
      EdDSAPrivateKey orderlyKey = new EdDSAPrivateKey(encoded);

      Signer signer = new Signer(baseUrl, orderlyAccountId, orderlyKey);

      JSONObject json = new JSONObject();
      json.put("symbol", "PERP_ETH_USDC");
      json.put("order_type", "MARKET");
      json.put("order_quantity", 0.01);
      json.put("side", "BUY");
      Request req = signer.createSignedRequest("/v1/order", "POST", json);
      String res;
      try (Response response = client.newCall(req).execute()) {
         res = response.body().string();
      }
      JSONObject obj = new JSONObject(res);

}
}

````

```Java Signer.java


public class Signer {
   public final String baseUrl;

   private String accountId;
   private EdDSAPrivateKey privateKey;

   public Signer(String baseUrl, String accountId, EdDSAPrivateKey privateKey) {
      this.baseUrl = baseUrl;
      this.accountId = accountId;
      this.privateKey = privateKey;
   }

   public Request createSignedRequest(String url)
         throws SignatureException, UnsupportedEncodingException, InvalidKeyException, OrderlyClientException {
      checkIsInitialized();
      return createSignedRequest(url, "GET", null);
   }

   public Request createSignedRequest(String url, String method, JSONObject json)
         throws OrderlyClientException, InvalidKeyException, SignatureException, UnsupportedEncodingException {
      checkIsInitialized();
      if (method == "GET" || method == "DELETE") {
         return createSignedFormRequest(url, method);
      } else if ((method == "POST" || method == "PUT") && json != null) {
         return createSignedJsonRequest(url, method, json);
      } else {
         throw new IllegalArgumentException();
      }
   }

   private void checkIsInitialized() throws OrderlyClientException {
      if (accountId == null) {
         throw OrderlyClientExceptionReason.ACCOUNT_UNINITIALIZED.asException();
      }
      if (privateKey == null) {
         throw OrderlyClientExceptionReason.KEYPAIR_UNINITIALIZED.asException();
      }
   }

   private Request createSignedFormRequest(String url, String method)
         throws SignatureException, UnsupportedEncodingException, InvalidKeyException {
      long timestamp = Instant.now().toEpochMilli();
      String message = "" + timestamp + method + url;

      EdDSAEngine signature = new EdDSAEngine();
      signature.initSign(privateKey);
      byte[] orderlySignature = signature.signOneShot(message.getBytes("UTF-8"));

      return new Request.Builder()
            .url(baseUrl + url)
            .addHeader("Content-Type", "x-www-form-urlencoded")
            .addHeader("orderly-timestamp", "" + timestamp)
            .addHeader("orderly-account-id", accountId)
            .addHeader("orderly-key", Util.encodePublicKey(privateKey))
            .addHeader("orderly-signature", Base64.getUrlEncoder().encodeToString(orderlySignature))
            .get()
            .build();
   }

   private Request createSignedJsonRequest(String url, String method, JSONObject json)
         throws SignatureException, UnsupportedEncodingException, InvalidKeyException {
      RequestBody body = RequestBody.create(json.toString(), MediaType.parse("application/json"));

      long timestamp = Instant.now().toEpochMilli();
      String message = "" + timestamp + method + url + json.toString();

      EdDSAEngine signature = new EdDSAEngine();
      signature.initSign(privateKey);
      byte[] orderlySignature = signature.signOneShot(message.getBytes("UTF-8"));

      return new Request.Builder()
            .url(baseUrl + url)
            .addHeader("Content-Type", "application/json")
            .addHeader("orderly-timestamp", "" + timestamp)
            .addHeader("orderly-account-id", accountId)
            .addHeader("orderly-key", Util.encodePublicKey(privateKey))
            .addHeader("orderly-signature", Base64.getUrlEncoder().encodeToString(orderlySignature))
            .post(body)
            .build();
   }
}
````

    

  
  **Python:**

    
```py authentication_example.py


from base58 import b58decode
from requests import Request, Session

from cryptography.hazmat.primitives.asymmetric.ed25519 import Ed25519PrivateKey

from signer import Signer

base_url = "https://testnet-api.orderly.org"
orderly_account_id = "<orderly-account-id>"

key = b58decode(os.environ.get("ORDERLY_SECRET"))
orderly_key = Ed25519PrivateKey.from_private_bytes(key)

session = Session()
signer = Signer(orderly_account_id, orderly_key)

req = signer.sign_request(
Request(
"POST",
"%s/v1/order" % base_url,
json={
"symbol": "PERP_ETH_USDC",
"order_type": "MARKET",
"order_quantity": 0.01,
"side": "BUY",
},
)
)
res = session.send(req)
response = json.loads(res.text)

````

```py signer.py
from base58 import b58encode
from base64 import urlsafe_b64encode
from datetime import datetime


from cryptography.hazmat.primitives.asymmetric.ed25519 import Ed25519PrivateKey
from requests import PreparedRequest, Request


class Signer(object):
    def __init__(
        self,
        account_id: str,
        private_key: Ed25519PrivateKey,
    ) -> None:
        self._account_id = account_id
        self._private_key = private_key

    def sign_request(self, req: Request) -> PreparedRequest:
        d = datetime.utcnow()
        epoch = datetime(1970, 1, 1)
        timestamp = math.trunc((d - epoch).total_seconds() * 1_000)

        json_str = ""
        if req.json is not None:
            json_str = json.dumps(req.json)

        url = urllib.parse.urlparse(req.url)
        message = str(timestamp) + req.method + url.path + json_str
        if len(url.query) > 0:
            message += "?" + url.query

        orderly_signature = urlsafe_b64encode(
            self._private_key.sign(message.encode())
        ).decode("utf-8")

        req.headers = {
            "orderly-timestamp": str(timestamp),
            "orderly-account-id": self._account_id,
            "orderly-key": encode_key(
                self._private_key.public_key().public_bytes_raw()
            ),
            "orderly-signature": orderly_signature,
        }
        print(req.headers)
        if req.method == "GET" or req.method == "DELETE":
            req.headers["Content-Type"] = "application/x-www-form-urlencoded"
        elif req.method == "POST" or req.method == "PUT":
            req.headers["Content-Type"] = "application/json"

        return req.prepare()


def encode_key(key: bytes):
    return "ed25519:%s" % b58encode(key).decode("utf-8")
````

    

  
  **TypeScript:**

    
```ts authenticationExample.ts


// this is only necessary in Node.js to make `@noble/ed25519` dependency work
if (!globalThis.crypto) globalThis.crypto = webcrypto as any;

config();

async function main() {
const baseUrl = 'https://testnet-api.orderly.org';
const orderlyAccountId = '<orderly-account-id>';

const orderlyKey = bs58.decode(process.env.ORDERLY_SECRET!);

const res = await signAndSendRequest(orderlyAccountId, orderlyKey, `${baseUrl}/v1/order`, {
method: 'POST',
body: JSON.stringify({
symbol: 'PERP_ETH_USDC',
order_type: 'MARKET',
order_quantity: 0.01,
side: 'BUY'
})
});
const response = await res.json();
console.log(response);
}

main();

````

```ts signer.ts


  orderlyAccountId: string,
  privateKey: Uint8Array | string,
  input: URL | string,
  init?: RequestInit | undefined
): Promise<Response> {
  const timestamp = Date.now();
  const encoder = new TextEncoder();

  const url = new URL(input);
  let message = `${String(timestamp)}${init?.method ?? 'GET'}${url.pathname}${url.search}`;
  if (init?.body) {
    message += init.body;
  }
  const orderlySignature = await signAsync(encoder.encode(message), privateKey);

  return fetch(input, {
    headers: {
      'Content-Type':
        init?.method !== 'GET' && init?.method !== 'DELETE'
          ? 'application/json'
          : 'application/x-www-form-urlencoded',
      'orderly-timestamp': String(timestamp),
      'orderly-account-id': orderlyAccountId,
      'orderly-key': `ed25519:${encodeBase58(await getPublicKeyAsync(privateKey))}`,
      'orderly-signature': Buffer.from(orderlySignature).toString('base64url'),
      ...(init?.headers ?? {})
    },
    ...(init ?? {})
  });
}
````

    

  
  **Shell:**

  ``` shell cURL
  curl --request POST \
  --url https://api.orderly.org/v1/order \
  --header 'Content-Type: application/json' \
  --header 'orderly-account-id: <orderly-account-id>' \
  --header 'orderly-key: ed25519:8tm7dnKYkSc3FzgPuJaw1wztr79eeZpN35nHW5pL5XhX' \
  --header 'orderly-signature: dG4bkKiqG0dUYLzViRZkvbI6Sy239JxAdNMIBxFZ4w030Jofr0ORV06GHtvXZkaZaWUXE+XAU3fnzKN/5fDeBQ==' \
  --header 'orderly-timestamp: 1649920583000' \
  --data '{
  "symbol": "<symbol>",
  "order_type": "<order_type>",
  "side": "<side>",
  "reduce_only": false
}'
```
  


#### Security

There is a three-layer checker to verify a request is valid. Orderly server only accepts the request that passes all checks. The checker contains the following:

##### Request Timestamp

The request would be considered expired and get rejected if the timestamp in `orderly-timestamp` header has 300+ seconds difference from the API server time.

##### HMAC Parameter Signature

The request must have a `orderly-signature` header that is generated from request parameters and signed with your Orderly secret key.

##### Orderly Key Validity Check

The request must have an `orderly-key` header, and the `orderly-key` has to be added to the network via the Add Key functionality, matched with the account and is still valid (not expired yet).


### Error Codes

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/error-codes](https://orderly.network/docs/build-on-omnichain/evm-api/error-codes)

| Error Code | Status Code | Description                                                                                                                                                              |
|------------|-------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -1000      | 500         | An unknown error occurred while processing the request.                                                                                                                  |
| -1000      | 500         | The data does not exist                                                                                                                                                  |
| -1001      | 401         | The api key or secret is in wrong format.                                                                                                                                |
| -1002      | 401         | API key or secret is invalid, it may be because key have insufficient permission or the key is expired/revoked.                                                          |
| -1003      | 429         | Rate limit exceed.                                                                                                                                                       |
| -1004      | 400         | An unknown parameter was sent.                                                                                                                                           |
| -1005      | 400         | Some parameters are in wrong format for api.                                                                                                                             |
| -1005      | 400         | ratio_qty_request should be in range 0-1.                                                                                                                                |
| -1005      | 400         | extra_liquidation_ratio should be in range 0-1.                                                                                                                          |
| -1005      | 400         | if you set extra_liquidation_ratio > 0, ratio_qty_request must be 1.                                                                                                     |
| -1006      | 400         | The data is not found in server. For example, when client try canceling a CANCELLED order, will raise this error.                                                        |
| -1007      | 409         | The data is already exists or your request is duplicated.                                                                                                                |
| -1008      | 400         | The quantity of settlement is too high than you can request.                                                                                                             |
| -1009      | 400         | Can not request withdrawal settlement, you need to deposit other arrears first.                                                                                          |
| -1011      | 400         | Can not place/cancel orders, it may be because internal network error. Please try again in a few seconds.                                                                |
| -1012      | 400         | The place/cancel order request is rejected by internal module, it may because the account is in liquidation or other internal errors. Please try again in a few seconds. |
| -1012      | 400         | Another liquidation is in process                                                                                                                                        |
| -1101      | 400         | The risk exposure for client is too high, it may cause by sending too big order or the leverage is too low. please refer to client info to check the current exposure.   |
| -1101      | 400         | The margin will be insufficient after.                                                                                                                                   |
| -1102      | 400         | The order value (price * size) is too small.                                                                                                                             |
| -1103      | 400         | Order price is below the minimum allowed price {quote_min}.                                                                                                              |
| -1103      | 400         | Order price exceeds the maximum allowed price {quote_max}.                                                                                                               |
| -1103      | 400         | Order price does not match the tick size.                                                                                                                                |
| -1104      | 400         | Order quantity is below the minimum allowed amount {base_min}.                                                                                                           |
| -1104      | 400         | Order quantity exceeds the maximum allowed amount {base_max}.                                                                                                            |
| -1104      | 400         | Order quantity does not match the step size.                                                                                                                             |
| -1104      | 400         | Visible quantity does not match the step size.                                                                                                                           |
| -1105      | 400         | Price is X% too high or X% too low from the mid price.                                                                                                                   |
| -1201      | 400         | total notional < 10000, least req ratio should = 1                                                                                                                       |
| -1201      | 400         | least req ratio should = xxxx                                                                                                                                            |
| -1202      | 400         | No need to liquidation because user margin is enough.                                                                                                                    |
| -1202      | 400         | Can not find given liquidationId.                                                                                                                                        |


## EVM REST API - Registration & Key Management

### Get Registration Nonce

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-registration-nonce](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-registration-nonce)

**GET** `/v1/registration_nonce`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/registration_nonce`

Retrieve a nonce used for registering an account on Orderly. The validity of the nonce value is `2` minutes. Each nonce can only be used once (ie for one account).


**Response:**
```json
{}
```



### Check if Wallet is Registered

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/check-if-wallet-is-registered](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/check-if-wallet-is-registered)

**GET** `/v1/get_account`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/get_account`

Check whether a wallet has a registered account with provided broker_id.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| address | query | string | Yes | The address of the user wallet |
| broker_id | query | string | Yes | The builder that the account is registered on |
| chain_type | query | string | No | `EVM` or `SOL` |


**Response:**
```json
{}
```



### Register Account

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/register-account](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/register-account)

**POST** `/v1/register_account`

**Limit: 10 requests per 1 second per IP address**

`POST /v1/register_account`

Registers a new account to Orderly. Note an account is unique for each wallet address + builder id (ie the same wallet address can have multiple accounts with Orderly, 1 with each builder)



**Request Body:**
```json
{
  "message": {
  "brokerId": "<string>"
  "chainId": "<integer>"
  "chainType": "<string>"
  "timestamp": "<string>"
  "registrationNonce": "<string>"
}
  "signature": "<string>"
  "userAddress": "<string>"
}
```


**Response:**
```json
{}
```



### Get Orderly Key

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-orderly-key](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-orderly-key)

**GET** `/v1/get_orderly_key`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/get_orderly_key`

Check the validity of an Orderly access key attached to the account.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| account_id | query | string | Yes | The account id of the user. |
| orderly_key | query | string | Yes | The public key of the Orderly access key. |


**Response:**
```json
{}
```



### Add Orderly Key

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/add-orderly-key](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/add-orderly-key)

**POST** `/v1/orderly_key`

**Limit: 10 requests per 1 second per IP address**

`POST /v1/orderly_key`

Adds an Orderly access key to an account.

Main account's Orderly key can control sub-account.



**Request Body:**
```json
{
  "message": {
  "brokerId": "<string>"
  "chainId": "<integer>"
  "chainType": "<string>"
  "orderlyKey": "<string>"
  "scope": "<string>"
  "timestamp": "<number>"
  "expiration": "<number>"
  "tag": "<string>"
  "subAccountId": "<string>"
}
  "signature": "<string>"
  "userAddress": "<string>"
}
```


**Response:**
```json
{}
```



### Remove Orderly Key

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/remove-orderly-key](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/remove-orderly-key)

**POST** `/v1/client/remove_orderly_key`

**Limit: 10 requests per 1 second per IP address**

`POST /v1/client/remove_orderly_key`

Remove an Orderly key from an account, deactivating it from all usage



**Request Body:**
```json
{
  "orderly_key": "<string>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Get Current Orderly Key Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-current-orderly-key-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-current-orderly-key-info)

**GET** `/v1/client/key_info`

**Limit 10 requests per 60 seconds**

`GET /v1/client/key_info`

Retrieve all the registered Orderly key pairs under the account.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| key_status | query | string | No | Filter by the status of the key (ACTIVE / REMOVING / REMOVED) |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Orderly Key IP Restriction

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-orderly-key-ip-restriction](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-orderly-key-ip-restriction)

**GET** `/v1/client/orderly_key_ip_restriction`

**Limit 10 requests per 60 seconds**

`GET /v1/client/orderly_key_ip_restriction`

Retrieves the current IP restriction of a particular Orderly key.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| orderly_key | query | string | Yes | The Orderly Key to query the IP restriction list |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Set Orderly Key IP Restriction

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/set-orderly-key-ip-restriction](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/set-orderly-key-ip-restriction)

**POST** `/v1/client/set_orderly_key_ip_restriction`

**Limit: 10 requests per 60 seconds**

`POST /v1/client/set_orderly_key_ip_restriction`

Set the IP restrictions of a particular Orderly key under the account.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| orderly_key | query | string | Yes | The Orderly Key to set the IP restriction list. |
| ip_restriction_list | query | string | Yes | List of IP or IP ranges (comma separated), that will be allowed to place orders with the orderly_key. |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Reset Orderly Key IP Restriction

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/reset-orderly-key-ip-restriction](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/reset-orderly-key-ip-restriction)

**POST** `/v1/client/reset_orderly_key_ip_restriction`

**Limit: 10 requests per 60 seconds**

`POST /v1/client/reset_orderly_key_ip_restriction`

Reset the IP restriction of a particular Orderly key under the account.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| orderly_key | query | string | Yes | The Orderly Key to set the IP restriction list |
| reset_mode | query | string | Yes | The new mode of the IP restriction for this Orderly Key (ALLOW_ALL_IPS, DISALLOW_ALL_IPS). |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Add Delegate Signer Orderly Key

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/add-delegate-signer-orderly-key](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/add-delegate-signer-orderly-key)

**POST** `/v1/delegate_orderly_key`

**Limit: 1 requests per second**

`POST /v1/delegate_orderly_key`



**Request Body:**
```json
{
  "message": {
  "delegateContract": "<string>"
  "brokerId": "<string>"
  "chainId": "<integer>"
  "orderlyKey": "<string>"
  "scope": "<string>"
  "timestamp": "<number>"
  "expiration": "<number>"
}
  "signature": "<string>"
  "userAddress": "<string>"
}
```


**Response:**
```json
{}
```



### Add SP Orderly Key

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/add-sp-orderly-key](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/add-sp-orderly-key)

**POST** `/v1/sv/sp_orderly_key`


**Limit: 10 requests per second per IP address**

`POST /v1/sv/sp_orderly_key`

Adds an Orderly access key to a SP account



**Request Body:**
```json
{
  "message": {
  "contract": "<string>"
  "brokerId": "<string>"
  "chainId": "<number>"
  "orderlyKey": "<string>"
  "scope": "<string>"
  "timestamp": "<number>"
  "expiration": "<number>"
  "subAccountId": "<string>"
}
  "signature": "<string>"
  "userAddress": "<string>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



## EVM REST API - Order Management

### Get Market Trades

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-market-trades](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-market-trades)

**GET** `/v1/public/market_trades`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/market_trades`

Get the latest market trades.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | Yes |  |
| limit | query | integer | No | Numbers of trades want to query. |


**Response:**
```json
{}
```



### Get Open Interests for All Symbols

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-open-interests-for-all-symbols](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-open-interests-for-all-symbols)

**GET** `/v1/public/market_info/traders_open_interests`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/market_info/traders_open_interests`

Return the long/short Open Interests for all symbols (mm accounts are excluded).



**Response:**
```json
{}
```



### Get Order Rules per Symbol

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-order-rules-per-symbol](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-order-rules-per-symbol)

**GET** `/v1/public/info/{symbol}`


**Limit: 10 requests per 1 second per IP address**


`GET /v1/public/info/{symbol}`


This endpoint provides all the values for the rules that an order need
to fulfil in order for it to be placed successfully. The rules are
defined as follows:


Price filter


- `price` >= `quote_min`

- `price` =< `quote_max`

- `(price - quote_min) % quote_tick` should equal to zero

- `price` =< `mark_price * (1 + price_range)` when BUY

- `price` >= `mark_price * (1 - price_range)` when SELL


Size filter


- `base_min` =< `quantity` =< `base_max`

- `(quantity - base_min) % base_tick` should equal to zero


Min Notional filter


- `price * quantity` should greater than `min_notional`


Risk Exposure filer


- Order size should be within holding threshold. See
[account_info](/docs/build-on-omnichain/evm-api/restful-api/private/get-account-information)


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | path | string | Yes |  |


**Response:**
```json
{}
```



### Create Order

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/create-order](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/create-order)

**POST** `/v1/order`

**Limit: 10 requests per 1 second**

`POST /v1/order`

Place order maker/taker, the order executed information will be update from websocket stream.
will response immediately with an order created message.

`MARKET` type order behavior: it matches until the full size is executed. If the size is too large (larger than whole book) or the matching price exceeds the price limit (refer to `price_range`), then the remaining quantity will be cancelled.

`IOC` type order behavior: it matches as much as possible at the order_price. If not fully executed, then remaining quantity will be cancelled.

`FOK` type order behavior: if the order can be fully executed at the order_price then the order gets fully executed otherwise would be cancelled without any execution.

`POST_ONLY` type order behavior: if the order will be executed with any maker trades at the time of placement, then it will be cancelled without any execution.

`ASK` type order behavior: the order price is guranteed to be the best ask price of the orderbook at the time it gets accepted.

`BID` type order behavior: the order price is guranteed to be the best bid price of the orderbook at the time it gets accepted.

`visible_quantity` behavior: it sets the maximum quantity to be shown on orderbook. By default, it is equal to order_quantity, negative number and number larger than `order_quantity` is not allowed. If it sets to 0, the order would be hidden from the orderbook. It doesn't work for `MARKET`/`IOC`/`FOK` orders since orders with these types would be executed and cancelled immediately and not be shown on orderbook. For `LIMIT` order, as long as it's not complete, `visible_quantity` is the maximum quantity that shown on orderbook.

`order_quantity` are provided. The precision of the number should be within 8 digits.

`client_order_id` behavior: customized order_id, a unique id among open orders. Orders with the same `client_order_id` can be accepted only when the previous one if completed, otherwise the order will be rejected.

Note: This endpoint requires `trading` scope in Orderly Key.

**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "symbol": "PERP_ETH_USDC"
  "client_order_id": "<string>"
  "order_type": "<string>"
  "order_price": "<number>"
  "order_quantity": "<number>"
  "order_amount": "<number>"
  "visible_quantity": "<number>"
  "side": "<string>"
  "reduce_only": "<boolean>"
  "slippage": "<number>"
}
```


**Response:**
```json
{}
```



### Cancel Order

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/cancel-order](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/cancel-order)

**DELETE** `/v1/order`

**Limit: 10 requests per 1 second**

`DELETE /v1/order?order_id={order_id}&symbol={symbol}`

Cancels a single order by `order_id`.

Note: This endpoint requires `trading` scope in Orderly Key.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | Yes |  |
| order_id | query | number | Yes |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Edit Order

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/edit-order](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/edit-order)

**PUT** `/v1/order`

**Limit: 10 request per 1 second**

`PUT /v1/order`

Edit a pending order by `order_id`. Only the `order_price` or `order_quantity` can be amended.

Note: This endpoint requires `trading` scope in Orderly Key.

**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "order_id": "<string>"
  "symbol": "<string>"
  "client_order_id": "<string>"
  "order_type": "<string>"
  "order_price": "<number>"
  "order_quantity": "<number>"
  "order_amount": "<number>"
  "reduce_only": "<boolean>"
  "visible_quantity": "<number>"
  "side": "<string>"
}
```


**Response:**
```json
{}
```



### Get Order by order_id

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-order-by-order_id](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-order-by-order_id)

**GET** `/v1/order/{order_id}`

**Limit: 10 requests per 1 second**

`GET /v1/order/{order_id}`

Get details of a single order by `order_id`.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| order_id | path | string | Yes | id of the order |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Trades

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-trades](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-trades)

**GET** `/v1/trades`

**Limit: 10 requests per 1 second**

`GET /v1/trades`

Return client’s trades history within a time range.

Only return the latest 500 entries.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | No |  |
| start_t | query | number | No | start time range that wish to query, noted the time stamp is 13-digits timestamp. |
| end_t | query | number | No | end time range that wish to query, noted the time stamp is 13-digits timestamp. |
| page | query | number | No | the page you wish to query. start from 1 |
| size | query | number | No | the page size you wish to query. (max: 500) |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Orders

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-orders](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-orders)

**GET** `/v1/orders`

**Limit: 10 requests per 1 second**

`GET /v1/orders`

Get orders by customized filters.

For filter by status, one can reference special bundled statuses below for ease of access of Open (ie `INCOMPLETE`) orders or `COMPLETED` orders.

- `INCOMPLETE` = `NEW` + `PARTIAL_FILLED`
- `COMPLETED` = `CANCELLED` + `FILLED`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | No |  |
| side | query | string | No | `BUY`/`SELL` |
| order_type | query | string | No | `LIMIT`/`MARKET` |
| status | query | string | No | `NEW`/`CANCELLED`/`PARTIAL_FILLED`/`FILLED`/`REJECTED`/`INCOMPLETE`/`COMPLETED` |
| order_tag | query | string | No |  |
| start_t | query | number | No | start time range that wish to query, noted the time stamp is 13-digits timestamp. |
| end_t | query | number | No | end time range that wish to query, noted the time stamp is 13-digits timestamp. |
| page | query | number | No | the page you wish to query. start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |
| sort_by | query | string | No | If empty: 

Descending order by updated_time if user passed update_start_t or update_end_t; descending order by order_id if updated_time are the same; 

Otherwise descending order by created_time; descending order by order_id if created_time are the same;


If not empty:

If sort_by == `CREATED_TIME_DESC`, descending order by created_time. Descending order by order_id if created_time are same;

If sort_by == `CREATED_TIME_ASC`, ascending order by created_time. Ascending order by order_id if created_time are same;

If sort_by == `UPDATED_TIME_DESC`, descending order by updated_time. Descending order by order_id if updated_time are same;

If sort_by == `UPDATED_TIME_ASC`, ascending order by updated_time. Ascending order by order_id if updated_time are same;
 |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Cancel All Pending Orders

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/cancel-all-pending-orders](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/cancel-all-pending-orders)

**DELETE** `/v1/orders`

**Limit: 10 requests per 1 second**

`DELETE /v1/orders?symbol={symbol}`

Cancel a list of orders, filtered by `symbol` optionally. This request will cancel all open orders within the filter criteria, and will cancel all open orders if no filter is provided.

Note: This endpoint requires `trading` scope in Orderly Key.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Cancel All After

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/cancel-all-after](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/cancel-all-after)

**POST** `/v1/order/cancel_all_after`

**Limit: 1 request per 1 second**

`POST /v1/order/cancel_all_after`

Cancels all of the user's ordinary and algo orders after being called (dead man switch).

Note: Users must apply for access before using this endpoint.

**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "trigger_after": 5000
}
```


**Response:**
```json
{}
```



### Batch Create Order

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/batch-create-order](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/batch-create-order)

**POST** `/v1/batch-order`

**Limit: 1 request per 1 second**

`POST /v1/batch-order`

Creates a batch of orders as a list according to the same rules as a single Create Order.

Parameters for each order within the batch will be the same as the create single order. The batch of orders should be sent as a JSON array containing all the orders. The maximum number of orders that can be sent in 1 batch order request is 10. Each order within the batch order request is counted as 1 order towards the overall create order rate limit.



Note: This endpoint requires `trading` scope in Orderly Key.

**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "orders": [{
  "symbol": "<string>"
  "client_order_id": "<string>"
  "order_type": "<string>"
  "order_price": "<number>"
  "order_quantity": "<number>"
  "order_amount": "<number>"
  "visible_quantity": "<number>"
  "side": "<string>"
  "order_tag": "<string>"
}]
}
```


**Response:**
```json
{}
```



### Batch Cancel Orders

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/batch-cancel-orders](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/batch-cancel-orders)

**DELETE** `/v1/batch-order`

**Limit: 10 requests per 1 second**

`DELETE /v1/batch-order?order_ids={order_id1},{order_id2}`

Cancel a list of orders by `order_ids`. The maximum orders that can be cancelled within 1 batch cancel request is 10. 

This endpoint will return invalid order_id error if 0 order_ids are given or all of the given order_ids are invalid. 

Note: This endpoint requires `trading` scope in Orderly Key.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| order_ids | query | string | Yes | List of order_ids, comma-separated, with a maximum of 10 order ids per request. |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Cancel Order By client_order_id

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/cancel-order-by-client_order_id](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/cancel-order-by-client_order_id)

**DELETE** `/v1/client/order`

**Limit: 10 requests per 1 second**

`DELETE /v1/client/order?client_order_id={client_order_id}&symbol={symbol}`

Cancel an order by `client_order_id`.

Note: This endpoint requires `trading` scope in Orderly Key.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | Yes |  |
| client_order_id | query | string | Yes |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Batch Cancel Orders By client_order_id

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/batch-cancel-orders-by-client_order_id](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/batch-cancel-orders-by-client_order_id)

**DELETE** `/v1/client/batch-order`

**Limit: 10 requests per 1 second**

`DELETE /v1/client/batch-order?client_order_ids={client_order_id1},{client_order_id2}`

Cancel a list of orders by `client_order_ids`. The maximum orders that can be cancelled within 1 batch cancel request is 10.

This endpoint will return invalid client_order_id error if 0 client_order_ids are given or all of the given client_order_ids are invalid. 

Note: This endpoint requires `trading` scope in Orderly Key.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| client_order_ids | query | string | Yes | List of client_order_ids, comma-separated, with a maximum of 10 order ids per request. |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Order by client_order_id

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-order-by-client_order_id](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-order-by-client_order_id)

**GET** `/v1/client/order/{client_order_id}`

**Limit: 10 requests per 1 second**

`GET /v1/client/order/{client_order_id}`

Get details of a single order by `client_order_id`.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| client_order_id | path | string | Yes | client_order_id of the order |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get All Trades of Specific Order

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-all-trades-of-specific-order](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-all-trades-of-specific-order)

**GET** `/v1/order/{order_id}/trades`

**Limit: 10 requests per 1 second**

`GET /v1/order/{order_id}/trades`

Get specific trades of an order by `order_id`.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| order_id | path | number | Yes |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Trade

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-trade](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-trade)

**GET** `/v1/trade/{trade_id}`

**Limit: 10 requests per 1 second**

`GET /v1/trade/{trade_id}`

Get specific transaction details by `trade_id`.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| trade_id | path | number | Yes | id of the trade |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Create Algo Order

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/create-algo-order](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/create-algo-order)

**POST** `/v1/algo/order`

**Limit: 1 request per 1 second**

`POST /v1/algo/order`

Place maker/taker order that requires an additional trigger for order execution such as stop orders.

`STOP` type order bahavior: an order to buy or sell at the market/limit price once the asset has traded at or through a specified price (the "stop price"). If the asset reaches the stop price, the order becomes a market order and is filled at the next available market price.

To place `Positional TP/SL` order, the input fields is 2 layer and includes an array of the objects named childOrder. The take-profit or stop-loss order should be the objects in the array. For the sub-order in childOrder, please input `CLOSE_POSITION` as type, and `TAKE_PROFIT` or `STOP_LOSS` in algoType field.
To place `Trailing Stop` order, please use `TRAILING_STOP` as algoType and `MARKET` as type. Please also input your trailing rate setting in callbackRate field.

Sample request can be found [here](/docs/build-on-omnichain/user-flows/algo-order-samples)

Note: This endpoint requires trading scope in Orderly Key.

**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "symbol": "<string>"
  "algo_type": "<string>"
  "client_order_id": "<string>"
  "type": "<string>"
  "price": "<number>"
  "quantity": "<number>"
  "trigger_price_type": "<string>"
  "trigger_price": "<number>"
  "reduce_only": "<boolean>"
  "visible_quantity": "<boolean>"
}
```


**Response:**
```json
{}
```



### Edit Algo Order

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/edit-algo-order](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/edit-algo-order)

**PUT** `/v1/algo/order`

**Limit: 5 requests per 1 second**

`PUT /v1/algo/order`

Edit a pending algo order by `order_id`. Only the price or quantity can be amended.

Note: This endpoint requires trading scope in Orderly Key.

**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "order_id": "<string>"
  "price": "<number>"
  "quantity": "<number>"
  "trigger_price": "<number>"
  "trigger_price_type": "<string>"
  "child_orders": [{
  "order_id": "<string>"
  "trigger_price": "<number>"
  "price": "<number>"
  "quantity": "<number>"
  "is_activated": "<string>"
  "trigger_price_type": "<string>"
  "child_orders": [{}]
}]
}
```


**Response:**
```json
{}
```



### Cancel Algo Order

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/cancel-algo-order](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/cancel-algo-order)

**DELETE** `/v1/algo/order`

**Limit: 5 requests per 1 second**

`DELETE /v1/algo/order?order_id={order_id}&symbol={symbol}`

Cancels a single algo order by `order_id`.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | Yes |  |
| order_id | query | number | Yes |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Cancel Algo Order By client_order_id

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/cancel-algo-order-by-client_order_id](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/cancel-algo-order-by-client_order_id)

**DELETE** `/v1/algo/client/order`

**Limit: 5 requests per 1 second**

`DELETE /v1/algo/client/order?client_order_id={client_order_id}&symbol={symbol}`

Cancel an algo order by `client_order_id`.

**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | Yes |  |
| client_order_id | query | string | Yes |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Cancel All Pending Algo Orders

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/cancel-all-pending-algo-orders](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/cancel-all-pending-algo-orders)

**DELETE** `/v1/algo/orders`

**Limit: 5 requests per 1 second**

`DELETE /v1/algo/orders?symbol={symbol}`

Cancel all pending algo orders.

**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | No |  |
| algo_type | query | string | No | Note: `STOP` will cancel both `TAKE_PROFIT` and `STOP_LOSS` |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Algo Orders

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-algo-orders](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-algo-orders)

**GET** `/v1/algo/orders`

**Limit: 5 requests per 1 second**

`GET /v1/algo/orders`

Get algo order details by customized filters.

For filter by status, one can reference special bundled statuses below for ease of access of Open (i.e `INCOMPLETE`) orders or `COMPLETED` orders.

`INCOMPLETE` = `NEW` + `PARTIAL_FILLED`


`COMPLETED` = `CANCELLED` + `FILLED`

**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | No |  |
| order_type | query | string | No | `LIMIT`/`MARKET` |
| status | query | string | No | `NEW`/`CANCELLED`/`PARTIAL_FILLED`/`FILLED`/`REJECTED`/`INCOMPLETE`/`COMPLETED` |
| order_tag | query | string | No |  |
| start_t | query | number | No | start time range that wish to query, noted the time stamp is 13-digits timestamp. |
| end_t | query | number | No | end time range that wish to query, noted the time stamp is 13-digits timestamp. |
| page | query | number | No | the page you wish to query. start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |
| side | query | string | No | `BUY`/`SELL` |
| algo_type | query | string | No | Supported types are `STOP`, `TPSL`, `positional_TPSL` |
| is_triggered | query | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Algo Order by order_id

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-algo-order-by-order_id](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-algo-order-by-order_id)

**GET** `/v1/algo/order/{order_id}`

**Limit: 10 requests per 1 second**

`GET /v1/algo/order/{order_id}`

Get details of a single algo order by order_id.

**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| order_id | path | string | Yes | id of the order |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Algo Order by client_order_id

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-algo-order-by-client_order_id](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-algo-order-by-client_order_id)

**GET** `/v1/algo/client/order/{client_order_id}`

**Limit: 10 requests per 1 second**

`GET /v1/algo/client/order/{client_order_id}`

Get details of a single algo order by `client_order_id`.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| client_order_id | path | string | Yes | client_order_id of the order |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get All Trades of Specific Algo Order

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-all-trades-of-specific-algo-order](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-all-trades-of-specific-algo-order)

**GET** `/v1/algo/order/{order_id}/trades`

**Limit: 10 requests per 1 second**

`GET /v1/algo/order/{order_id}/trades`

Get specific trades of an algo order by `order_id`.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| order_id | path | number | Yes |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Unstaking ORDER Details

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-unstaking-order-details](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-unstaking-order-details)

**GET** `/v1/staking/unstake_details`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/staking/unstake_details`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| address | query | string | Yes |  |


**Response:**
```json
{}
```



### Get esORDER vesting list

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-esorder-vesting-list](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-esorder-vesting-list)

**GET** `/v1/staking/esorder/vesting_list`

**Limit: 10 requests per 1 second per IP address**


`GET /v1/staking/esorder/vesting_list`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| address | query | string | Yes |  |
| is_vesting | query | boolean | Yes |  |


**Response:**
```json
{}
```



### Get Orderly Protocol Revenue Sharing History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-orderly-protocol-revenue-sharing-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-orderly-protocol-revenue-sharing-history)

**GET** `/v1/sv/protocol_revenue_share_history`


**Limit: 10 requests per second per account**

`GET /v1/sv/protocol_revenue_share_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



## EVM REST API - Positions & Assets

### Settle sub-account PnL

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/sub_account_settle_pnl](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/sub_account_settle_pnl)

**POST** `/v1/sub_account_settle_pnl`

**Limit: 10 requests per second**

`POST /v1/sub_account_settle_pnl`

Main account’s Orderly key can control sub-accounts.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
| orderly_account_id | header | string | Yes | account_id in header can only be sub_account |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "settle_nonce": "<number>"
}
```


**Response:**
```json
{}
```



### Get All Positions Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-all-positions-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-all-positions-info)

**GET** `/v1/positions`

**Limit: 30 requests per 10 second per user**

`GET /v1/positions`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get One Position Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-one-position-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-one-position-info)

**GET** `/v1/position/{symbol}`

**Limit: 30 requests per 10 second per user**

`GET /v1/position/{symbol}`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | path | string | Yes |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Position History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-position-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-position-history)

**GET** `/v1/position_history`

**Limit: 10 requests per 1 second per user**

`GET /v1/position_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | No |  |
| limit | query | number | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Funding Fee History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-funding-fee-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-funding-fee-history)

**GET** `/v1/funding_fee/history`

**Limit: 20 requests per 60 second per user**

`GET /v1/funding_fee/history`

Get funding fee history.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | No | omit to get funding fee history for all symbols |
| start_t | query | string | No | start time range that you wish to query, noted that the time stamp is a 13-digits timestamp. |
| end_t | query | string | No | end time range that you wish to query, noted that the time stamp is a 13-digits timestamp. |
| page | query | string | No | the page you wish to query. start from 1 |
| size | query | string | No | Default: 60 |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Current Holding

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-current-holding](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-current-holding)

**GET** `/v1/client/holding`

**Limit: 10 requests per 1 seconds**

`GET /v1/client/holding`

Get the current summary of user token holdings.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| all | query | boolean | No | true/false. If true then will return all token even if balance is empty. |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Asset History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-asset-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-asset-history)

**GET** `/v1/asset/history`

**Limit 10 requests per 60 seconds**

`GET /v1/asset/history`

Get asset history, including token deposits/withdrawals.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| token | query | string | No | token name you want to search |
| side | query | string | No | `DEPOSIT`/`WITHDRAW` |
| status | query | string | No | `NEW`/`CONFIRM`/`PROCESSING`/`COMPLETED`/`FAILED`/`PENDING_REBALANCE` |
| start_t | query | number | No |  |
| end_t | query | number | No |  |
| page | query | number | No | start from 1 |
| size | query | number | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Withdrawal Nonce

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-withdrawal-nonce](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-withdrawal-nonce)

**GET** `/v1/withdraw_nonce`

**Limit 10 requests per 1 seconds**

`GET /v1/withdraw_nonce`

Retrieve a nonce used for requesting a withdrawal on Orderly. Each nonce can only be used once.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Settle PnL Nonce

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-settle-pnl-nonce](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-settle-pnl-nonce)

**GET** `/v1/settle_nonce`

**Limit: 10 requests per 1 second**

`GET /v1/settle_nonce`

Retrieve a nonce used for requesting a withdrawal on Orderly. Each nonce can only be used once.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Create Withdraw Request

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/create-withdraw-request](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/create-withdraw-request)

**POST** `/v1/withdraw_request`

**Limit: 10 requests per 1 second per IP address**

`POST /v1/withdraw_request`

`verifyingContract` should use: `0x6F7a338F2aA472838dEFD3283eB360d4Dff5D203`.

This API will throw an error with message `22 - Cross-chain withdrawal required for this withdrawal request.` if `allow_cross_chain_withdrawal` is `false` while the request is a cross-chain request.

**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "signature": "<string>"
  "userAddress": "<string>"
  "verifyingContract": "<string>"
  "message": {
  "brokerId": "<string>"
  "chainId": "<integer>"
  "chainType": "<string>"
  "receiver": "<string>"
  "token": "<string>"
  "amount": "<string>"
  "withdrawNonce": "<string>"
  "timestamp": "<string>"
  "allowCrossChainWithdraw": "<boolean>"
}
}
```


**Response:**
```json
{}
```



### Request PnL Settlement

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/request-pnl-settlement](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/request-pnl-settlement)

**POST** `/v1/settle_pnl`

**Limit: 1 requests per 1 second**

`POST /v1/settle_pnl`

`verifyingContract` should use: `0x6F7a338F2aA472838dEFD3283eB360d4Dff5D203`.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "signature": "<string>"
  "userAddress": "<string>"
  "verifyingContract": "<string>"
  "message": {
  "brokerId": "<string>"
  "chainId": "<integer>"
  "chainType": "<string>"
  "settleNonce": "<integer>"
  "timestamp": "<integer>"
}
}
```


**Response:**
```json
{}
```



### Get PnL Settlement History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-pnl-settlement-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-pnl-settlement-history)

**GET** `/v1/pnl_settlement/history`

**Limit: 20 requests per 1 second**

`GET /v1/pnl_settlement/history`

Retrieve the historical PnL settlement history of the account.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| start_t | query | integer | No |  |
| end_t | query | integer | No |  |
| page | query | integer | No | start from 1 |
| size | query | integer | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Delegate Signer Withdraw Request

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/delegate-signer-withdraw-request](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/delegate-signer-withdraw-request)

**POST** `/v1/delegate_withdraw_request`

**Limit: 1 requests per second**

`POST /v1/delegate_withdraw_request`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "signature": "<string>"
  "userAddress": "<string>"
  "verifyingContract": "<string>"
  "message": {
  "delegateContract": "<string>"
  "brokerId": "<string>"
  "chainId": "<integer>"
  "receiver": "<string>"
  "token": "<string>"
  "amount": "<string>"
  "withdrawNonce": "<string>"
  "timestamp": "<string>"
}
}
```


**Response:**
```json
{}
```



### Delegate Signer Settle PnL

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/delegate-signer-settle-pnl](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/delegate-signer-settle-pnl)

**POST** `/v1/delegate_settle_pnl`

**Limit: 1 requests per second**

`POST /v1/delegate_settle_pnl`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "signature": "<string>"
  "userAddress": "<string>"
  "verifyingContract": "<string>"
  "message": {
  "delegateContract": "<string>"
  "brokerId": "<string>"
  "chainId": "<integer>"
  "settleNonce": "<integer>"
  "timestamp": "<integer>"
}
}
```


**Response:**
```json
{}
```



### Create Strategy Vault Deposit/Withdrawal Request with Account

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/sv_operation_request](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/sv_operation_request)

**POST** `/v1/sv_operation_request`


**Limit: 10 requests per 1 second per IP address**

`POST /v1/sv_operation_request`

Deposit into a strategy vault with account balance / withdraw from a strategy vault into your account balance



**Request Body:**
```json
{
  "message": {
  "payloadType": "<number>"
  "nonce": "<string>"
  "receiver": "<string>"
  "amount": "<string>"
  "vaultId": "<string>"
  "token": "<string>"
  "dexBrokerId": "<string>"
  "chainId": "<number>"
  "chainType": "<string>"
}
  "signature": "<string>"
  "userAddress": "<string>"
  "verifyingContract": "<string>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Request SP PnL Settlement

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/request-sp-pnl-settlement](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/request-sp-pnl-settlement)

**POST** `/v1/sv/sp_settle_pnl`


**Limit: 1 request per second**

`POST /v1/sv/sp_settle_pnl`



**Request Body:**
```json
{
  "message": {
  "contract": "<string>"
  "brokerId": "<string>"
  "chainId": "<number>"
  "settleNonce": "<string>"
  "timestamp": "<number>"
}
  "signature": "<string>"
  "userAddress": "<string>"
  "verifyingContract": "<string>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Get Fund Outflow Allocation

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-fund-outflow-allocation](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-fund-outflow-allocation)

**GET** `/v1/sv/venue_withdrawal_history`


**Limit: 10 requests per second per account**

`GET /v1/sv/venue_withdrawal_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| period_number | query | number | No |  |
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



## EVM REST API - Account & Config

### Get Leverage Setting

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-leverage-setting](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-leverage-setting)

**GET** `/v1/client/leverage`

**Limit: 1 requests per 1 second per IP address**

`GET /v1/client/leverage`

Get account's leverage setting for a specific symbol.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | Yes |  |


**Response:**
```json
{}
```



### Update Leverage Setting

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/update-leverage-setting](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/update-leverage-setting)

**POST** `/v1/client/leverage`

**Limit: 5 requests per 60 second per user**

`POST /v1/client/leverage`

Allow users to customize leverage for each symbol or choose maximum leverage for account's futures mode.

Validation Logic:

1. Check the leverage range is eligible

2. Check if the position notional under the updated leverage is acceptable
   - `max_notional = (1 / (symbol_leverage * imr_factor)) ^ (1/0.8)`
   - `symbol_leverage_max = round down to int → min(1 / (imr_factor * notional ^ 0.8), 1/base_imr)`

3. Check if the margin is enough


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "symbol": "PERP_BTC_USDC"
  "leverage": "<integer>"
}
```


**Response:**
```json
{}
```



### Get Max Leverage Setting

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-max-leverage-setting](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-max-leverage-setting)

**GET** `/v1/public/leverage`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/leverage`

Get max leverage setting



**Response:**
```json
{}
```



### Get Account Information

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-account-information](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-account-information)

**GET** `/v1/client/info`

**Limit: 10 requests per 60 seconds**

`GET /v1/client/info`

Get basic account information including current user fee rates.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get User Statistics

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-user-statistics](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-user-statistics)

**GET** `/v1/client/statistics`

**Limit: 10 requests per 60 seconds**

`GET /v1/client/statistics`

Get statistics of the user account


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Leverage Configuration

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-leverage-configuration](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-leverage-configuration)

**GET** `/v1/public/config`


**Limit: 10 requests per 1 second per IP address**

`GET v1/public/config`



**Response:**
```json
{}
```



### Set Maintenance Config

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/set-maintenance-config](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/set-maintenance-config)

**POST** `/v1/client/maintenance_config`

**Limit: 10 requests per 60 seconds**

`POST /v1/client/maintenance_config`

Set the user config for whether the system should automatically cancel the user's pending orders during maintenance.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "maintenance_cancel_order_flag": "<boolean>"
}
```


**Response:**
```json
{}
```



### Get User Volume Statistics

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-user-volume-statistics](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-user-volume-statistics)

**GET** `/v1/volume/user/stats`

**Limit 10 requests per 60 seconds**

`GET /v1/volume/user/stats`

**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get User Daily Volume

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-user-daily-volume](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-user-daily-volume)

**GET** `/v1/volume/user/daily`

**Limit 10 requests per 60 seconds**

`GET /v1/volume/user/daily`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| start_date | query | string | Yes | Format YYYY-MM-DD |
| end_date | query | string | Yes | Format YYYY-MM-DD |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Create Internal Transfer

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/create-internal-transfer](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/create-internal-transfer)

**POST** `/v1/internal_transfer`

**Limit: 10 requests per 1 second**

`POST /v1/internal_transfer`

This endpoint will return internal transfer is not available for Delegate Signer account if the `from` is a Delegate Signer account.

Scenarios where internal transfers are allowed:

a. Main and sub-accounts

b. Accounts within the same wallet group

c. Same address across all brokers.

d. A whitelisted `account_id` can be used as `from address`

e. If 2 `account_id` are under the same broker_id and the broker_id is whitelisted.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "token": "USDC"
  "receiver_list": [{
  "account_id": "0x0000000"
  "amount": 100
}]
}
```


**Response:**
```json
{}
```



### Create Internal Transfer With Wallet Signature

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/create-internal-transfer-v2](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/create-internal-transfer-v2)

**POST** `/v2/internal_transfer`

**Limit: 10 requests per 1 second**

`POST /v2/internal_transfer`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "signature": "<string>"
  "userAddress": "<string>"
  "verifyingContract": "<string>"
  "message": {
  "receiver": "<string>"
  "token": "<string>"
  "amount": 123
  "transferNonce": "<string>"
  "chainId": "1"
  "chainType": "SOL"
}
}
```


**Response:**
```json
{}
```



### Get Transfer Nonce

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-transfer-nonce](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-transfer-nonce)

**GET** `/v1/transfer_nonce`

**Limit: 10 requests per 1 second**

`GET /v1/transfer_nonce`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Internal Transfer History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-internal-transfer-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-internal-transfer-history)

**GET** `/v1/internal_transfer_history`

**Limit: 10 requests per 1 second**

`GET /v1/internal_transfer_history`

Orderly key must has `asset` scope to access this endpoint.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| status | query | string | No | `CREATED`/`PENDING`/`COMPLETED`/`FAILED` |
| start_t | query | string | No |  |
| end_t | query | string | No |  |
| page | query | number | No | start from 1 |
| size | query | number | No |  |
| side | query | string | Yes | `IN`/`OUT` |
| from_account_id | query | string | No |  |
| to_account_id | query | string | No |  |
| main_sub_only | query | boolean | No | If True, return only internal transfers between main account and sub-accounts. 
If False, return only internal transfers between main account and other main accounts. 
If empty, return all transfer history.
 |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get All Notifications

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-all-notifications](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-all-notifications)

**GET** `/v1/notification/inbox/notifications`

**Limit: 10 requests per 60 seconds**

`GET /v1/notification/inbox/notifications`

Get all notifications for the user.

Currently the only supported message type is the order filled message.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| type | query | string | No | Filter nofications by type (TRADE / SYSTEM). |
| page | query | number | No | start from 1 |
| size | query | number | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Unread Notifications

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-unread-notifications](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-unread-notifications)

**GET** `/v1/notification/inbox/unread`

**Limit: 10 requests per 60 seconds**

`GET /v1/notification/inbox/unread`

Get the information on unread messages for the user.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Set Read Status of Notifications

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/set-read-status-of-notifications](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/set-read-status-of-notifications)

**POST** `/v1/notification/inbox/mark_read`

**Limit: 10 requests per 60 seconds**

`POST /v1/notification/inbox/mark_read`

Set the read status on a list of notifications for a user.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| flag | query | number | Yes | The value of the read flag, where 1 = READ and 0 = UNREAD |
| ids | query | array | Yes | The list of notification ids to flag as read/unread. |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Set Read Status of All Notifications

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/set-read-status-of-all-notifications](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/set-read-status-of-all-notifications)

**POST** `/v1/notification/inbox/mark_read_all`

**Limit: 10 requests per 60 seconds**

`POST /v1/notification/inbox/mark_read_all`

Set the read status on all notifications for a user.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| flag | query | number | Yes | The value of the read flag, where 1 = READ and 0 = UNREAD |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Get User Daily Statistics

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-user-daily-statistics](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-user-daily-statistics)

**GET** `/v1/client/statistics/daily`

**Limit 10 requests per 60 seconds**

`GET /v1/client/statistics/daily`

Get user daily statistics of assets/pnl/volume.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| start_date | query | string | Yes | Format YYYY-MM-DD |
| end_date | query | string | Yes | Format YYYY-MM-DD |
| page | query | number | No | start from 1 |
| size | query | number | No |  |
| include_historical_data | query | boolean | No | When include_historical_data is set to True, the rate limit for this API becomes 1 request per 60 seconds, the API response will include archived data. |
| orderly-timestamp | header | string | Yes |  |
| orderly-account-id | header | string | Yes |  |
| orderly-key | header | string | Yes |  |
| orderly-signature | header | string | Yes |  |


**Response:**
```json
{}
```



### Get User Statistics

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-user-points-statistics](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-user-points-statistics)

**GET** `/v1/client/points/user_statistics`

**Limit: 10 requests per 1 second per user per IP address**

`GET /v1/client/points/user_statistics`

Returns daily point statistics for a specific user.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| orderly-timestamp | header | string | Yes |  |
| orderly-account-id | header | string | Yes |  |
| orderly-key | header | string | Yes |  |
| orderly-signature | header | string | Yes |  |
| stage | query | number | Yes | Filter by Stage |


**Response:**
```json
{}
```



### Get Stage Parameters

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-stage-parameters](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-stage-parameters)

**GET** `/v1/admin/points/stage`

**Limit: 10 requests per 1 second per user per IP address**

`GET /v1/admin/points/stage`

Get a specific stage (series of epochs).

Only callable by Broker Admin.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| orderly-timestamp | header | string | Yes |  |
| orderly-account-id | header | string | Yes |  |
| orderly-key | header | string | Yes |  |
| orderly-signature | header | string | Yes |  |
| stage_id | query | number | No | Filter by specific Stage |


**Response:**
```json
{}
```



### Create/Update Stage Parameters

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/create-stage-parameters](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/create-stage-parameters)

**POST** `/v1/admin/points/stage`

**Limit: 10 requests per 1 second per user per IP address**

`POST /v1/admin/points/stage`

Create a new stage (series of epochs). Only callable by Broker Admin.

Make sure there's only 1 active stage at any time.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| orderly-timestamp | header | string | Yes |  |
| orderly-account-id | header | string | Yes |  |
| orderly-key | header | string | Yes |  |
| orderly-signature | header | string | Yes |  |


**Request Body:**
```json
{
  "stage_id": "<number>"
  "stage_name": "<string>"
  "start_date": "<string>"
  "end_date": "<string>"
  "volume_boost": "<number>"
  "pnl_boost": "<number>"
  "l1_referral_boost": "<number>"
  "l2_referral_boost": "<number>"
  "is_continous": "<boolean>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Delete Stage

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/delete-stage](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/delete-stage)

**DELETE** `/v1/admin/points/stage`

**Limit: 10 requests per 1 second per user per IP address**

`DELETE /v1/admin/points/stage`

Delete a specific stage.

Only callable by Broker Admin.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| orderly-timestamp | header | string | Yes |  |
| orderly-account-id | header | string | Yes |  |
| orderly-key | header | string | Yes |  |
| orderly-signature | header | string | Yes |  |
| stage_id | query | number | Yes | Stage ID to delete |


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Get Distribution History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-distribution-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-distribution-history)

**GET** `/v1/client/distribution_history`

**Limit: 10 requests per second**

`GET /v1/client/distribution_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| status | query | string | No | One of `CREATED`/`SPLIT`/`COMPLETED` |
| type | query | string | No | One of `BROKER_FEE`/`REFEREE_REBATE`/`REFERRER_REBATE` |
| start_t | query | string | No |  |
| end_t | query | string | No |  |
| page | query | integer | No | start from 1 |
| size | query | integer | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Trigger Manual Period Delivery

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/trigger-manual-period-delivery](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/trigger-manual-period-delivery)

**POST** `/v1/sv/manual_period_delivery`


**Limit: 1 request per second per account**

`POST /v1/sv/manual_period_delivery`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "plan_id": "<string>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



## EVM REST API - Market Data

### Get Market Info for All Symbols

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-market-info-for-all-symbols](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-market-info-for-all-symbols)

**GET** `/v1/public/futures`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/futures`

Get basic market information for all the symbols.



**Response:**
```json
{}
```



### Get IP Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-ip-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-ip-info)

**GET** `/v1/ip_info`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/ip_info`



**Response:**
```json
{}
```



### Get Market Volume by Builder

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-market-volume-by-builder](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-market-volume-by-builder)

**GET** `/v1/public/futures_market`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/futures_market`

Get market volume filtered by broker.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | No |  |
| broker_id | query | string | No |  |


**Response:**
```json
{}
```



### Get Price Info for All Symbols

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-price-info-for-all-symbols](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-price-info-for-all-symbols)

**GET** `/v1/public/market_info/price_changes`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/market_info/price_changes`

Return the current price and the price 5m, 30m, 1h, 24h, 3d, 7d, 30d ago for all symbols

Examples:

- Now: 11:06:30 (2024-07-11)  

- 5m: 11:01:00 (2024-07-11)

- 30m: 10:36:00 (2024-07-11)

- 1h: 10:06:00 (2024-07-11)

- 4h: 07:06:00 (2024-07-11)

- 24h: 11:06:00 (2024-07-10)

- 3d: 00:00:00 (2024-07-08)

- 7d: 00:00:00 (2024-07-04)

- 30d: 00:00:00 (2024-06-11)



**Response:**
```json
{}
```



### Get Historical Price List for All Symbols

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-historical-price-list-for-all-symbols](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-historical-price-list-for-all-symbols)

**GET** `/v1/public/market_info/history_charts`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/market_info/history_charts`

Return the close price for all symbols


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| time_interval | query | string | No |  |


**Response:**
```json
{}
```



### Get Funding Rate for All Markets

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-funding-rate-for-all-markets](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-funding-rate-for-all-markets)

**GET** `/v1/public/market_info/funding_history`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/market_info/funding_history`



**Response:**
```json
{}
```



### Get Predicted Funding Rates for All Markets

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-predicted-funding-rates-for-all-markets](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-predicted-funding-rates-for-all-markets)

**GET** `/v1/public/funding_rates`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/funding_rates`

Get predicted funding rates for all futures trading pairs.

Get the : 
* `last_funding_rate` : latest hourly funding rate for all the markets for the last funding period (dt = 8h)
* `est_funding_rate` : rolling average of all funding rates over the last 8 hours


**Response:**
```json
{}
```



### Get Predicted Funding Rate for One Market

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-predicted-funding-rate-for-one-market](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-predicted-funding-rate-for-one-market)

**GET** `/v1/public/funding_rate/{symbol}`


**Limit: 30 requests per 1 second per IP address**

`GET /v1/public/funding_rate/{symbol}`

Get latest funding rate for one market.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | path | string | Yes |  |


**Response:**
```json
{}
```



### Get Funding Rate History for One Market

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-funding-rate-history-for-one-market](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-funding-rate-history-for-one-market)

**GET** `/v1/public/funding_rate_history`


**Limit: 10 requests per 1 second per IP address**


`GET /v1/public/funding_rate_history`


Get funding rate history for one market.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | Yes |  |
| start_t | query | number | No | start time range that you wish to query, noted that the time stamp is a 13-digits timestamp. |
| end_t | query | number | No | end time range that you wish to query, noted that the time stamp is a 13-digits timestamp. |
| page | query | number | No | the page you wish to query. start from 1 |
| size | query | number | No | Default: 60 |


**Response:**
```json
{}
```



### Get Market Info for One Symbol

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-market-info-for-one-symbol](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-market-info-for-one-symbol)

**GET** `/v1/public/futures/{symbol}`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/futures/{symbol}`

Get basic market information for one trading pair.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | path | string | Yes |  |


**Response:**
```json
{}
```



### Get Supported Collateral Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-supported-collateral-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-supported-collateral-info)

**GET** `/v1/public/token`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/token`

Retrieves the available tokens to be used as collateral within Orderly.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| chain_id | query | string | No | Filter results by chain_id |


**Response:**
```json
{}
```



### Get Available Symbols

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-available-symbols](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-available-symbols)

**GET** `/v1/public/info`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/info`

Get available symbols that Orderly supports, and also send order rules for each symbol. The definition of rules can be found at [Get Order Rules per Market](/docs/build-on-omnichain/evm-api/restful-api/public/get-order-rules-per-symbol)



**Response:**
```json
{}
```



### Get Index Price Source

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-index-price-source](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-index-price-source)

**GET** `/v1/public/index_price_source`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/index_price_source`

Retrieves the available tokens to be used as collateral within Orderly.



**Response:**
```json
{}
```



### Get Insurance Fund Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-insurance-fund-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-insurance-fund-info)

**GET** `/v1/public/insurancefund`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/insurancefund`



**Response:**
```json
{}
```



### Get TradingView Localized Config Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-tradingview-localized-config-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-tradingview-localized-config-info)

**GET** `/v1/tv/config`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/tv/config`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| locale | query | string | Yes |  |


**Response:**
```json
{
  "s": "<string>"
  "d": {
  "accountSummaryRow": [{
  "id": "<string>"
  "title": "<string>"
}]
  "accountManager": [{
  "id": "<string>"
  "title": "<string>"
  "columns": [...]
}]
  "durations": [{
  "id": "<string>"
  "title": "<string>"
  "hasDatePicker": "<boolean>"
  "hasTimePicker": "<boolean>"
  "default": "<boolean>"
  "supportedOrderTypes": [...]
}]
  "orderCustomFields": [{
  "id": "<string>"
  "title": "<string>"
  "tooltip": "<string>"
  "alignment": "<string>"
}]
  "orderHistoryCustomFields": [{
  "id": "<string>"
  "title": "<string>"
  "tooltip": "<string>"
  "alignment": "<string>"
}]
  "positionCustomFields": [{
  "id": "<string>"
  "title": "<string>"
  "tooltip": "<string>"
  "alignment": "<string>"
}]
  "pullingInterval": {
  "quotes": "<integer>"
  "orders": "<integer>"
  "positions": "<integer>"
  "accountManager": "<integer>"
  "balances": "<integer>"
}
}
}
```



### Get TradingView History Bars

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-tradingview-history-bars](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-tradingview-history-bars)

**GET** `/v1/tv/history`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/tv/history?symbol={}&resolution={}&from={}&to={}`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | Yes |  |
| resolution | query | string | Yes |  |
| from | query | string | Yes |  |
| to | query | string | Yes |  |


**Response:**
```json
{
  "s": "<string>"
  "t": ["<integer>"]
  "o": [{}]
  "h": ["<number>"]
  "l": ["<number>"]
  "c": ["<number>"]
  "v": ["<number>"]
}
```



### Get TradingView Symbol Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-tradingview-symbol-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-tradingview-symbol-info)

**GET** `/v1/tv/symbol_info`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/tv/symbol_info`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| group | query | string | Yes |  |


**Response:**
```json
{
  "s": "<string>"
  "symbol": ["<string>"]
  "description": ["<string>"]
  "currency": ["<string>"]
  "base-currency": [{}]
  "exchange-listed": ["<string>"]
  "exchange-traded": ["<string>"]
  "minmovement": ["<integer>"]
  "minmovement2": ["<integer>"]
  "fractional": ["<boolean>"]
}
```



### Get System Maintenance Status

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-system-maintenance-status](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-system-maintenance-status)

**GET** `/v1/public/system_info`

**Limit: 1 requests per 1 second per IP address**

`GET /v1/public/system_info`

Retrieve the current system maintenance status of Orderly. A return value of status = 0 means the system is functioning properly and a return value of status = 2 means the system is under maintenance.


**Response:**
```json
{}
```



### Check Account Details of an Address

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-all-accounts](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-all-accounts)

**GET** `/v1/get_all_accounts`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/get_all_accounts`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| address | query | string | Yes | The address of the user wallet |
| broker_id | query | string | Yes | The builder that the account is registered on |
| chain_type | query | string | No | `EVM` or `SOL` |


**Response:**
```json
{}
```



### Orderbook Snapshot

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/orderbook-snapshot](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/orderbook-snapshot)

**GET** `/v1/orderbook/{symbol}`

**Limit: 10 requests per 1 second**

`GET /v1/orderbook/{symbol}`

Snapshot of the current orderbook. Price of asks/bids are in descending order.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | path | string | Yes |  |
| max_level | query | integer | No | the levels wish to show on both side. |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Kline

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-kline](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-kline)

**GET** `/v1/kline`


**Limit: 10 requests per 1 second**

`GET /v1/kline`

Get the latest klines (OHLC) of the specified symbol.

Please note that for symbols with low trading activity, the kline might be generated through the mid price of the orderbook in addition to any executed trades on the platform.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | Yes |  |
| type | query | string | Yes | 1m/5m/15m/30m/1h/4h/12h/1d/1w/1mon/1y |
| limit | query | number | No | Numbers of klines. Maximum of 1000 klines. |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Kline History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-kline-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-kline-history)

**GET** `/v1/tv/kline_history`


**Limit: 5 request per 10 second per IP address**

`GET /v1/tv/kline_history`

Get the historical klines of the specified symbol


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | Yes | Symbol name |
| resolution | query | string | Yes | `1m/5m/15m/30m/1h/4h/12h/1d/1w/1mon` |
| from | query | string | No | If the range from from to to contains 1200 klines, only 1000 klines will be returned, starting from to and moving backward (due to the limit). |
| to | query | string | No | If the range from from to to contains only 500 klines, then all 500 will be returned, starting from to and moving backward. |
| limit | query | number | No | Numbers of klines you want to query.  Maximum of 1000 klines allowed. |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{
  "s": "ok"
  "o": ["<number>"]
  "c": ["<number>"]
  "h": ["<number>"]
  "l": ["<number>"]
  "v": ["<number>"]
  "a": ["<number>"]
  "t": ["<integer>"]
}
```



### Get Vault Balance

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-vault-balance](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-vault-balance)

**GET** `/v1/public/vault_balance`

**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| chain_id | query | string | No | id of the chain you wish to query. `900900900` for Solana. |
| token | query | string | No | the token you wish to query |


**Response:**
```json
{}
```



### Get Faucet USDC(Testnet Only)

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-faucet-usdctestnet-only](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-faucet-usdctestnet-only)

**POST** `/v1/faucet/usdc`

For `EVM`:

`GET https://testnet-operator-evm.orderly.org/v1/faucet/usdc`

For `Solana`:

`GET https://testnet-operator-sol.orderly.org/v1/faucet/usdc`

Receive 1,000 USDC in the EVM Testnet environment or 100 USDC in the Solana Testnet environment. Each account may only use the faucet a maximum of 5 times.

This API is only available on Testnet so make sure to use Testnet domain as above instead of Mainnet domain.


**Request Body:**
```json
{
  "chain_id": "<string>"
  "user_address": "<string>"
  "broker_id": "<string>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Check if Account Exists

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/check-if-account-exists](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/check-if-account-exists)

**GET** `/v1/public/account`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/account`

Check if provided account account is registered with Orderly and it's respective builder.

**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| account_id | query | string | No |  |


**Response:**
```json
{}
```



### Get Announcements

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-announcements](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-announcements)

**GET** `/v1/public/announcement`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/announcement`


**Response:**
```json
{}
```



### Get Merits Leaderboard

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-merits-leaderboard](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-merits-leaderboard)

**GET** `/v1/public/points/leaderboard`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/points/leaderboard`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| start_r | query | integer | No | Starting rank you wish to query |
| end_r | query | integer | No | Ending rank you wish to query |
| epoch_id | query | integer | No | the epoch for which you want to check the leaderboard |
| page | query | integer | No | start from 1 |
| size | query | integer | No |  |


**Response:**
```json
{}
```



### Get User's Merits

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-users-merits](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-users-merits)

**GET** `/v1/client/points`

**Limit: 10 requests per 1 second per user**

`GET /v1/client/points`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| address | query | string | Yes |  |


**Response:**
```json
{}
```



### Get Start and End Date of All Epochs

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-start-and-end-date-of-all-epochs](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-start-and-end-date-of-all-epochs)

**GET** `/v1/public/points/epoch_dates`

**Limit: 10 requests per 1 second per user**

`GET /v1/public/points/epoch_dates`

Retrieve the dates of all epochs



**Response:**
```json
{}
```



### Get Stage Rankings

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-stage-rankings](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-stage-rankings)

**GET** `/v1/public/points/rankings`

**Limit: 10 requests per 1 second per user per IP address**

`GET /v1/public/points/rankings`

Returns the rankings for a specific stage.

Note: Need to aggregate the point data from all sub-accounts with the same address.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| stage | query | number | Yes | Filter by Stage |
| page | query | number | No | Page number |
| size | query | number | No | Items per page |
| period | query | string | Yes | Filter by period (`all_time`/`last_week`/`this_week`) |


**Response:**
```json
{}
```



### Get Number of Merits for Distribution

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-number-of-merits-for-distribution](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-number-of-merits-for-distribution)

**GET** `/v1/public/points/epoch`

**Limit: 10 requests per 1 second per user per IP address**

`GET /v1/public/points/epoch`

Retrieve the number of merits for past epochs and current epoch



**Response:**
```json
{}
```



### Get Information About Stages

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-stage-information](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-stage-information)

**GET** `/v1/public/points/stages`

**Limit: 10 requests per 1 second per user per IP address**

`GET /v1/public/points/stages`

Returns information about stages.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| stage_id | query | number | No | Filter by specific Stage, return all if empty |
| status | query | string | No | Filter by status (`completed`/`active`), return all if empty except pending |
| broker_id | query | string | Yes | Filter by Broker |


**Response:**
```json
{}
```



### Get Parameters of Each Epoch for All Epochs

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-parameters-of-each-epoch-for-all-epochs](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-parameters-of-each-epoch-for-all-epochs)

**GET** `/v1/public/trading_rewards/epoch_info`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/trading_rewards/epoch_info`



**Response:**
```json
{}
```



### Get Epochs Data

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-epochs-data](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-epochs-data)

**GET** `/v1/public/trading_rewards/epoch_data`

**Limit: 10 requests per 1 second per IP address**


Get data of each epoch from epoch 1 to current epoch


`GET /v1/public/trading_rewards/epoch_data`



**Response:**
```json
{}
```



### Get Wallet Trading Rewards History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-wallet-trading-rewards-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-wallet-trading-rewards-history)

**GET** `/v1/public/trading_rewards/wallet_rewards_history`

**Limit: 10 requests per 1 second per IP address**


Return each epoch from Epoch 1 to last completed epoch.


`GET /v1/public/trading_rewards/wallet_rewards_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| address | query | string | Yes |  |
| chain_type | query | string | No | `EVM` or `SOL` |


**Response:**
```json
{}
```



### Get Account Trading Rewards History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-account-trading-rewards-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-account-trading-rewards-history)

**GET** `/v1/public/trading_rewards/account_rewards_history`

**Limit: 10 requests per 1 second per IP address**


Return each epoch from Epoch 1 to last completed epoch.


`GET /v1/public/trading_rewards/account_rewards_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| address | query | string | Yes |  |
| chain_type | query | string | No | `EVM` or `SOL` |


**Response:**
```json
{}
```



### Get the Status of Trading Rewards Programme

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-the-status-of-trading-rewards-programme](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-the-status-of-trading-rewards-programme)

**GET** `/v1/public/trading_rewards/status`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/trading_rewards/status`



**Response:**
```json
{}
```



### Get Symbol Rewards Category

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-symbol-rewards-category](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-symbol-rewards-category)

**GET** `/v1/public/trading_rewards/symbol_category`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/trading_rewards/symbol_category`



**Response:**
```json
{}
```



### Get Parameters of Each Epoch

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-parameters-of-each-epoch](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-parameters-of-each-epoch)

**GET** `/v1/public/market_making_rewards/epoch_info`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/market_making_rewards/epoch_info`



**Response:**
```json
{}
```



### Get the Status of Market Making Rewards Programme

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-the-status-of-market-making-rewards-programme](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-the-status-of-market-making-rewards-programme)

**GET** `/v1/public/market_making_rewards/status`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/market_making_rewards/status`



**Response:**
```json
{}
```



### Get Symbol Rewards Parameters

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-symbol-rewards-parameters](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-symbol-rewards-parameters)

**GET** `/v1/public/market_making_rewards/symbol_params`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/market_making_rewards/symbol_params`



**Response:**
```json
{}
```



### Leaderboard for market maker rewards

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/leaderboard-for-market-maker-rewards](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/leaderboard-for-market-maker-rewards)

**GET** `/v1/public/market_making_rewards/leaderboard`

**Limit: 10 requests per 1 second per IP address**

`GET v1/public/market_making_rewards/leaderboard`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| epoch | query | number | Yes |  |
| market | query | string | No | return all markets if empty |


**Response:**
```json
{}
```



### Get Market Maker Current Epoch Estimate

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-market-maker-current-epoch-estimate](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-market-maker-current-epoch-estimate)

**GET** `/v1/public/market_making_rewards/current_epoch_estimate`

**Limit: 10 requests per 1 second per IP address**


`GET /v1/public/market_making_rewards/current_epoch_estimate`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| address | query | string | Yes |  |
| chain_type | query | string | No | `EVM` or `SOL` |


**Response:**
```json
{}
```



### Get Current Epoch Estimate

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-current-epoch-estimate](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-current-epoch-estimate)

**GET** `/v1/public/trading_rewards/current_epoch_estimate`

**Limit: 10 requests per 1 second per IP address**


Get user’s estimated trading rewards during the current epoch


`GET /v1/public/trading_rewards/current_epoch_estimate`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| address | query | string | Yes |  |


**Response:**
```json
{}
```



### Get Wallet Group Market Making Rewards History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-wallet-group-market-making-rewards-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-wallet-group-market-making-rewards-history)

**GET** `/v1/public/market_making_rewards/group_rewards_history`

**Limit: 10 requests per 1 second per IP address**


Return each epoch from Epoch 1 to last completed epoch.


`GET /v1/public/market_making_rewards/group_rewards_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| address | query | string | Yes |  |
| symbol | query | string | No |  |


**Response:**
```json
{}
```



### Get Strategy Vault Nonce for Account Transaction

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/sv_nonce](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/sv_nonce)

**GET** `/v1/public/sv_nonce`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/sv_nonce`



**Response:**
```json
{}
```



### Get Account’s Strategy Vault Transaction history

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/account_sv_transaction_history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/account_sv_transaction_history)

**GET** `/v1/account_sv_transaction_history`

`GET /v1/account_sv_transaction_history`

Get account transaction history with strategy vaults


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
| vault_id | query | string | No | if vault_id is empty, it will return all vaults |
| start_t | query | string | No | start time range that you wish to query, noted that the time stamp is a 13-digits timestamp. |
| end_t | query | string | No | end time range that you wish to query, noted that the time stamp is a 13-digits timestamp. |
| page | query | string | No | the page you wish to query. start from 1 |
| size | query | string | No | Default: 60 |
| type | query | string | No | deposit/withdraw, if empty = return all |


**Response:**
```json
{}
```



### Get Fund Inflow Allocation

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-fund-inflow-allocation](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-fund-inflow-allocation)

**GET** `/v1/sv/venue_transfer_history`


**Limit: 10 requests per second per IP address**

`GET /v1/sv/venue_transfer_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| period_number | query | number | No |  |
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Internal Transfer History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-internal-transfer-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-internal-transfer-history)

**GET** `/v1/sv/internal_transfer_history`


**Limit: 10 requests per second per account**

`GET /v1/sv/internal_transfer_history`

Non-Vault Account to Strategy Provider Account


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



## EVM REST API - Liquidations

### Get Positions Under Liquidation

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-positions-under-liquidation](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-positions-under-liquidation)

**GET** `/v1/public/liquidation`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/liquidation`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| start_t | query | number | No | start time range that you wish to query, noted that the time stamp is a 13-digits timestamp. |
| end_t | query | number | No | end time range that you wish to query, noted that the time stamp is a 13-digits timestamp. |
| page | query | integer | No | the page you wish to query. start from 1 |
| size | query | integer | No | Default: 60 |


**Response:**
```json
{}
```



### Get Liquidated Positions Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-liquidated-positions-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-liquidated-positions-info)

**GET** `/v1/public/liquidated_positions`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/liquidated_positions`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | No |  |
| start_t | query | string | No |  |
| end_t | query | string | No |  |
| page | query | string | No | start from 1 |
| size | query | string | No |  |


**Response:**
```json
{}
```



### Get Liquidated Positions by Liquidator

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-liquidated-positions-by-liquidator](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-liquidated-positions-by-liquidator)

**GET** `/v1/client/liquidator_liquidations`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/client/liquidator_liquidations`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | No |  |
| start_t | query | number | No |  |
| end_t | query | number | No |  |
| page | query | number | No | start from 1 |
| size | query | number | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Liquidated Positions of Account

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-liquidated-positions-of-account](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-liquidated-positions-of-account)

**GET** `/v1/liquidations`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/liquidations`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| symbol | query | string | No |  |
| start_t | query | number | No |  |
| end_t | query | number | No |  |
| page | query | number | No | start from 1 |
| size | query | number | No |  |
| sort_by | query | string | No | `liquidation_id`/`time` |
| liquidation_id | query | number | No | return the designed liquidation_id only |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Claim Liquidated Positions

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/claim-liquidated-positions](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/claim-liquidated-positions)

**POST** `/v1/liquidation`

**Limit: 5 requests per 1 second**

`POST /v1/liquidation`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "liquidation_id": "<integer>"
  "ratio_qty_request": "<integer>"
  "extra_liquidation_ratio": "<integer>"
  "limit_price": {
  "symbol": "<number>"
}
  "symbols": {
  "ratio_qty_request": "<number>"
  "symbol": "<string>"
}
}
```


**Response:**
```json
{}
```



### Claim Insurance Fund

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/claim-insurance-fund](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/claim-insurance-fund)

**POST** `/v1/claim_insurance_fund`

**Limit: 5 requests per 1 second**

`POST /v1/claim_insurance_fund`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "claim_id": "<number>"
  "symbol": "<string>"
  "qty_request": "<number>"
  "limit_price": {
  "symbol": "<number>"
}
}
```


**Response:**
```json
{}
```



### Get Liquidation Fees Sharing History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-liquidation-fees-sharing-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-liquidation-fees-sharing-history)

**GET** `/v1/sv/liquidation_fees_share_history`


**Limit: 10 requests per second per account**

`GET /v1/sv/liquidation_fees_share_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



## EVM REST API - Builder & Referral

### Get TVL by Builder

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-tvl-by-builder](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-tvl-by-builder)

**GET** `/v1/public/balance/stats`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/balance/stats`

Get TVL(Total Balance + Unsettled PnL) by broker


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| broker_id | query | string | No | Return all TVL if not specified |


**Response:**
```json
{}
```



### Get Builder Volume

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-builder-volume](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-builder-volume)

**GET** `/v1/public/volume/stats`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/volume/stats`

Get the latest volume statistics of Orderly and its associated builders. Note that for builder volume, the volume is counted as the sum of the maker and taker volume, while for the full Orderly platform, the volume is the total amount matched on the platform (ie taker and maker are not double-counted.)


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| broker_id | query | string | No | Provide broker_id to obtain statistics of a specific builder |


**Response:**
```json
{}
```



### Get Builder Stats

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-builder-stats](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-builder-stats)

**GET** `/v1/public/broker/stats`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/broker/stats?broker_id={broker_id}`

Get the stats of a specific builder.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| broker_id | query | string | No | If provided, it will only return details for the particular builder. |


**Response:**
```json
{}
```



### Get Builder List

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-builder-list](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-builder-list)

**GET** `/v1/public/broker/name`


**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/broker/name?broker_id={broker_id}`

Get the list of builders currently onboarded on Orderly.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| broker_id | query | string | No | If provided, it will only return details for the particular builder. |


**Response:**
```json
{}
```



### Check if Address is Registered

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/check-if-address-is-registered](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/check-if-address-is-registered)

**GET** `/v1/get_broker`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/get_broker`

Check whether an address is registered already.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| address | query | string | Yes | The address of the user |
| chain_type | query | string | No | `EVM` or `SOL` |


**Response:**
```json
{}
```



### Get Supported Chains per Builder

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-supported-chains-per-builder](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-supported-chains-per-builder)

**GET** `/v1/public/chain_info`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/chain_info`

Get chains specified builder is available on.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| broker_id | query | string | No | return chains that supports this builder |


**Response:**
```json
{}
```



### Get Builder's Users' Volumes

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-builders-users-volumes](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-builders-users-volumes)

**GET** `/v1/volume/broker/daily`

**Limit 10 requests per 60 seconds**

`GET /v1/volume/broker/daily`

Get the daily historical breakdown of the user trading volume on specified builder.

The provided `start_date`/`end_date` has to be within a 90-day range.
Updated hourly


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| start_date | query | string | Yes | Format YYYY-MM-DD |
| end_date | query | string | Yes | Format YYYY-MM-DD |
| page | query | number | No | start from 1 |
| size | query | number | No |  |
| address | query | string | No |  |
| order_tag | query | string | No |  |
| aggregateBy | query | string | No | Either by `DATE` or by `ACCOUNT` |
| sort | query | string | No | Allow sort by

`ascending_broker_fee`
`descending_broker_fee`
`ascending_perp_maker_volume`
`descending_perp_maker_volume`
`ascending_perp_taker_volume`
`descending_perp_taker_volume`
`ascending_perp_volume`
`descending_perp_volume`
`ascending_total_fee`
`descending_total_fee`
 |
| orderly-timestamp | header | string | Yes |  |
| orderly-account-id | header | string | Yes |  |
| orderly-key | header | string | Yes |  |
| orderly-signature | header | string | Yes |  |


**Response:**
```json
{}
```



### Get Builder's Leaderboard

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-builders-leaderboard](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-builders-leaderboard)

**GET** `/v1/broker/leaderboard/daily`

**Limit 10 requests per 60 seconds**

`GET /v1/broker/leaderboard/daily`

The provided `start_date`/`end_date` has to be within a 90-day range.

Updated hourly


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| start_date | query | string | Yes | Format YYYY-MM-DD |
| end_date | query | string | Yes | Format YYYY-MM-DD |
| page | query | number | No | start from 1 |
| size | query | number | No |  |
| order_tag | query | string | No |  |
| broker_id | query | string | No | if the broker_id is empty, return all users |
| sort | query | string | No | Allow sort by

`ascending_realized_pnl`
`descending_realized_pnl`
`ascending_perp_volume`
`descending_perp_volume`
 |
| address | query | string | No |  |
| aggregateBy | query | string | No | `address`: Sum the value across all builders.
`address_per_builder`: Sum the value separately for each builder.
 |


**Response:**
```json
{}
```



### Get User Fee Rates

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-user-fee-rates](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-user-fee-rates)

**GET** `/v1/broker/user_info`

**Limit 60 requests per 60 seconds**

`GET /v1/broker/user_info`

Scope: Only each builder_id's admin wallet can call this endpoint.

If `account_id` or `address` is provided, will always return the fee rate and indicate whether the user is on the builder’s default fee rate or not.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| account_id | query | string | No |  |
| address | query | string | No |  |
| page | query | string | No | start from 1 |
| size | query | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Update User Fee Rate

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/update-user-fee-rate](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/update-user-fee-rate)

**POST** `/v1/broker/fee_rate/set`

**Limit: 1 requests per second**

`POST /v1/broker/fee_rate/set`

Send a list of accounts assigned to a new fee rate. Max 500 accounts per request.

Scope: Only each builder_id's admin wallet can call this endpoint.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "maker_fee_rate": "<number>"
  "taker_fee_rate": "<number>"
  "rwa_taker_fee_rate": "<number>"
  "rwa_maker_fee_rate": "<number>"
  "account_ids": ["<string>"]
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Reset User Fee Rate

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/reset-user-fee-rate](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/reset-user-fee-rate)

**POST** `/v1/broker/fee_rate/set_default`

**Limit: 1 requests per second**

`POST /v1/broker/fee_rate/set_default`

Assign users to a default fee rate. Only send accounts that need to be updated. Max 500 accounts per request.

Scope: Only each builder’s admin can create the referral code for accounts that are related to the builder_id


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "account_ids": ["<string>"]
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Update Default Builder Fee

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/update-default-builder-fee](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/update-default-builder-fee)

**POST** `/v1/broker/fee_rate/default`

**Limit: 1 requests per second**

`POST /v1/broker/fee_rate/default`

Update the default fee rate for users assigned to a default fee rate.

Scope: Only each builder_id’s admin wallet can call this endpoint


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "maker_fee_rate": "<number>"
  "taker_fee_rate": "<number>"
  "rwa_taker_fee_rate": "<number>"
  "rwa_maker_fee_rate": "<number>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Get Default Builder Fee

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-default-builder-fee](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-default-builder-fee)

**GET** `/v1/broker/fee_rate/default`

**Limit: 1 requests per second**

`GET /v1/broker/fee_rate/default`

Get default fee rate.

Scope: Only each builder_id’s admin wallet can call this endpoint


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Create Referral Code

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/create-referral-code](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/create-referral-code)

**POST** `/v1/referral/create`

**Limit: 1 requests per second**

`POST /v1/referral/create`

Scope: Only each builder’s admin can create the referral code for accounts that are related to the builder_id


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "account_id": "<string>"
  "referral_code": "<string>"
  "max_rebate_rate": "<number>"
  "referrer_rebate_rate": "<number>"
  "referee_rebate_rate": "<number>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Get Referral Code Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-referral-code-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-referral-code-info)

**GET** `/v1/referral/admin_info`

**Limit: 10 requests per second**

`GET /v1/referral/admin_info`

Scope: Only each builder’s admin wallet can call this endpoint.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| page | query | string | No | start from 1 |
| size | query | string | No | Only one of `user_address` and `account_id` can be provided |
| user_address | query | string | No |  |
| account_id | query | string | No | Only one of `user_address` and `account_id` can be provided |
| sort_by | query | string | No | `total_invites`/`total_traded`/`referee_volume` descending |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Check Referral Code

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/check-referral-code](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/check-referral-code)

**GET** `/v1/public/referral/check_ref_code`

**Limit: 10 requests per 1 second per IP address**


`GET /v1/public/referral/check_ref_code`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| account_id | query | string | Yes |  |


**Response:**
```json
{}
```



### Verify Referral Code

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/verify-referral-code](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/verify-referral-code)

**GET** `/v1/public/referral/verify_ref_code`

**Limit: 10 requests per second**


`GET /v1/public/referral/verify_ref_code`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| referral_code | query | string | Yes |  |


**Response:**
```json
{}
```



### Update Referral Code

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/update-referral-code](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/update-referral-code)

**POST** `/v1/referral/update`

**Limit: 1 requests per second**

`POST /v1/referral/update`

Scope: Only each Builder’s admin wallet can call this endpoint.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "account_id": "<string>"
  "referral_code": "<string>"
  "max_rebate_rate": "<number>"
  "referrer_rebate_rate": "<number>"
  "referee_rebate_rate": "<number>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Bind Referral Code

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/bind-referral-code](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/bind-referral-code)

**POST** `/v1/referral/bind`

**Limit: 1 requests per second**

`POST /v1/referral/bind`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "referral_code": "<string>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Get Referral Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-referral-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-referral-info)

**GET** `/v1/referral/info`

**Limit: 10 requests per second**

`GET /v1/referral/info`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Referral History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-referral-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-referral-history)

**GET** `/v1/referral/referral_history`

**Limit: 10 requests per second**

`GET /v1/referral/referral_history`

Provides a detailed history of referral rebates paid to the user.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| start_date | query | string | No | start date range that you wish to query, in the format ‘YYYY-MM-DD’ |
| end_date | query | string | No | end date range that you wish to query, in the format ‘YYYY-MM-DD’ |
| page | query | integer | No | the page you wish to query start from 1 |
| size | query | integer | No | the page size you wish to query (max: 500) |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Referral Rebate Summary

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-referral-rebate-summary](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-referral-rebate-summary)

**GET** `/v1/referral/rebate_summary`

**Limit: 10 requests per second**

`GET /v1/referral/rebate_summary`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| start_date | query | string | No |  |
| end_date | query | string | No |  |
| page | query | integer | No | start from 1 |
| size | query | integer | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Referee History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-referee-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-referee-history)

**GET** `/v1/referral/referee_history`

**Limit: 10 requests per second**

`GET /v1/referral/referee_history`

Provides a summary of all referee activity for the requesting user.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| start_date | query | string | No | start date range that you wish to query, in the format ‘YYYY-MM-DD’ |
| end_date | query | string | No | end date range that you wish to query, in the format ‘YYYY-MM-DD’ |
| page | query | integer | No | the page you wish to query start from 1 |
| size | query | integer | No | the page size you wish to query (max: 500) |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Referee Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-referee-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-referee-info)

**GET** `/v1/referral/referee_info`

**Limit: 10 requests per second**


`GET /v1/referral/referee_info`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| page | query | integer | No | start from 1 |
| size | query | integer | No |  |
| sort | query | string | No | `ascending_code_binding_time`
`descending_code_binding_time`
`ascending_referral_rebate`
`descending_referral_rebate`
`ascending_volume`
`descending_volume`
 |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get Referee Rebate Summary

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-referee-rebate-summary](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-referee-rebate-summary)

**GET** `/v1/referral/referee_rebate_summary`

**Limit: 10 requests per second**


`GET /v1/referral/referee_rebate_summary`


Provides daily statistics on referee rebates


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| start_date | query | string | Yes | start date range that you wish to query, in the format ‘YYYY-MM-DD’ |
| end_date | query | string | Yes | end date range that you wish to query, in the format ‘YYYY-MM-DD’ |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Edit Referral Code Split

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/edit-referral-code-split](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/edit-referral-code-split)

**POST** `/v1/referral/edit_split`

**Limit: 1 requests per second**

`POST /v1/referral/edit_split`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "referral_code": "<string>"
  "referrer_rebate_rate": "<number>"
  "referee_rebate_rate": "<number>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Builder admin update auto referral

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/builder-admin-update-auto-referral](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/builder-admin-update-auto-referral)

**POST** `/v1/referral/auto_referral/update`

**Limit: 1 requests per second**

`POST /v1/referral/auto_referral/update`

Scope: Only each Builder’s admin wallet can call this endpoint.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "required_trading_volume": "<number>"
  "max_rebate": "<number>"
  "referrer_rebate": "<number>"
  "referee_rebate": "<number>"
  "enable": "<boolean>"
  "description": "<string>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Builder admin get auto referral info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/builder-admin-get-auto-referral-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/builder-admin-get-auto-referral-info)

**GET** `/v1/referral/auto_referral/info`

**Limit: 1 requests per second**

`GET /v1/referral/auto_referral/info`

Scope: Only each Builder’s admin wallet can call this endpoint.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get auto referral progress

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-auto-referral-progress](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-auto-referral-progress)

**GET** `/v1/referral/auto_referral/progress`

**Limit: 1 requests per second**

`GET /v1/referral/auto_referral/progress`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Edit Referral Code

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/edit-referral-code](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/edit-referral-code)

**POST** `/v1/referral/edit_referral_code`

**Limit: 10 requests per second**

`POST /v1/referral/edit_referral_code`

Only Auto generated code can be updated.

The referral code can only be changed if it hasn’t been bound by other user yet. 

There is no limit to the number of times it can be changed.

The referral code must be unique platform-wise.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "current_referral_code": "<string>"
  "new_referral_code": "<string>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Sign Up Campaign

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/sign-up-campaign](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/sign-up-campaign)

**POST** `/v1/client/campaign/sign_up`

**Limit: 10 requests per 1 second**

`POST /v1/client/campaign/sign_up`



**Request Body:**
```json
{
  "campaign_id": "<number>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Get List of Campaigns

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-list-of-campaigns](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-list-of-campaigns)

**GET** `/v1/public/campaigns`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/campaigns`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| start_t | query | integer | No |  |
| end_t | query | integer | No |  |
| only_show_alive | query | string | No |  |
| address | query | string | No | Filter the list that this address has participated in. |


**Response:**
```json
{}
```



### Get Campaign Statistics

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-campaign-statistics](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-campaign-statistics)

**GET** `/v1/public/campaign/stats`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/campaign/stats`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| campaign_id | query | integer | Yes |  |
| broker_id | query | string | No |  |
| symbol | query | string | No |  |


**Response:**
```json
{}
```



### Get Detailed Campaign Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-detailed-campaign-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-detailed-campaign-info)

**GET** `/v1/public/campaign/stats/details`

**Limit: 10 requests per 1 minute per IP address**

`GET /v1/public/campaign/stats/details`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| campaign_id | query | integer | Yes |  |
| broker_id | query | string | No |  |
| symbols | query | string | No |  |
| group_by | query | string | No | One of `BROKER`  `SYMBOL`  `NONE` |


**Response:**
```json
{}
```



### Get Campaign Ranking

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-campaign-ranking](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-campaign-ranking)

**GET** `/v1/public/campaign/ranking`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/campaign/ranking`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| campaign_id | query | integer | Yes |  |
| broker_id | query | string | No |  |
| page | query | integer | No | start from 1 |
| size | query | integer | No |  |
| sort_by | query | string | No | `volume`/`pnl` |
| min_pnl | query | integer | No | Return only records where PnL is greater than or equal to this value. |
| min_volume | query | integer | No | Return only records where Volume is greater than or equal to this value. |
| aggregate_by | query | string | No |  |


**Response:**
```json
{}
```



### Get Campaign User Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-campaign-user-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-campaign-user-info)

**GET** `/v1/public/campaign/user`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/campaign/user`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| campaign_id | query | integer | Yes |  |
| account_id | query | string | No |  |
| address | query | string | No |  |
| broker_id | query | string | No |  |
| symbol | query | array | No |  |
| order_tag | query | string | No |  |


**Response:**
```json
{}
```



### Get Campaign Verification

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-campaign-verification](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-campaign-verification)

**GET** `/v1/public/campaign/check`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/public/campaign/check`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| campaign_id | query | number | Yes |  |
| type | query | string | Yes | `volume`/`deposit`/`withdraw`/`order_count` |
| address | query | string | Yes |  |
| lower_boundary | query | number | Yes |  |
| cmp | query | string | No | `gt`/`ge`/`le`/`lt`, default `gt` |


**Response:**
```json
{}
```



### Get Broker Allocation History

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-broker-allocation-history](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-broker-allocation-history)

**GET** `/v1/public/trading_rewards/broker_allocation_history`

**Limit: 10 requests per 1 second per IP address**


Return each epoch from Epoch 1 to last completed epoch.


`GET /v1/public/trading_rewards/broker_allocation_history`



**Response:**
```json
{}
```



### Get Current Epoch Estimate by Broker

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-current-epoch-estimate-by-broker](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-current-epoch-estimate-by-broker)

**GET** `/v1/public/trading_rewards/current_epoch_broker_estimate`

**Limit: 10 requests per 1 second per IP address**


Get all broker’s estimated rewards allocation during the current epoch


`GET /v1/public/trading_rewards/current_epoch_broker_estimate`



**Response:**
```json
{}
```



## EVM REST API - Staking & Valor

### Get Wallet's Current Staked Balance

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-wallets-current-staked-balance](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-wallets-current-staked-balance)

**GET** `/v1/staking/balance`

**Limit: 10 requests per 1 second per IP address**

`GET /v1/staking/balance`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| address | query | string | Yes |  |


**Response:**
```json
{}
```



### Get Staking Overview

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-staking-overview](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-staking-overview)

**GET** `/v1/staking/overview`

**Limit: 10 requests per 1 second per IP address**


`GET /v1/staking/overview`



**Response:**
```json
{}
```



### Get Valor Batch Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-valor-batch-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-valor-batch-info)

**GET** `/v1/staking/valor/batch_info`

**Limit: 10 requests per 1 second per IP address**


`GET /v1/staking/valor/batch_info`



**Response:**
```json
{}
```



### Get Valor Pool Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-valor-pool-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-valor-pool-info)

**GET** `/v1/staking/valor/pool_info`

**Limit: 10 requests per 1 second per IP address**


`GET /v1/staking/valor/pool_info`



**Response:**
```json
{}
```



### Get Valor2 Pool Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-valor2-pool-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-valor2-pool-info)

**GET** `/v1/staking/valor2/pool_info`

**Limit: 10 requests per 1 second per IP address**


`GET /v1/staking/valor2/pool_info`



**Response:**
```json
{}
```



### Get Valor2 Batch Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-valor2-batch-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-valor2-batch-info)

**GET** `/v1/staking/valor2/batch_info`

**Limit: 10 requests per 1 second per IP address**


`GET /v1/staking/valor2/batch_info`



**Response:**
```json
{}
```



### Get Valor2 Redeem Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-valor2-redeem](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-valor2-redeem)

**GET** `/v1/staking/valor2/redeem`

**Limit: 10 requests per 1 second per IP address**

The redeemed VALOR amount may come from multiple batches

`GET /v1/staking/valor2/redeem`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| address | query | string | Yes |  |


**Response:**
```json
{}
```



### Get Valor2 Revenue Buyback

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-valor2-revenue-buyback](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/get-valor2-revenue-buyback)

**GET** `/v1/staking/valor2/revenue_buyback`

**Limit: 10 requests per 1 second per IP address**

Order by batch_id. Display the amount after the batch is claimable.

`GET /v1/staking/valor2/revenue_buyback`



**Response:**
```json
{}
```



### Get Valor Redeem Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-valor-redeem-info](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-valor-redeem-info)

**GET** `/v1/staking/valor/redeem`

**Limit: 10 requests per 1 second per IP address**


`GET /v1/staking/valor/redeem`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| address | query | string | Yes |  |


**Response:**
```json
{}
```



## EVM REST API - Delegate Signer & Sub-Accounts

### Add sub-account

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/add-sub-account](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/add-sub-account)

**POST** `/v1/client/add_sub_account`

**Limit: 10 requests per second**

`POST /v1/client/add_sub_account`

Only the main account is allowed to call this API.

Main account’s Orderly key can control sub-accounts.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "description": "<string>"
}
```


**Response:**
```json
{}
```



### Get sub-account list

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-sub-account](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/get-sub-account)

**GET** `/v1/client/sub_account`

**Limit: 10 requests per second**

`GET /v1/client/sub_account`

Only the main account is allowed to call this API.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Update sub-account

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/update-sub-account](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/update-sub-account)

**POST** `/v1/client/update_sub_account`

**Limit: 10 requests per second**

`POST /v1/client/update_sub_account`

Only the main account is allowed to call this API.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Request Body:**
```json
{
  "sub_account_id": "<string>"
  "description": "<string>"
}
```


**Response:**
```json
{
  "success": true
  "timestamp": 1702989203989
}
```



### Get aggregate positions

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/aggregate-positions](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/aggregate-positions)

**GET** `/v1/client/aggregate/positions`


**Limit: 1 request per 60 seconds**

`GET v1/client/aggregate/positions`

Only the main account is allowed to call this API.


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Get aggregate holding

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/aggregate-holding](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/private/aggregate-holding)

**GET** `/v1/client/aggregate/holding`


**Limit: 1 request per 60 seconds**

`GET /v1/client/aggregate/holding`

Only the main account is allowed to call this API


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |


**Response:**
```json
{}
```



### Delegate Signer

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/delegate-signer](https://orderly.network/docs/build-on-omnichain/evm-api/restful-api/public/delegate-signer)

**POST** `/v1/delegate_signer`

**Limit: 1 requests per second**

`POST /v1/delegate_signer`



**Request Body:**
```json
{
  "message": {
  "delegateContract": "0xaddress"
  "brokerId": "woofi_pro"
  "chainId": 421613
  "timestamp": 1704879369551
  "registrationNonce": 161111791392
  "txHash": "0xtxhash"
}
  "signature": "0x8668447f28534dc1b76566e41f5fcdeb6b131355b9cf428f3fae5c134e9a0fc55642a2771860484651e61043e8ac67a1a6e54031a4c66de44acd77c9d9b281e81b"
  "userAddress": "0xDd3287043493E0a08d2B348397554096728B459c"
}
```


**Response:**
```json
{}
```



## WebSocket API

### Websocket API

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/introduction](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/introduction)

#### Market Data Base Endpoints:

Mainnet: `wss://ws-evm.orderly.org/ws/stream/{account_id}`

Testnet: `wss://testnet-ws-evm.orderly.org/ws/stream/{account_id}`

`{account_id}` is your account id.

Users can subscribe/unsubscribe to the following topics: `orderbook`, `orderbookupdate`, `trade`, `ticker`, `tickers`, `bbo`, `bbos`, `estfundingrate`, `indexprice`, `indexprices`, `liquidation`, `markprice`, `markprices`, `openinterest`, `kline_1m`, `kline_5m`, `kline_15m`, `kline_30m`, `kline_1h`, `kline_1d`, `kline_1w`, `kline_1M`

#### Private User Data Stream Base Endpoints:

Mainnet: `wss://ws-private-evm.orderly.org/v2/ws/private/stream/{account_id}`

Testnet: `wss://testnet-ws-private-evm.orderly.org/v2/ws/private/stream/{account_id}`

`{account_id}` is your account id

Users need to be authenticated before subscribing to any topic. They would be disconnected if authentication fails. For more information, refer to the [Authentication](/build-on-omnichain/evm-api/websocket-api/authentication) section.

Users can subscribe/unsubscribe to the following topics: `account`, `balance`, `executionreport`, `liquidationsaccount`, `liquidatorliquidations`, `notifications`, `settle`, `position`, `wallet`


### PING/PONG

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/ping-pong](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/ping-pong)

The server will send a ping command to the client every 10 seconds. If the pong from client is not received within 10 seconds for 10 consecutive times, it will actively disconnect the client.

The client can also send ping every 10s to keep alive.

| Name  | Type   | Required | Description |
|-------|--------|----------|-------------|
| event | string | Y        | ping/pong   |

```bash
{
    "event":"ping"
}
```


```json Response
{
    "event":"pong",
    "ts":1614667590000
}
```


### Authentication

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/authentication](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/authentication)

Refer to [API authentication](/build-on-omnichain/evm-api/api-authentication) for more details about how to sign the request with `orderly-key` and `orderly-secret`. The **request method, request path,** and **request body** are all blank. The message to sign is therefore just the **timestamp**.

wsprivate can now authenticate when creating the connection by appending the content of auth request into the subscription url in the form of query string. 


For example, `wss://ws-private-evm.orderly.org/v2/ws/private/stream/0xd7379678a303b57d7d43eb23c64dd7528ac8cb4efe983a3aedcfe9b4aa4cb984?orderly_key=xxxxxxxx&timestamp=xxxxx&sign=xxxxx` will authenticate the user when creating the connection, no need to send auth request again.

| Name        | Type      | Required | Description |
|-------------|-----------|----------|-------------|
| orderly_key | string    | Y        | Orderly Key |
| sign        | string    | Y        | signature   |
| timestamp   | timestamp | Y        | timestamp   |

```bash
{
    "id":"123r",
    "event":"auth",
    "params":{
        "orderly_key":"ed25519:CUS69ZJOXwSV38xo...",
        "sign":"4180da84117fc9753b...",
        "timestamp":1621910107900
    }
}
```


```json Response
{
    "id":"123r",
    "event":"auth",
    "success":true,
    "ts":1621910107315
}
```


### Error Response

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/error-response](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/error-response)

Example response if there is an error.

You can use the `id` field in response to map the error response with the request. 

```json
{
    "id": "clientID7",
    "event": "subscribe",
    "success": false,
    "ts": 1614141150601,
    "errorMsg": "invalid symbol SPOT_WOO_USDC.e"
}
```

Example response if there is an error.


## WebSocket API - Public Market Data

### 24h ticker by builder

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/24-hour-ticker-by-builder](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/24-hour-ticker-by-builder)

Push interval: 1s

```json
{
  "id": "clientID4",
  "topic": "woofi_pro$PERP_NEAR_USDC@ticker",
  "event": "subscribe"
}
```

**Parameters**

| Name  | Type   | Required | Description                   |
| ----- | ------ | -------- | ----------------------------- |
| id    | string | Y        | id generate by client         |
| event | string | Y        | `subscribe`/`unsubscribe`     |
| topic | string | Y        | `{broker_id}${symbol}@ticker` |

```json Response
{
  "id": "clientID4",
  "event": "subscribe",
  "success": true,
  "ts": 1609924478533
}
```

```json Subscribed Message
{
  "topic": "woofi_pro$PERP_NEAR_USDC@ticker",
  "ts": 1614152270000,
  "data": {
    "symbol": "PERP_NEAR_USDC",
    "open": 0.16112,
    "close": 0.32206,
    "high": 0.33,
    "low": 0.14251,
    "volume": 89040821.98,
    "amount": 22493062.21,
    "count": 15442
  }
}
```


### 24h ticker

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/24-hour-ticker](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/24-hour-ticker)

Push interval: 1s

```json
{
    "id": "clientID4",
    "topic": "PERP_NEAR_USDC@ticker",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                              |
| ------ | ------ | -------- | ---------------------------------------- |
| id     | string | Y        | id generate by client                    |
| event  | string | Y        | `subscribe`/`unsubscribe`                |
| topic  | string | Y        | `{symbol}@ticker`                        |

```json Response
{
    "id": "clientID4",
    "event": "subscribe",
    "success": true,
    "ts": 1609924478533
}
```

```json Subscribed Message
{
    "topic": "PERP_NEAR_USDC@ticker",
    "ts": 1614152270000,
    "data": {
        "symbol": "PERP_NEAR_USDC",
        "open": 0.16112,
        "close": 0.32206,
        "high": 0.33000,
        "low": 0.14251,
        "volume": 89040821.98,
        "amount": 22493062.21,
        "count": 15442
    }
}
```


### 24h tickers by builder

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/24-hour-tickers-by-builder](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/24-hour-tickers-by-builder)

Push interval: 1s

```json
{
  "id": "clientID4",
  "topic": "woofi_pro$tickers",
  "event": "subscribe"
}
```

**Parameters**

| Name  | Type   | Required | Description               |
| ----- | ------ | -------- | ------------------------- |
| id    | string | Y        | id generate by client     |
| event | string | Y        | `subscribe`/`unsubscribe` |
| topic | string | Y        | `{woofi_pro}$tickers`     |

```json Response
{
  "id": "clientID4",
  "event": "subscribe",
  "success": true,
  "ts": 1609924478533
}
```

```json Subscribed Message
{
    "topic":"tickers",
    "ts":1618820615000,
    "data":[
        {
            "symbol":"PERP_NEAR_USDC",
            "open":16.297,
            "close":17.183,
            "high":24.707,
            "low":11.997,
            "volume":0,
            "amount":0,
            "count":0
        },
        {
            "symbol":"PERP_WOO_USDC",
            "open":0.3515,
            "close":0.43794,
            "high":0.96674,
            "low":0.39264,
            "volume":750127.1,
            "amount":985440.5122,
            "count":396
        },
        ...
    ]
}
```


### 24h tickers

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/24-hour-tickers](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/24-hour-tickers)

Push interval: 1s

```json
{
  "id": "clientID4",
  "topic": "tickers",
  "event": "subscribe"
}
```

**Parameters**

| Name  | Type   | Required | Description               |
| ----- | ------ | -------- | ------------------------- |
| id    | string | Y        | id generate by client     |
| event | string | Y        | `subscribe`/`unsubscribe` |
| topic | string | Y        | `tickers`                 |

```json Response
{
  "id": "clientID4",
  "event": "subscribe",
  "success": true,
  "ts": 1609924478533
}
```

```json Subscribed Message
{
    "topic":"tickers",
    "ts":1618820615000,
    "data":[
        {
            "symbol":"PERP_NEAR_USDC",
            "open":16.297,
            "close":17.183,
            "high":24.707,
            "low":11.997,
            "volume":0,
            "amount":0,
            "count":0
        },
        {
            "symbol":"PERP_WOO_USDC",
            "open":0.3515,
            "close":0.43794,
            "high":0.96674,
            "low":0.39264,
            "volume":750127.1,
            "amount":985440.5122,
            "count":396
        },
        ...
    ]
}
```


### Announcement

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/announcement](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/announcement)

Push interval: on new announcement

```json
{
    "id": "clientID11",
    "topic": "announcement",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description               |
| ------ | ------ | -------- |---------------------------|
| id     | string | Y        | id generate by client     |
| event  | string | Y        | `subscribe`/`unsubscribe` |
| topic  | string | N        | `announcement`            |

```json Response
{
   "id":"clientID11",
   "event":"subscribe",
   "success":true,
   "ts":1682242408023
}
```

```json Subscribed Message
{
   "topic":"announcement",
   "ts":1682242806000,
   "data": {
        "announcement_id": 1,
        "message": "Position information is incorrect due to a 1-minute delay.", 
        "url": null
      }
}
```


### bbo

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/bbo](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/bbo)

Push interval: 10ms

```json
{
    "id": "clientID5",
    "topic": "PERP_WOO_USDC@bbo",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                              |
| ------ | ------ | -------- | ---------------------------------------- |
| id     | string | Y        | id generate by client                    |
| event  | string | Y        | `subscribe`/`unsubscribe`                |
| topic  | string | Y        | `{symbol}@bbo`                           |


```json Response
{
    "id": "clientID5",
    "event": "subscribe",
    "success": true,
    "ts": 1609924478533
}
```

```json Subscribed Message
{
    "topic": "PERP_WOO_USDC@bbo",
    "ts": 1614152296945,
    "data": {
        "symbol": "PERP_WOO_USDC",
        "ask": 0.30939,
        "askSize": 4508.53,
        "bid": 0.30776,
        "bidSize": 25246.14
    }
}
```


### bbos

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/bbos](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/bbos)

Push interval: 1s

```json
{
    "id": "clientID5",
    "topic": "bbos",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                              |
| ------ | ------ | -------- | ---------------------------------------- |
| id     | string | Y        | id generate by client                    |
| event  | string | Y        | `subscribe`/`unsubscribe`                |
| topic  | string | Y        | `bbos`                                   |

```json Response
{
    "id": "clientID5",
    "event": "subscribe",
    "success": true,
    "ts": 1609924478533
}
```

```json Subscribed Message
{
    "topic":"bbos",
    "ts":1618822376000,
    "data":[
        {
            "symbol":"PERP_NEAR_USDC",
            "ask":15.0318,
            "askSize":370.43,
            "bid":15.9158,
            "bidSize":16
        },
        {
            "symbol":"PERP_WOO_USDC",
            "ask":0.318,
            "askSize":300.163881,
            "bid":0.3179,
            "bidSize":500.941728
        },
       ...
    ]
}
```


### Estimated funding rate

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/estimated-funding-rate](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/estimated-funding-rate)

Push interval: 15s

```json
{
    "id": "clientID11",
    "topic": "PERP_ETH_USDC@estfundingrate",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                               |
| ------ | ------ | -------- | ----------------------------------------- |
| id     | string | Y        | id generate by client                     |
| event  | string | Y        | `subscribe`/`unsubscribe`                 |
| topic  | string | N        | `{symbol}@estfundingrate`                 |

```json Response
{
   "id":"clientID11",
   "event":"subscribe",
   "success":true,
   "ts":1682242408023
}
```

```json Subscribed Message
{
   "topic":"PERP_ETH_USDC@estfundingrate",
   "ts":1682242440000,
   "data":{
      "symbol":"PERP_ETH_USDC",
      "fundingRate":0.00046875,
      "fundingTs":1682242440000
   }
}
```


### Index price

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/index-price](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/index-price)

Push interval: 1s


For index price, use SPOT symbol such as `SPOT_ETH_USDC` instead of `PERP_ETH_USDC`


```json
{
    "id": "clientID7",
    "topic": "SPOT_ETH_USDC@indexprice",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                               |
| ------ | ------ | -------- | ----------------------------------------- |
| id     | string | Y        | id generate by client                     |
| event  | string | Y        | `subscribe`/`unsubscribe`                 |
| topic  | string | N        | `{symbol}@indexprice`                   |

```json Response
{
   "id":"clientID7",
   "event":"subscribe",
   "success":true,
   "ts":1682241351985
}
```

```json Subscribed Message
{
   "topic":"SPOT_ETH_USDC@indexprice",
   "ts":1682241354000,
   "data":{
      "symbol":"SPOT_ETH_USDC",
      "price":1873.36
   }
}
```


### Index prices

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/index-prices](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/index-prices)

Push interval: 1s

```json
{
    "id": "clientID7",
    "topic": "indexprices",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description      |
| ------ | ------ | -------- |------------------|
| id     | string | Y        | id generate by client |
| event  | string | Y        | `subscribe`/`unsubscribe` |
| topic  | string | N        | `indexprices`    |

```json Response
{
   "id":"clientID7",
   "event":"subscribe",
   "success":true,
   "ts":1682241351985
}
```

```json Subscribed Message
{
    "topic":"indexprices",
    "ts":1618822376000,
    "data":[
        {
           "symbol":"SPOT_BTC_USDC",
            "price":51234.13
        },
        {
            "symbol":"SPOT_ETH_USDC",
            "price":3894.34
        },
       ...
    ]
}
```


### k-line

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/k-line](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/k-line)

Get the latest klines (OHLC) updates of the subscribed symbol.

Please note that for symbols with low trading activity, the kline might be generated through the mid price of the orderbook in addition to any executed trades on the platform.

`{time}`: `1m`/`5m`/`15m`/`30m`/`1h`/`1d`/`1w`/`1M`

Push interval: 1s

```json
{
    "id": "clientID6",
    "topic": "PERP_NEAR_USDC@kline_1m",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                               |
| ------ | ------ | -------- | ----------------------------------------- |
| id     | string | Y        | id generate by client                     |
| event  | string | Y        | `subscribe`/`unsubscribe`                 |
| topic  | string | N        | `{symbol}@kline_{time}`                   |

```json Response
{
    "id": "clientID6",
    "event": "subscribe",
    "success": true,
    "ts": 1609924478533
}
```

```json Subscribed Message
{
    "topic":"PERP_NEAR_USDC@kline_1m",
    "ts":1618822432146,
    "data":{
        "symbol":"PERP_NEAR_USDC",
        "type":"1m",
        "open":15.97,
        "close":14.76,
        "high":16.97,
        "low":14.06,
        "volume":44.00947568,
        "amount":2504584.9,
        "startTime":1618822380000,
        "endTime":1618822440000
    }
}
```


### Liquidation push

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/liquidation-push](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/liquidation-push)

Push interval: push on addition/removal/update from list within 1s

```json
{
    "id": "clientID12",
    "topic": "liquidation",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                               |
| ------ | ------ | -------- | ----------------------------------------- |
| id     | string | Y        | id generate by client                     |
| event  | string | Y        | `subscribe`/`unsubscribe`                 |
| topic  | string | N        | `liquidation`                   |

```json Response
{
   "id":"clientID12",
   "event":"subscribe",
   "success":true,
   "ts":1682243349558
}
```

```json Subscribed Message
{
   "topic":"liquidation",
   "ts":1684926668235,
   "data":[
      {
         "liquidationId":1,
         "timestamp":1684821114917,
         "type":"liquidated",
         "positionsByPerp":[
            {
               "symbol":"PERP_NEAR_USDC",
               "positionQty":12.6,
               "liquidatorFee":0.0175
            }
         ]
      },
      ...
   ]
}
```


### Mark price

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/mark-price](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/mark-price)

Push interval: 1s

```json
{
    "id": "clientID8",
    "topic": "PERP_ETH_USDC@markprice",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                               |
| ------ | ------ | -------- | ----------------------------------------- |
| id     | string | Y        | id generate by client                     |
| event  | string | Y        | `subscribe`/`unsubscribe`                 |
| topic  | string | N        | `{symbol}@markprice`                   |

```json Response
{
   "id":"clientID8",
   "event":"subscribe",
   "success":true,
   "ts":1682241795883
}
```

```json Subscribed Message
{
   "topic":"PERP_ETH_USDC.e@markprice",
   "ts":1682241796000,
   "data":{
      "symbol":"PERP_ETH_USDC",
      "price":2300.0
   }
}
```


### Mark prices

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/mark-prices](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/mark-prices)

Push interval: 1s

```json
{
    "id": "clientID",
    "topic": "markprices",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description               |
| ------ | ------ | -------- |---------------------------|
| id     | string | Y        | id generate by client     |
| event  | string | Y        | `subscribe`/`unsubscribe` |
| topic  | string | N        | `markprices`              |

```json Response
{
   "id":"clientID9",
   "event":"subscribe",
   "success":true,
   "ts":1682242805633
}
```


```json Subscribed Message
{
   "topic":"markprices",
   "ts":1682242806000,
   "data":[
      {
         "symbol":"PERP_ETH_USDC",
         "price":2300.0
      },
      {
         "symbol":"PERP_NEAR_USDC",
         "price":2.15
      },
   ]
}
```


### Open interest

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/open-interest](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/open-interest)

Push interval: push every 1 second if open interest change and 10 seconds force update even if no change.

```json
{
    "id": "clientID10",
    "topic": "PERP_ETH_USDC@openinterest",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                               |
| ------ | ------ | -------- | ----------------------------------------- |
| id     | string | Y        | id generate by client                     |
| event  | string | Y        | `subscribe`/`unsubscribe`                 |
| topic  | string | N        | `{symbol}@openinterest`                   |

```json Response
{
   "id":"clientID10",
   "event":"subscribe",
   "success":true,
   "ts":1682242071080
}
```


```json Subscribed Message
{
   "topic":"PERP_ETH_USDC@openinterest",
   "ts":1682242080006,
   "data":{
      "symbol":"PERP_ETH_USDC",
      "openInterest":1.2741
   }
}
```


### Order book update

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/order-book-update](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/order-book-update)

`{symbol}@orderbookupdate` updated orderbook push every 200ms

```json 
{
    "id": "clientID2",
    "topic": "PERP_NEAR_USDC@orderbookupdate",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                                           |
| ------ | ------ | -------- | ----------------------------------------------------- |
| id     | string | Y        | id generate by client                                 |
| event  | string | Y        | `subscribe`/`unsubscribe`                             |
| topic  | string | Y        | `{symbol}@orderbookupdate`                            |

```json Response
{
    "id": "clientID2",
    "event": "subscribe",
    "success": true,
    "ts": 1609924478533
}
```

```json Subscribed Message
{
    "topic":"PERP_NEAR_USDC@orderbookupdate",
    "ts":1618826337580,
    "data":{
        "symbol":"PERP_NEAR_USDC",
        "prevTs":1618826337380,
        "asks":[
            [
                15.15,
                3.92864
            ],
            [
                15.8,
                0
            ],
            ...
        ],
        "bids":[
            [
                14.2,
                1.03895025
            ],
            [
                13.6,
                1.0807
            ],
            ...
        ]
    }
}
```


### Orderbook

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/orderbook](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/orderbook)

`{symbol}@orderbook` depth 100 push every 1s

```json
{
    "id": "clientID2",
    "topic": "PERP_WOO_USDC@orderbook",
    "event": "subscribe"
}
```

**Parameters**

| Name          | Type   | Required | Description           |
|---------------|--------|----------|-----------------------|
| id            | string | Y        | id generate by client |
| event         | string | Y        | subscribe/unsubscribe |
| topic         | string | Y        | `{symbol}@orderbook`    |
| params.symbol | string | Y        | `{symbol}`              |

```json Response
{
    "id": "clientID2",
    "event": "subscribe",
    "success": true,
    "ts": 1609924478533
}
```

```json Subscribed Message
{
    "topic": "PERP_WOO_USDC@orderbook",
    "ts": 1614152140945,
    "data": {
        "symbol": "PERP_WOO_USDC",
        "asks": [
            [
                0.31075,
                2379.63
            ],
            [
                0.31076,
                4818.76
            ],
            [
                0.31078,
                8496.1
            ],
            ...
        ],
        "bids": [
            [
                0.30891,
                2469.98
            ],
            [
                0.3089,
                482.5
            ],
            [
                0.30877,
                20
            ],
            ...
        ]
    }
}
```


### Market Price Changes Info

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/price-changes](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/price-changes)

Push interval: every 1m

```json
{
    "id": "clientID11",
    "topic": "price_changes",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description               |
| ------ | ------ | -------- |---------------------------|
| id     | string | Y        | id generate by client     |
| event  | string | Y        | `subscribe`/`unsubscribe` |
| topic  | string | N        | `price_changes`           |

```json Response
{
   "id":"clientID11",
   "event":"subscribe",
   "success":true,
   "ts":1682242408023
}
```

```json Subscribed Message
{
  "topic": "price_changes",
  "ts": 1702989203989,
  "data": [
    {
      "symbol": "PERP_BTC_USDC",
      "last_price": 31000,
      "5m": 31000,
      "30m": 31000,
      "1h": 31000,
      "4h": 31000,
      "24h": 31000,
      "3d": 31000,
      "7d": 31000,
      "30d": null
    },
    {
      "symbol": "PERP_ETH_USDC",
      "last_price": 2100,
      "5m": 31000,
      "30m": 31000,
      "1h": 31000,
      "4h": 31000,
      "24h": 31000,
      "3d": 31000,
      "7d": 31000,
      "30d": null
    }
  ]
}
```


### Price for Small Charts

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/price-for-small-charts](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/price-for-small-charts)

Push interval: every 1m

```json
{
    "id": "clientID11",
    "topic": "history_charts_1m",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                      |
| ------ | ------ | -------- |----------------------------------|
| id     | string | Y        | id generate by client            |
| event  | string | Y        | `subscribe`/`unsubscribe`        |
| topic  | string | N        | `history_charts_{time_interval}` |

```json Response
{
   "id":"clientID11",
   "event":"subscribe",
   "success":true,
   "ts":1682242408023
}
```

```json Subscribed Message
{
  "topic": "history_charts_1h",
  "ts": 1618820615000,
  "data": [
    {
      "symbol": "PERP_NEAR_USDC",
      "price_list": [
          {
            "ts": 1702989203989,
            "price": 31000
          },
          {
            "ts": 1702989203989,
            "price": 31000
          }
        ]
    },
    {
      "symbol": "PERP_WOO_USDC",
      "price_list": [
          {
            "ts": 1702989203989,
            "price": 31000
          },
          {
            "ts": 1702989203989,
            "price": 31000
          }
        ]
    }
  ]
}

```


### Request orderbook

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/request-orderbook](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/request-orderbook)

#### Request orderbook

```json
{
    "id": "clientID2",
    "topic": "PERP_NEAR_USDC@orderbookupdate",
    "event": "subscribe"
}
```

**Parameters**

| Name          | Type   | Required | Description            |
|---------------|--------|----------|------------------------|
| id            | string | Y        | id generated by client |
| event         | string | Y        | request                |
| params.type   | string | Y        | orderbook              |
| params.symbol | string | Y        | `{symbol}`               |

```json Response
{
    "id": "clientID1",
    "event": "request",
    "params": {
        "type": "orderbook",
        "symbol": "PERP_NEAR_USDC"
    }
}
```


```json Subscribed Message
{
    "id":"123r",
    "event":"request",
    "success":true,
    "ts":1618880432419,
    "data":{
        "symbol":"PERP_NEAR_USDC",
        "ts":1618880432380,
        "asks":[
            [
                15,
                0.443951
            ],
            [
                15.02,
                0.002566
            ],
            ...
        ],
        "bids":[
            [
                14.99,
                2.887466
            ],
            [
                14.76,
                2.034711
            ],
           ...
        ]
    }
}
```


### System maintenance status

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/system-maintenance-status](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/system-maintenance-status)

Push interval: real-time push

```json
{
    "id": "clientID",
    "topic": "maintenance_status",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description               |
| ------ | ------ | -------- |---------------------------|
| id     | string | Y        | id generate by client     |
| event  | string | Y        | `subscribe`/`unsubscribe` |
| topic  | string | N        | `maintenance_status`              |

```json Response
{
   "id":"clientID9",
   "event":"subscribe",
   "success":true,
   "ts":1682242805633
}
```


```json Subscribed Message
{
   "topic":"maintenance_status",
   "ts":1682242806000,
   "data":[
      {
         "status": 2, // 0 is functioning, 2 is under maintenance
         "msg": "system is under maintenance",
         "scheduled_maintenance": {
            "startTime": 1618822380000,
            "endTime": 1618822440000
         }
      }
   ]
}
```


### Trade

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/trade](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/trade)

Push interval: real-time push

```json
{
    "id": "clientID3",
    "topic": "PERP_WOO_USDC@trade",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                              |
| ------ | ------ | -------- | ---------------------------------------- |
| id     | string | Y        | id generate by client                    |
| event  | string | Y        | `subscribe`/`unsubscribe`                |
| topic  | string | Y        | `{symbol}@trade`                         |

```json Response
{
    "id": "clientID3",
    "event": "subscribe",
    "success": true,
    "ts": 1609924478533
}
```

```json Subscribed Message
{
    "topic":"PERP_WOO_USDC@trade",
    "ts":1618820361552,
    "data":{
        "symbol":"PERP_WOO_USDC",
        "price":0.37988,
        "size":300,
        "side":"BUY"
    }
}
```


### Traders Open Interest

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/traders-open-interests](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/public/traders-open-interests)

Push interval: every 1m

```json
{
    "id": "clientID11",
    "topic": "traders_open_interests",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description               |
| ------ | ------ | -------- |---------------------------|
| id     | string | Y        | id generate by client     |
| event  | string | Y        | `subscribe`/`unsubscribe` |
| topic  | string | N        | `traders_open_interest`   |

```json Response
{
   "id":"clientID11",
   "event":"subscribe",
   "success":true,
   "ts":1682242408023
}
```

```json Subscribed Message
{
  "topic": "traders_open_interests",
  "ts": 1618820615000,
  "data": [
    {
      "symbol": "PERP_BTC_USDC",
      "long_oi": 31000,
      "short_oi": 31000
    },
    {
      "symbol": "PERP_ETH_USDC",
      "long_oi": 31000,
      "short_oi": 31000
    }
  ]
}
```


## WebSocket API - Private User Data

### Account

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/account](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/account)

Push interval: real-time push

```json
{
  "id": "clientID3",
  "topic": "account",
  "event": "subscribe"
}
```

**Parameters**

| Name  | Type   | Required | Description               |
| ----- | ------ | -------- | ------------------------- |
| id    | string | Y        | id generate by client     |
| event | string | Y        | `subscribe`/`unsubscribe` |
| topic | string | Y        | `account`                 |

```json Response
{
    "id": "clientID3",
    "event": "subscribe",
    "success": true,
    "ts": 1609924478533
}
```

```json Subscribed Message
{
    "accountDetail": {
        "marginMode": "SPOT_FUTURES",
        "futuresLeverage": 10,
        "takerFeeRate": 10,
        "makerFeeRate": 10,
        "futuresTakerFeeRate": 8,
        "futuresMakerFeeRate": 4,
        "rwaFuturesTakerFeeRate": 13.0,
        "rwaFuturesMakerFeeRate": 12.0,
        "maintenanceCancelFlag": false,
        "symbolLeverage": {
            "leverage": 20,
            "symbol": "PERP_BTC_USDC"
        }
    }
}
```


### Algo Execution Report v2

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/algo-execution-report-v2](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/algo-execution-report-v2)

Push interval: real-time push

```json
{
  "id": "clientID3",
  "topic": "algoexecutionreportv2",
  "event": "subscribe"
}
```

**Parameters**

| Name  | Type   | Required | Description               |
| ----- | ------ | -------- | ------------------------- |
| id    | string | Y        | id generate by client     |
| event | string | Y        | `subscribe`/`unsubscribe` |
| topic | string | Y        | `algoexecutionreportv2`   |

```json Response
{
  "id": "clientID3",
  "event": "subscribe",
  "success": true,
  "ts": 1609924478533
}
```
```json Subscribed Message
{
  "topic": "algoexecutionreportv2",
  "ts": 1714017148719,
  "data": {
    "algoOrderId": 10000,
    "clientOrderId": "cl_oid",
    "rootAlgoOrderId": 10000,
    "parentAlgoOrderId": 0,
    "symbol": "PERP_NEAR_USDC",
    "orderTag": "o_tag",
    "algoType": "TP_SL",
    "side": "SELL",
    "quantity": 1.5,
    "isTriggered": true,
    "triggerPrice": 7.2,
    "triggerStatus": "SUCCESS",
    "type": "MARKET",
    "status": "FILLED",
    "rootAlgoStatus": "FILLED",
    "algoStatus": "FILLED",
    "triggerPriceType": "MARK_PRICE",
    "price": 0,
    "triggerTradePrice": 7.25,
    "triggerTime": 1714017148700,
    "totalExecutedQuantity": 1.5,
    "visibleQuantity": 1.5,
    "averageExecutedPrice": 7.25,
    "totalFee": 0.01,
    "feeAsset": "USDC",
    "reduceOnly": false,
    "createdTime": 1714017110010,
    "timestamp": 1714017110086,
    "isActivated": true,
    "callbackRate": null,
    "callbackValue": null,
    "extremePrice": null,
    "activatedPrice": null,
    "tradeId": 123456789,
    "executedPrice": 7.25,
    "executedQuantity": 1.5,
    "fee": 0.01,
    "isMaker": false,
    "childOrders": [
      {
        "algoOrderId": 10001,
        "clientOrderId": "cl_oid_child",
        "rootAlgoOrderId": 10000,
        "parentAlgoOrderId": 10000,
        "symbol": "PERP_NEAR_USDC",
        "orderTag": "o_tag_child",
        "algoType": "TAKE_PROFIT",
        "side": "SELL",
        "quantity": 1.5,
        "isTriggered": true,
        "triggerPrice": 7.2,
        "triggerStatus": "SUCCESS",
        "type": "MARKET",
        "status": "FILLED",
        "rootAlgoStatus": "FILLED",
        "algoStatus": "FILLED",
        "triggerPriceType": "MARK_PRICE",
        "price": 0,
        "triggerTradePrice": 7.25,
        "triggerTime": 1714017148701,
        "totalExecutedQuantity": 1.5,
        "visibleQuantity": 1.5,
        "averageExecutedPrice": 7.25,
        "totalFee": 0.01,
        "feeAsset": "USDC",
        "reduceOnly": false,
        "createdTime": 1714017110011,
        "timestamp": 1714017110087,
        "isActivated": true,
        "callbackRate": null,
        "callbackValue": null,
        "extremePrice": null,
        "activatedPrice": null,
        "tradeId": 123456790,
        "executedPrice": 7.25,
        "executedQuantity": 1.5,
        "fee": 0.01,
        "isMaker": false,
        "childOrders": []
      }
    ]
  }
}
```


### Algo Execution Report

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/algo-execution-report](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/algo-execution-report)

Push interval: real-time push

```json
{
  "id": "clientID3",
  "topic": "algoexecutionreport",
  "event": "subscribe"
}
```

**Parameters**

| Name  | Type   | Required | Description               |
| ----- | ------ | -------- | ------------------------- |
| id    | string | Y        | id generate by client     |
| event | string | Y        | `subscribe`/`unsubscribe` |
| topic | string | Y        | `algoexecutionreport`     |

```json Response
{
  "id": "clientID3",
  "event": "subscribe",
  "success": true,
  "ts": 1609924478533
}
```
```json Subscribed Message
{
  "topic": "algoexecutionreport",
  "ts": 1750997326998,
  "data": [
    {
      "symbol": "PERP_NEAR_USDC",
      "rootAlgoOrderId": 654400003,
      "parentAlgoOrderId": 0,
      "algoOrderId": 654400003,
      "clientOrderId": "clientOrderId123",
      "orderTag": "tag1",
      "status": "FILLED",
      "algoType": "STOP",
      "side": "SELL",
      "quantity": 3,
      "triggerStatus": "SUCCESS",
      "price": 1.25,
      "type": "MARKET",
      "triggerTradePrice": 1.3,
      "triggerTime": 1750997326000,
      "tradeId": 10001,
      "executedPrice": 1.3,
      "executedQuantity": 3,
      "fee": 1.2,
      "feeAsset": "USDC",
      "totalExecutedQuantity": 3,
      "averageExecutedPrice": 1.3,
      "totalFee": 1.2,
      "timestamp": 1750997326991,
      "visibleQuantity": 3,
      "reduceOnly": true,
      "callbackRate": null,
      "callbackValue": null,
      "extremePrice": null,
      "activatedPrice": null,
      "triggered": true,
      "activated": null,
      "maker": true,
      "isMaker": true,
      "rootAlgoStatus": "FILLED",
      "algoStatus": "FILLED",
      "isActivated": true,
      "triggerPrice": 1.25,
      "triggerPriceType": "MARK_PRICE",
      "createdTime": 1750997261728
    }
  ]
}
```


### Asset Convert

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/asset-convert](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/asset-convert)

Push interval: push on update

```json
{
  "id": "clientID3",
  "topic": "assetconvert",
  "event": "subscribe"
}
```

**Parameters**

| Name  | Type   | Required | Description               |
| ----- | ------ | -------- | ------------------------- |
| id    | string | Y        | id generate by client     |
| event | string | Y        | `subscribe`/`unsubscribe` |
| topic | string | Y        | `assetconvert`            |

```json Response
{
    "id": "clientID3",
    "event": "subscribe",
    "success": true,
    "ts": 1609924478533
}
```

```json Subscribed Message
{
  "topic": "assetconvert",
  "ts": 1641439456774,
  "data":{
      "convertId": 123456789,  // planId
      "transactionId": 202,     // id
      "timestamp": 1663313562090, // updatedTime 
      "type": "auto",          // refType  0/1=auto, 1=manual 
      "convertedAsset": "ETH",  // sellToken
      "convertedQty": 1.23,     // sellQuantity
      "receivedAsset": "USDC",   // buyToken
      "receivedQty": 18123.43   // buyQuantity
    }
}
```


### Balance

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/balance](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/balance)

Push interval: real-time push

```json
{
    "id": "clientID3",
    "topic": "balance",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                              |
| ------ | ------ | -------- | ---------------------------------------- |
| id     | string | Y        | id generate by client                    |
| event  | string | Y        | `subscribe`/`unsubscribe`                |
| topic  | string | Y        | `balance`                                |

```json Response
{
    "id": "clientID3",
    "event": "subscribe",
    "success": true,
    "ts": 1609924478533
}
```

```json Subscribed Message
{
    "topic":"balance",
    "ts":1651836695254,
    "data":{
        "balances":{
            "USDC":{
                "holding":5555815.47398272,
                "frozen":0,
                "interest":0,
                "pendingShortQty":0,
                "pendingExposure":0,
                "pendingLongQty":0,
                "pendingLongExposure":0,
                "version":894,
                "staked":51370692,
                "unbonding":0,
                "vault":0,
                "averageOpenPrice":0.00000574,
                "pnl24H":0,
                "fee24H":0.01914,
                "markPrice":0.31885
            }
        }
    }
}
```


### Execution Report

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/execution-report](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/execution-report)

Push interval: real-time push

```json
{
  "id": "clientID3",
  "topic": "executionreport",
  "event": "subscribe",
  "params": {
    "symbol": "PERP_BTC_USDC,PERP_ETH_USDC"
  }
}
```

**Parameters**

| Name          | Type   | Required | Description               |
| ------------- | ------ | -------- | ------------------------- |
| id            | string | Y        | id generate by client     |
| event         | string | Y        | `subscribe`/`unsubscribe` |
| topic         | string | Y        | `executionreport`         |
| params        | object | N        | Defaults to all symbols   |
| params.symbol | string | N        | Symbols, comma separated  |

```json Response
{
  "id": "clientID3",
  "event": "subscribe",
  "success": true,
  "ts": 1609924478533
}
```
``` json Subscribed Message
{
   "topic":"executionreport",
   "ts":1704679472455,
   "data":{
      "symbol":"PERP_MATIC_USDC",
      "clientOrderId":"",
      "orderId":292820969,
      "type":"LIMIT",
      "side":"BUY",
      "quantity":7029.0,
      "price":0.7699,
      "tradeId":0,
      "executedPrice":0.0,
      "executedQuantity":0.0,
      "fee":0.0,
      "feeAsset":"USDC",
      "totalExecutedQuantity":0.0,
      "avgExecutedPrice":0,
      "status":"NEW",
      "reason":"",
      "totalFee":0.0,
      "visibleQuantity":7029.0,
      "timestamp":1704679472448,
      "maker":false,
      "match_id":"1707119522287540609",
      "seq":1730181536341943600
   }
}
```


### Liquidation on account push

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/liquidation-account-push](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/liquidation-account-push)

Push interval: push on update

```json
{
    "id": "clientID5",
    "topic": "liquidationsaccount",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description               |
| ------ | ------ | -------- |---------------------------|
| id     | string | Y        | id generate by client     |
| event  | string | Y        | `subscribe`/`unsubscribe` |
| topic  | string | Y        | `liquidationsaccount`     |

```json Response
{
    "id": "clientID5",
    "event": "subscribe",
    "success": true,
    "ts": 1609924478533
}
```

```json Subscribed Message
{
    "topic":"liquidationsaccount",
    "ts":1641439456774,
    "data":[
          {
              "liquidationId": 101,
              "timestamp": 1663313562090,
              "transferAmountToInsuranceFund": 0,
              "positionsByPerp" : [
                {
                    "symbol" : "PERP_BTC_USDC",
                    "positionQty": 1.23,
                    "costPositionTransfer": 1350,
                    "transferPrice": 18123.43,
                    "liquidatorFee": 0.015,
                    "insuranceFundFee": 0.015,
                    "absLiquidationFee": 3520,
                },
              ]
          },
    ]
}

```


### Liquidator liquidations push

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/liquidator](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/liquidator)

Push interval: push on addition/removal/update from list within 1s

1 user_id can have many liquidation_ids 

```json
{
    "id": "clientID3",
    "topic": "liquidatorliquidations",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                              |
| ------ | ------ | -------- | ---------------------------------------- |
| id     | string | Y        | id generate by client                    |
| event  | string | Y        | `subscribe`/`unsubscribe`                |
| topic  | string | Y        | `liquidatorliquidations`            |

```json Response
{
    "id": "clientID3",
    "event": "subscribe",
    "success": true,
    "ts": :1682244882617
}
```

```json Subscribed Message
{
   "topic":"liquidatorliquidations",
   "ts":1684821114917,
   "data":{
      "liquidationId":1,
      "timestamp":1684821114917,
      "type":"liquidated",
      "assigned":1,
      "positionsByPerp":[
         {
            "symbol":"PERP_NEAR_USDC",
            "positionQty":12.6,
            "costPositionTransfer":20.05668,
            "transferPrice":1.5918,
            "liquidatorFee":0.0175,
            "absLiquidatorFee":0.350992
         }
      ]
   }
}
```


### Notifications

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/notifications](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/notifications)

Push interval: real-time push

```json
{
    "id": "clientID3",
    "topic": "notifications",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                              |
| ------ | ------ | -------- | ---------------------------------------- |
| id     | string | Y        | id generate by client                    |
| event  | string | Y        | `subscribe`/`unsubscribe`                |
| topic  | string | Y        | `notifications`            |

```json Response
{
    "id": "clientID3",
    "event": "subscribe",
    "success": true,
    "ts": 1609924478533
}
```
```json Subscribed Message
{
    "topic": "notifications",
    "data": {
        "id": 12345, // notification id
        "messageType": "ORDER_FILLED", // ORDER_FILLED
        "title": "Your order has been filled",
        "type": "TRADE",  // TRADE / SYSTEM
        "level": "GENERAL", // GENERAL / IMPORTANT
        "contentSummary": "Your order to buy 1 NEAR/USDC.e has been filled: 0.5/1 at 1.9876.",
        "content": "<p>Your order to buy 1 NEAR/USDC.e has been filled: 0.5/1 at 1.9876.",
        "contentRaw": { // below example is for a ORDER_FILLED content
            "symbol": "PERP_NEAR_USDC",
            "side": "BUY",
            "orderId": 1,
            "executedPrice": 1.9876, 
            "executedQuantity": 0.5,
            "executedTimestamp": 1567382401000 
        }
    },
    "timestamp": 1679021265398
}
```


### PnL Settlement

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/pnl-settlement](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/pnl-settlement)

Push interval: real-time push on update

```json
{
    "id": "clientID3",
    "topic": "settle",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description               |
| ------ | ------ | -------- |---------------------------|
| id     | string | Y        | id generate by client     |
| event  | string | Y        | `subscribe`/`unsubscribe` |
| topic  | string | Y        | `settle`                  |

```json Response
{
    "id": "clientID3",
    "event": "subscribe",
    "success": true,
    "ts": 1609924478533
}
```

```json Subscribed Message
{
    "topic": "settle",
    "data": {
        "id": 10001,
        "old_balance": 4050,
        "new_balance": 3050,
        "settled_amount": -1000,
        "requested_time": 1575014255089, // Unix epoch time in ms
        "settled_time": 1575014255910, // Unix epoch time in ms
        "status": "COMPLETED"
    },
    "timestamp": 1679021265398
}
```


### Position push

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/position-push](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/position-push)

Push interval: push on update

```json
{
  "id": "clientID3",
  "topic": "position",
  "event": "subscribe"
}
```

**Parameters**

| Name  | Type   | Required | Description               |
| ----- | ------ | -------- | ------------------------- |
| id    | string | Y        | id generate by client     |
| event | string | Y        | `subscribe`/`unsubscribe` |
| topic | string | Y        | `position`                |

```json Response
{
    "id": "clientID3",
    "event": "subscribe",
    "success": true,
    "ts": :1682244308139
}
```

```json Subscribed Message
{
  "topic": "position",
  "ts": 1684926050966,
  "data": {
    "positions": [
      {
        "symbol": "PERP_ETH_USDC",
        "positionQty": 3.1408,
        "costPosition": 5706.51952,
        "lastSumUnitaryFunding": 0.804,
        "sumUnitaryFundingVersion": 0,
        "pendingLongQty": 0.0,
        "pendingShortQty": -1.0,
        "settlePrice": 1816.9,
        "averageOpenPrice": 1804.51490427,
        "unsettledPnl": -2.79856,
        "pnl24H": -338.90179488,
        "fee24H": 4.242423,
        "markPrice": 1816.2,
        "estLiqPrice": 0.0,
        "version": 179967,
        "imrwithOrders": 0.1,
        "mmrwithOrders": 0.05,
        "mmr": 0.05,
        "imr": 0.1,
        "seq": 1730181536341943600,
        "timestamp": 1685429350571,
        "updated_time": 1685429350571,
        "leverage": 10
      }
    ]
  }
}
```


### Wallet Transactions

Source: [https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/wallet-transactions](https://orderly.network/docs/build-on-omnichain/evm-api/websocket-api/private/wallet-transactions)

Push interval: real-time push

```json
{
    "id": "clientID3",
    "topic": "wallet",
    "event": "subscribe"
}
```

**Parameters**

| Name   | Type   | Required | Description                              |
| ------ | ------ | -------- | ---------------------------------------- |
| id     | string | Y        | id generate by client                    |
| event  | string | Y        | `subscribe`/`unsubscribe`                |
| topic  | string | Y        | `wallet`                                |

```json Response
{
    "id": "clientID3",
    "event": "subscribe",
    "success": true,
    "ts": 1609924478533
}
```

```json Subscribed Message
{
    "topic": "wallet",
    "data": {
        "id": "230707030600002",
        "tx_id": "0x4b0714c63cc7abae72bf68e84e25860b88ca651b7d27dad1e32bf4c027fa5326",
        "side": "WITHDRAW", // DEPOSIT / WITHDRAW
        "token": "USDC",
        "amount": 555,
        "fee": 0,
        "trans_status": "FAILED", // PENDING / PROCESSING / COMPLETED / FAILED / PENDING_REBALANCE
        "created_time": 1688699193034,
        "updated_time": 1688699193096,
        "chain_id": "986532"
    },
    "timestamp": 1679021265398
}
```


## SDKs

### List of SDKs

Source: [https://orderly.network/docs/sdks/overview](https://orderly.network/docs/sdks/overview)

#### EVM


  
    The components library gives you high level components, that can be used as building blocks to
    develop your DEX.
  
  
    The hooks library provides a series of React hooks for React developers to ensure a seamless
    integration experience.
  
  
    The core library is the foundational SDK used by hooks SDK with some helper functions for
    Orderly Key management, signatures, etc.
  
  
    A library of calculation formulas related to Orderly futures trading. This library is designed
    to be purely functional, with no context dependencies.


### Changelog

Source: [https://orderly.network/docs/sdks/changelog](https://orderly.network/docs/sdks/changelog)

Changelog for all SDK releases can be found [here](/changelog/sdk)


### Migrate to SDK v2

Source: [https://orderly.network/docs/sdks/migrate](https://orderly.network/docs/sdks/migrate)

#### Major Enhancements

1. Hook and Component Library Refactoring: Improved performance and enhanced component customization capabilities.
2. New UI/UX: Updated design for a better user experience.
3. Solana Support: Added support for the Solana chain.
4. New Bracket Order
5. Extended React Hooks: Added new hooks (refer to documentation for the complete list):
   1. portfolio
      1. useAssetsHistory
      2. useDistributionHistory
      3. useFundingFeeHistory
      4. useStatisticsDaily
   2. Trading Rewards:
      1. useAccountRewardsHistory
      2. useWalletRewardsHistory
6. New Page Components: Added more out-of-the-box components, the SDK now includes the following built-in page components:
   1. Trading (New)
   2. Portfolio
   3. Referral
   4. Markets
   5. Trading Rewards
7. Base UI component library: A new base component library, @orderly.network/ui, has been created to facilitate builders in developing custom components that maintain a consistent style with the components provided by the SDK.
8. Independent Widgets: Separated additional widgets for standalone use, with each page widget’s components available for export:
   1. Positions Widget
   2. Orders Widget
   3. Order Entry Widget
9. Enhanced Customization Options:
10. Theming:
    1. Custom themes with support for CSS variables (since 1.0.0).
    2. Override component styles via element class modifications.
    3. Customize default component behaviors via theme configuration.
11. Custom Components:
    1. Ability to create fully custom components.

#### Package Structure Changes

##### Deprecated Packages:

| Name                            | Replacement                                                | Description                                  |
| ------------------------------- | ---------------------------------------------------------- | -------------------------------------------- |
| `@orderly.network/react`        | `@orderly.network/ui-scaffold`, `@orderly.network/trading` | Deprecated and split into multiple packages. |
| `@orderly.network/web3-onboard` | `@orderly.network/wallet-connector`                        | Supports Solana/EVM wallets.                 |
| `@orderly.network/referral`     | `@orderly.network/affiliate`                               | Replacement package.                         |

##### New Packages

| Name                                      | Description                                                |
| ----------------------------------------- | ---------------------------------------------------------- |
| `@orderly.network/ui`                     | Base UI component library.                                 |
| `@orderly.network/ui-scaffold`            | Page layout components (e.g., headers, footers, sidebars). |
| `@orderly.network/react-app`              | Providers for any React app built with Orderly components. |
| `@orderly.network/trading`                | Trading page components.                                   |
| `@orderly.network/portfolio`              | Personal portfolio dashboard components.                   |
| `@orderly.network/trading-rewards`        |                                                            |
| `@orderly.network/affiliate`              |                                                            |
| `@orderly.network/markets`                |                                                            |
| `@orderly.network/ui-connector`           |                                                            |
| `@orderly.network/ui-chain-selector`      |                                                            |
| `@orderly.network/ui-order-entry`         |                                                            |
| `@orderly.network/ui-orders`              |                                                            |
| `@orderly.network/ui-positions`           |                                                            |
| `@orderly.network/ui-tpsl`                |                                                            |
| `@orderly.network/ui-transfer`            |                                                            |
| `@orderly.network/ui-share`               |                                                            |
| `@orderly.network/ui-leverage`            |                                                            |
| `@orderly.network/wallet-connector`       |                                                            |
| `@orderly.network/default-evm-adapter`    |                                                            |
| `@orderly.network/default-solana-adapter` |                                                            |
| `@orderly.network/web3-provider-ethers`   |                                                            |

#### Major breaking changes

##### Hooks SDK Modifications (@orderly.network/hooks)

You can find a full example using the Components SDK in [this Github repository](https://github.com/OrderlyNetwork/example-dex).

###### OrderlyConfigProvider

Added walletAdapters configuration property, supporting EVM and Solana by default. If your Solana wallet connection is not ready, manually configure this property to exclude Solana support:

```tsx


/**
 * To support only EVM, you need to manually set the `walletAdapters` property in `OrderlyProvider` to override the SDK's default configuration.
 * Note: Make sure to include the following dependencies: `@orderly.network/default-evm-adapter` and `@orderly.network/web3-provider-ethers`.
 */
<OrderlyConfigProvider
  //... other
  walletAdapters={[new DefaultEVMWalletAdapter(new EthersProvider())]}
>
  {children}
</OrderlyConfigProvider>;
```

If you are using the UI components directly from the Orderly SDK, you can ignore this change, as the SDK’s wallet connection components will support both EVM and Solana by default.

However, if you want to support only EVM or Solana, refer to the following configuration:

```tsx


<OrderlyAppProvider
  //... other
  walletAdapters={[new DefaultEVMAdapterWalletAdapter(new EthersProvider())]}
>
  {children}
</OrderlyAppProvider>;
```

The getWalletAdapter property has been removed.

###### useAccount

Updated to support multiple chain namespaces (EVM, Solana):

```tsx
const { account } = useAccount();
account.setAddress(currentWallet.accounts[0].address, {
  provider: currentWallet.provider,
  chain: {
    id: currentChainId, // current chain id
    namespace: "SOL" // namespace can be 'EVM' or 'SOL'
  },
  wallet: {
    name: currentWallet.label // metamask or some other name of wallet
  }
});
```

###### useOrderEntry

v2 refactors the input parameters and return types. If you still wish to use the useOrderEntry from v1, you can import it as follows:

```tsx

```

> **Note:** `useOrderEntry_deprecated` will be removed in future versions. It is recommended to transition to
>   the new version of useOrderEntry as soon as possible.

Go check out the full updated example of the new [`userOrderEntry`](/sdks/hooks/orders/use-order-entry) hook or look at the [example dex](https://github.com/OrderlyNetwork/example-dex/blob/ca3214216de541c139e95a38cf3d3044999a6859/app/components/CreateOrder.tsx).

###### useMarginRatio

The return type has been updated:

- **old**: `currentLeverage: number;`
- **new**: `currentLeverage: number | null;`

```tsx

  marginRatio: number;
  // NEW: `number` to `number | null`
  currentLeverage: number | null;
  mmr: number | null;
};
```

##### Components SDK Modifications (prior @orderly.network/react)

If you are only integrating the SDK using hooks, you can ignore the following changes. However, if you are using the widgets provided by the SDK, please adjust your implementation accordingly.

You can find a full example using the Components SDK in [this Github repository](https://github.com/OrderlyNetwork/orderly-js-sdk-nextjs-template).

###### `@orderly.network/react`（Deprecation）

- The package `@orderly.network/react` has been deprecated and split into：
  - `@orderly.network/ui-scaffold`: For page layout components.
  - `@orderly.network/trading`: For trading page components.
- `@orderly.network/ui-scaffold` provides layout functionalities, including top navigation menus, bottom status bars, and left-side navigation.If you want to customize the top navigation component, note that the v1 Layout component attributes are no longer supported. Configuration should be migrated to the Scaffold component.
- The `@orderly.network/ui-scaffold` package not only includes the default Scaffold component but also exports subcomponents like ChainMenuWidget, AccountMenuWidget, etc. These can be freely combined to suit your needs. Refer to the `@orderly.network/ui-scaffold` documentation for details.
- The SDK only provides page components; you are responsible for organizing the routing. It is recommended to use a React router library that supports nested routes to reuse layout components, minimize page reloads, and improve user experience. If you are using Next.js, refer to the Next.js template.

###### OrderlyAppProvider updates:

- onChainChanged:

```tsx
//v 1
onChainChanged?: (chainId: number, isTestnet: boolean) => void;

// v2
// The second parameter has changed from a boolean to an object
onChainChanged?: (
    chainId: number,
    state: { isTestnet: boolean; isWalletConnected: boolean }
) => void;
```

- Removed Properties:
  - shareOptions , referral have been removed: Configure this within the TradingPage component of `@orderly.network/trading`.
  - topBar, topBarProps, footerStatusBarProps, accountMenuItems, onClickAccountMenuItem have been removed. Migrate these configurations to the Scaffold component in `@orderly.network/ui-scaffold`.

###### Wallet Connection

Replace `@orderly.network/web3-onboard` with `@orderly.network/wallet-connector`. Ensure to update the corresponding component parameters.

###### Styling

Replace `styles.css` import from `@orderly.network/react` with `@orderly.network/ui/dist/styles.css`

Theme Updates:

```css
"--oui-font-family": '"Manrope", sans-serif',
/* colors */
"--oui-color-primary": "51 95 252",
"--oui-color-primary-light": "96 140 255",
"--oui-color-primary-darken": "152 62 214",
"--oui-color-primary-contrast": "255 255 255",
"--oui-color-link": "182 79 255",
"--oui-color-link-light": "208 140 255",
"--oui-color-secondary": "255 255 255",
"--oui-color-tertiary": "218 218 218",
"--oui-color-quaternary": "218 218 218",
"--oui-color-danger": "255 68 124",
"--oui-color-danger-light": "255 68 124",
"--oui-color-danger-darken": "217 45 107",
"--oui-color-danger-contrast": "255 255 255",
"--oui-color-success": "0 180 158",
"--oui-color-success-light": "15 203 180",
"--oui-color-success-darken": "0 134 118",
"--oui-color-success-contrast": "255 255 255",
"--oui-color-warning": "210 95 0",
"--oui-color-warning-light": "255 207 115",
"--oui-color-warning-darken": "117 88 33",
"--oui-color-warning-contrast": "255 255 255",
"--oui-color-fill": "36 32 47",
"--oui-color-fill-active": "40 46 58",
"--oui-color-base-1": "83 94 123",
"--oui-color-base-2": "74 83 105",
"--oui-color-base-3": "57 65 85",
"--oui-color-base-4": "51 57 72",
"--oui-color-base-5": "40 46 58",
"--oui-color-base-6": "32 37 47",
"--oui-color-base-7": "27 32 40",
"--oui-color-base-8": "24 28 35",
"--oui-color-base-9": "19 21 25",
"--oui-color-base-10": "7 8 10",
"--oui-color-base-foreground": "255 255 255",
"--oui-color-line": "255 255 255",
"--oui-color-trading-loss": "255 68 124",
"--oui-color-trading-loss-contrast": "255 255 255",
"--oui-color-trading-profit": "0 180 158",
"--oui-color-trading-profit-contrast": "255 255 255",
/* gradients */
"--oui-gradient-primary-start": "96 140 255",
"--oui-gradient-primary-end": "24 40 195",
"--oui-gradient-secondary-start": "189 107 237",
"--oui-gradient-secondary-end": "45 0 97",
"--oui-gradient-success-start": "0 180 158",
"--oui-gradient-success-end": "0 90 79",
"--oui-gradient-danger-start": "255 68 124",
"--oui-gradient-danger-end": "121 20 56",
"--oui-gradient-warning-start": "255 182 93",
"--oui-gradient-warning-end": "121 46 0",
"--oui-gradient-neutral-start": "38 41 46",
"--oui-gradient-neutral-end": "27 29 34",
"--oui-gradient-brand-start": "38 254 255",
"--oui-gradient-brand-end": "89 176 254",
/* Spacing */
"--oui-spacing-xs": "20rem",
"--oui-spacing-sm": "22.5rem",
"--oui-spacing-md": "26.25rem",
"--oui-spacing-lg": "30rem",
"--oui-spacing-xl": "33.75rem"
```

###### Referral

`@orderly.network/referral` has been replaced by `@orderly.network/affiliate`:

```tsx

// ...

<ReferralProvider
  becomeAnAffiliateUrl="URL"
  learnAffiliateUrl="URL"
  referralLinkUrl="URL"
  overwrite={{
    shortBrokerName: "NAME",
    brokerName: "NAME"
  }}
>
  <Dashboard.DashboardPage />
</ReferralProvider>;
```

#### FAQ

##### export 'SWRConfig' (reexported as 'SWRConfig') was not found in 'swr' (possible exports: unstable_serialize)

when use Next.js，you need to add use client directive at the top of the file

##### Attempted import error: 'startWith' is not exported from 'rxjs' (imported as 'startWith').

./node_modules/@web3-onboard/core/dist/Index-6c094240.js

This issue is caused by a version conflict between the rxjs version used by @web3-onboard/core and other libraries. In rxjs@7.x, startWith is exported from 'rxjs/operators' rather than being directly imported from 'rxjs'.

To resolve this issue, ensure the required version of rxjs for @web3-onboard/core is installed (i.e., ^7.5.5). Since @orderly.network/wallet-connector already includes this version of rxjs, updating @orderly.network/wallet-connector will resolve the conflict.

##### Error: Dynamic require of "react" is not supported

The issue with the import statement might be due to the following reasons:

- The imported package is not added to the dependencies in your package.json file.
- The import statement is pointing to a local directory (e.g., ../../dist) instead of the actual package name.


## React Components SDK

### Getting started

Source: [https://orderly.network/docs/sdks/react/getting_started](https://orderly.network/docs/sdks/react/getting_started)

Follow the steps below to integrate the Orderly SDK into your project:

#### Add Basic Dependencies

##### Install the Base Component Libraries

```
npm install @orderly.network/ui @orderly.network/react-app
```

##### Add Styles to Your Project

Reference the style file by adding the following code to your project:

```ts

```

##### Add a Global Configuration Provider

Wrap your application with the `OrderlyAppProvider` component to set global configurations:

```tsx


const App: FC<{ children: ReactNode }> = (props) => {
  return (
    <OrderlyAppProvider brokerId="orderly" brokerName="Orderly" networkId="testnet" appIcons={""}>
      {props.children}
    </OrderlyAppProvider>
  );
};
```

##### Add Wallet Connection

Orderly SDK provides a built-in wallet connection component supporting both EVM and Solana. Here’s how to integrate it:

###### Install Wallet Connector Dependencies

```
npm install @orderly.network/wallet-connector
```

###### Add the WalletConnectorProvider Component

Wrap your application with the `WalletConnectorProvider` for wallet connection functionality:

```tsx


const App: FC<{ children: ReactNode }> = (props) => {
  return (
    <WalletConnectorProvider solanaInitial={{network: WalletAdapterNetwork.Mainnet }}>
      <OrderlyAppProvider brokerId="orderly" brokerName="Orderly" networkId="testnet" appIcons={""}>
        {props.children}
      </OrderlyAppProvider>
    </WalletConnectorProvider>
  );
};
```

Alternatively, you can integrate third-party wallet libraries by implementing the `WalletConnectorContextState`
interface from `@orderly.network/hooks`.

#### Add Pages

##### Page Layout

If you want to use the SDK’s built-in top navigation, side navigation, and other layout features, install the layout library:

```
npm install @orderly.network/ui-scaffold
```

##### Add the Scaffold component to your application:

```tsx


<Scaffold
  mainNavProps={
    {
      // Please refer to the example code and configure as needed.
    }
  }
  footerProps={{}}
  routerAdapter={{
    onRouteChange, //Handle user click events on the navigation menu.
    currentPath: "/"
  }}
>
  {/* page component */}
  {children}
</Scaffold>;
```

For certain page components, the SDK also provides ready-made layout components. For example, you can directly import the layout for `@orderly.network/portfolio`.

##### Page Components

The SDK includes the following page components:

Trading - `@orderly.network/trading`

Portfolio - `@orderly.network/portfolio`

Referral - `@orderly.network/referral`

Markets - `@orderly.network/markets`

Trading Rewards - `@orderly.network/trading-rewards`

Affiliate - `@orderly.network/affiliate`

You can integrate these with your preferred React routing framework. Here are examples for popular frameworks:

- [Next.js](https://github.com/OrderlyNetwork/orderly-js-sdk-nextjs-template)

- [CRA](https://github.com/OrderlyNetwork/orderly-js-sdk-cra-template)

For detailed usage, refer to the [Orderly Storybook](https://storybook.orderly.network/).


### Next.js

Source: [https://orderly.network/docs/sdks/react/next](https://orderly.network/docs/sdks/react/next)

Setting up Orderly SDK in a Next.js project.


**Step: Create your project**


Start by creating a new Next.js project if you don’t have one set up already. The most common approach is to use [Create Next App](https://nextjs.org/docs/api-reference/create-next-app).

```bash
npx create-next-app@latest my-exchange --app --typescript --eslint
cd my-exchange
```


**Step: Add Orderly SDK**


```sh
npm install @orderly.network/react
```


**Step: Add new route**


Next.js has two routing modes: Page Router and App Router. Here we take App mode as an example. For more information about App Router, please refer to [Next.js documentation](https://nextjs.org/docs/app/building-your-application/routing/defining-routes).

Create a new `trade/[symbol]` directory under the `/app` directory, create a `page.tsx` file, and add the following code:

```tsx page.tsx


  return (
    <ConnectorProvider
      apiKey="<Your web3-onboard's api key>"
      options={`<options>`}
    >
      <OrderlyAppProvider
        networkId="testnet"
        brokerId="<Your broker id>"
        brokerName="<Your name>"
        appIcons={...}
      >
        
      </OrderlyAppProvider>
    </ConnectorProvider>
  );
}
```


**Step: Import style**


```tsx page.tsx


  return {
    /* ... */
  };
}
```


**Step: Done**


Now you can start your project and access the `/trade/PERP_ETH_USDC` route, you will see a complete exchange page.

```bash
npm run dev
```


### Overview

Source: [https://orderly.network/docs/sdks/react/overview](https://orderly.network/docs/sdks/react/overview)

![](/sdks/react/images/sdk-cover.webp)

The Orderly Components SDK provides a set of components needed to build a DEX UI, allowing you to quickly build a DEX on top of Orderly.

It is designed modularly and consists of various npm packages.
Based on your needs you have to install the respective packages:

| Name                                      | Description                                                |
| ----------------------------------------- | ---------------------------------------------------------- |
| `@orderly.network/ui`                     | Base UI component library.                                 |
| `@orderly.network/ui-scaffold`            | Page layout components (e.g., headers, footers, sidebars). |
| `@orderly.network/react-app`              | Providers for any React app built with Orderly components. |
| `@orderly.network/trading`                | Trading page components.                                   |
| `@orderly.network/portfolio`              | Personal portfolio dashboard components.                   |
| `@orderly.network/trading-rewards`        |                                                            |
| `@orderly.network/affiliate`              |                                                            |
| `@orderly.network/markets`                |                                                            |
| `@orderly.network/ui-connector`           |                                                            |
| `@orderly.network/ui-chain-selector`      |                                                            |
| `@orderly.network/ui-order-entry`         |                                                            |
| `@orderly.network/ui-orders`              |                                                            |
| `@orderly.network/ui-positions`           |                                                            |
| `@orderly.network/ui-tpsl`                |                                                            |
| `@orderly.network/ui-transfer`            |                                                            |
| `@orderly.network/ui-share`               |                                                            |
| `@orderly.network/ui-leverage`            |                                                            |
| `@orderly.network/wallet-connector`       |                                                            |
| `@orderly.network/default-evm-adapter`    |                                                            |
| `@orderly.network/default-solana-adapter` |                                                            |
| `@orderly.network/web3-provider-ethers`   |                                                            |

#### Storybook

You can check out our [Storybook](https://storybook.orderly.network/), which has all components included.

#### Features

- Provides feature-complete React components, allowing you to build a DEX with little to no code
- Full compatibility on different viewports
- Modular design and layered, allowing you to customize according to your needs
- i18n support
- Customizable themes

#### Architecture

![](/sdks/react/images/orderly_architecture.webp)

`@orderly.network/react` has three layers, all of which can be used individually.

- UI components: Provides basic UI components, such as buttons, input forms
- Block components: Provides DEX related components, such as symbol chooser, orderbook, trade history components
- Page: Provides fully functional pages, such as the trading page

#### Compatibility

- Compatible with all modern browsers and IE11 or above


### Theming

Source: [https://orderly.network/docs/sdks/react/theming](https://orderly.network/docs/sdks/react/theming)

The Orderly SDK has a default theme, but you can also customize the theme yourself.

#### Default theme

##### Colors

The Components SDK uses the following colors:

- Besides `base`, each color theme contains 3 colors:

  - `default`: The default shade of the color
  - `light`: A lighter shade than default
  - `darken`: A darker shade than default
  - `contrastText`: Text color, intended to contrast with default

- `base-contrast` defines color of texts. The library uses transparency to differentiate the importance of texts.

##### Typography

The Components SDK uses Manrope as the default font.

##### Rounded

| name    |   size |
| :------ | -----: |
| default |    6px |
| sm      |    4px |
| lg      |    8px |
| full    | 9999px |

#### Customized theme

##### CSS Variables

You can change the color of elements through creating a `theme.css` under the project. Simply add the following into the file, and import it for it to take effect:

```css theme.css
:root {
  /**
  It is often used for the color of main elements, such as background color
  */
  --oui-color-base-100: 93 83 123;
  --oui-color-base-200: 81 72 107;
  --oui-color-base-300: 68 61 89;
  --oui-color-base-400: 57 52 74;
  --oui-color-base-500: 51 46 66;
  --oui-color-base-600: 43 38 56;
  --oui-color-base-700: 36 32 47;
  --oui-color-base-800: 29 26 38;
  --oui-color-base-900: 22 20 28;

  /**
  primary color, used for buttons, border etc
  */
  --oui-color-primary: 182 79 255;
  --oui-color-primary-light: 208 140 255;
  --oui-color-primary-darken: 152 62 214;

  /**
  link color
  */
  --oui-color-link: 182 79 255;


  --oui-color-secondary: 255 255 255;
  --oui-color-tertiary: 218 218 218;
  --oui-color-quaternary: 218 218 218;

  /**
  error color or destructive action elements
  */
  --oui-color-danger: 232 88 175;
  --oui-color-danger-light: 255 103 191;
  --oui-color-danger-darken: 199 68 146;

  /**
  success color or constructive action elements
  */
  */
  --oui-color-success: 3 152 134;
  --oui-color-success-light: 0 181 159;
  --oui-color-success-darken: 0 119 105;

  /**
  warning color
  */
  --oui-color-warning: 255 207 115;
  --oui-color-warning-light: 229 199 0;
  --oui-color-warning-darken: 229 199 0;

  --oui-color-background: 27 32 40;
  --oui-color-background-contrast: 255 255 255;

  --oui-color-fill: 36 32 47;
  --oui-color-fill-light: 40 46 58;

  --oui-color-popover: 43 38 56;
  --oui-color-popover-foreground: 255 255 255;


  --oui-color-base-foreground: 255 255 255;

  --oui-color-trading-loss: 255 103 194;
  --oui-color-trading-loss-contrast: 40 46 58;
  --oui-color-trading-profit: 0 181 159;
  --oui-color-trading-profit-contrast: 40 46 58;

  /* rounded */
  --oui-rounded: 6px;
  --oui-rounded-sm: 4px;
  --oui-rounded-lg: 8px;
  --oui-rounded-full: 9999px;

  --oui-button-shadow: none;

  --oui-font-size-base: 16px;

  --oui-color-divider: 42 46 52;

  --oui-font-family: 'Manrope', sans-serif;
}
```

> **Warning:** CSS variables must be defined without color space function. See the [Tailwind CSS
>   documentation](https://tailwindcss.com/docs/text-color#changing-the-opacity) for more information.

❌ Don’t include the color space function or opacity modifiers won’t work

```css
/* Using modern `rgb` */
--oui-color-primary: rgb(182 79 255);
--oui-color-primary-light: rgb(208 140 255);
--oui-color-primary-darken: rgb(152 62 214);
```

✅ Define your CSS variables as channels with no color space function

```CSS
--oui-color-primary: 182 79 255;
--oui-color-primary-light: 208 140 255;
--oui-color-primary-darken: 152 62 214;
```

> **Info:** **You can use the [Theme tool](https://sdk.orderly.network/theme) that we provide to quickly
>   create your own theme!**

##### Style override

The Components SDK provides the following two ways to override the style of components:

###### class

To override the style of a certain class. For example, if we want to modify the style of a `button` component, we can achieve this by selecting the element using the `class` selector.

For instance, to change the color of the `button` component:

```css
/* 
general buttons
*/
.oui-button {
  background-color: #000;
  color: #fff;
}
/* 
primary buttons
*/
.oui-button-primary {
  background-color: #000;
  color: #fff;
}
```

If you want to change the `disabled` status of the `button` component:

```css
.oui-button-disabled {
  background-color: rgba(0, 0, 0, 0.3);
  color: #999;
}
```

###### id

If you want to modify the style of a specific component, you can use the id selector to define the component's style. For example, if you want to modify the style of the "Create Order" button:

```css
#orderly-order-entry-confirm-button {
  background-color: #000;
  color: #fff;
}
```

**Supported `id`s are as below:**

| id                                       |     module     |                      description |
| :--------------------------------------- | :------------: | -------------------------------: |
| orderly-deposit-confirm-button           |    deposit     |           Deposit confirm button |
| orderly-withdraw-confirm-button          |    withdraw    |          Withdraw confirm button |
| orderly-assets-margin-deposit-button     |     assets     |                   Deposit button |
| orderly-assets-margin-withdraw-button    |     assets     |                  Withdraw button |
| orderly-order-entry-confirm-button       |     order      |     Order entry - confirm button |
| orderly-position-cell-limit-close-button |   positions    |    Position - limit close button |
| orderly-position-cell-mark-close-button  |   positions    |   Position - market close button |
| orderly-pending-cell-edit-button         | pending orders |        Edit pending order button |
| orderly-pending-cell-cancel-button       | pending orders |      Cancel pending order button |
| orderly-bottom-nav-bar-connect-button    | bottom-nav-bar | bottom bar connect wallet button |

#### appIcons

![](/sdks/react/images/replace-logo.webp)

You can add your logo to the indicated position in the diagram above using the following method:

```tsx


  return (
    <OrderlyAppProvider
      networkId="testnet"
      brokerId="<Your broker id>"
      appIcons={{
        main: {
          img: "<main logo src>"
        },
        secondary: {
          img: "<secondary log src>"
        }
      }}
    >
      {/* Page Component */}
    </OrderlyAppProvider>
  );
}
```

##### main

The logo for the desktop version, it will be displayed in the top left corner of the page.

###### img

- Type: `string`
- Required: false

###### component

- Type: `ReactNode`
- Required: false

###### className

- Type: `string`
- Required: false

##### secondary

The logo for the mobile web version, it will be displayed in the top right corner of the page and in the top left corner of the bottomSheet component.

###### img

- Type: `string`
- Required: false

###### component

- Type: `ReactNode`
- Required: false

###### className

- Type: `string`
- Required: false


### Wallet connect

Source: [https://orderly.network/docs/sdks/react/wallet](https://orderly.network/docs/sdks/react/wallet)

`@orderly.network/react-app` is an application layer of the Orderly API. It is mainly responsible for rendering the UI, handling user interaction events, and completing trading actions. Therefore, it does not include built-in wallet connection functionality.

In places where wallet connection needs to be handled, `@orderly.network/react-app` utilizes React's context mechanism to obtain information about the currently connected wallet or call wallet connection functions provided by the context. To facilitate this, `@orderly.network/react-app` defines a context named `WalletConnectorContext`. Any component that implements the `WalletConnectorContext.Provider` defined in `WalletConnectorContextState` can serve as the wallet connection component for the app. Please refer to [this link](#custom-wallet-connection-provider) for more details.

#### Using the wallet connection component provided by Orderly

Orderly SDK provides a built-in wallet connection component supporting both EVM and Solana. Here’s how to integrate it:

##### Install Wallet Connector Dependencies

```bash
npm install @orderly.network/wallet-connector
```

##### Add the WalletConnectorProvider Component

Wrap your application with the `WalletConnectorProvider` for wallet connection functionality:

```tsx


const App: FC<{ children: ReactNode }> = (props) => {
  return (
    <WalletConnectorProvider solanaInitial={{network : WalletAdapterNetwork.Mainnet}}>
      <OrderlyAppProvider brokerId="orderly" brokerName="Orderly" networkId="testnet" appIcons={""}>
        {props.children}
      </OrderlyAppProvider>
    </WalletConnectorProvider>
  );
};
```

---

#### Wallet Connector Privy

The Privy wallet connector consists of three parts:

- **Privy**: Provides social login, featuring an injected wallet, EVM wallets, and Solana wallets.
- **Wagmi**: Offers connectivity for EVM wallets, such as MetaMask and WalletConnect.
- **Solana**: Provides connectivity for Solana wallets, such as Phantom and Ledger.

##### Configuration options

- `network` (**required**) – e.g., `mainnet` or `testnet`. This determines the network used by wallets like Solana and Abstract.
- `customChains` (**optional**) – Brokers can define which chains to display.
- `termsOfUse` (**optional**) – URL for Terms of Use; if not provided, terms section won't be shown.

```ts
interface WalletConnectorPrivyProps{
  network: Network;
  customChains?: Chains;
  termsOfUse?: string;
  privyConfig?: InitPrivy;
  wagmiConfig?: InitWagmi;
  solanaConfig?: InitSolana;
}
```

- If `privyConfig` is not configured, the Privy connector will be disabled.
- If `wagmiConfig` is not configured, the Wagmi connector will be disabled.
- If `solanaConfig` is not configured, the Solana connector will be disabled.
- If `abstractConfig` is not configured, the Abstract Global Wallet connector will be disabled.
- At least one of `privyConfig`, `wagmiConfig`, or `solanaConfig` must be provided.

##### Behavior based on `customChains`:

- If only Solana chains are included, Privy will show only the Solana injected wallet and disable the Wagmi connector.
- If only EVM chains are included, Privy will show only the EVM injected wallet and disable the Solana connector.

##### Example

```tsx


<WalletConnectorPrivyProvider
  termsOfUse="https://learn.woo.org/legal/terms-of-use"
  network={Network.testnet}
  privyConfig={{
    appid: "your privy appid",
    config: {
      appearance: {
        theme: "dark",
        accentColor: "#181C23",
        logo: "/orderly-logo.svg",
      },
    },
  }}
  wagmiConfig={{
    connectors: [
      wagmiConnectors.injected(),
      wagmiConnectors.walletConnect({
        projectId: "your project id",
        showQrModal: true,
        storageOptions: {},
        metadata: {
          name: "Orderly Network",
          description: "Orderly Network",
          url: "https://orderly.network",
          icons: ["https://oss.orderly.network/static/sdk/chains.png"],
        },
      }),
    ],
  }}
  solanaConfig={{
    mainnetRpc: "",
    devnetRpc: "https://api.devnet.solana.com",
    wallets: wallets,
    onError: (error: WalletError, adapter?: Adapter) => {
      console.log("-- error", error, adapter);
    },
  }}
  abstractConfig={{}}
>
  <OrderlyAppProvider>
    {props.children}
  </OrderlyAppProvider>
</WalletConnectorPrivyProvider>
```

---

#### Custom wallet connection provider

You can also customize wallet connections by implementing all the properties defined in `WalletConnectorContextState`. Define the component in the following format:

```tsx


  return (
    <WalletConnectorContext.Provider
      value={{
        /*
         * implement all properties defined in WalletConnectorContextState
         */
      }}
    >
      {children}
    </WalletConnectorContext.Provider>
  );
};
```

After defining the component, you also need to add this component to the parent of [`OrderlyAppProvider`](/sdks/react/configuration#orderlyappprovider).

##### Interface & Context

```ts

  id: string;
};


  connect: () => Promise<any[]>;
  disconnect: (options: any) => Promise<any[]>;
  connecting: boolean;
  setChain: (options: any) => Promise<any>;
  chains: any[];
  switchChain: (options: { chainId: string }) => Promise<any>;
  wallet: any;
  connectedChain: ConnectedChain | null;
  settingChain: boolean;
}


  {} as WalletConnectorContextState
);


  return useContext(WalletConnectorContext);
};
```

##### Implementation

The following example demonstrates a wallet connection component implemented using `web3modal`. You can use this example as a reference to implement your own wallet connection component.

```tsx


// 1. Get projectId at https://cloud.reown.com/
const projectId = "YOUR_PROJECT_ID";

// 2. Create wagmiConfig
const metadata = {
  name: "Web3Modal",
  description: "Web3Modal Example",
  url: "https://web3modal.com",
  icons: ["https://avatars.githubusercontent.com/u/37784886"]
};

const chains = [mainnet, arbitrum];


// 3. Create modal
createWeb3Modal({ wagmiConfig, projectId });


  const [wallet, setWallet] = useState<WalletState>({
    chains: chains.map((chain) => ({
      namespace: ChainNamespace.evm,
      id: chain.id
    })),
    accounts: [],
    icon: "",
    label: "",
    provider: null
  });

  const { open } = useWeb3Modal();
  const { address, isConnecting, chain, connector, status } = useWagmiAccount();

  useEffect(() => {
    const run = async () => {
      if (!connector) return;
      setWallet({
        ...wallet,
        accounts: await connector.getAccounts().then((addresses) =>
          addresses.map((addr) => ({
            address: addr
          }))
        ),
        provider: await connector.getProvider(),
        label: (await connector.getClient?.().then((client) => client.name)) ?? ""
      });
    };
    run();
  }, [address, wallet, setWallet, connector]);

  return (
    <WalletConnectorContext.Provider
      value={{
        connect: () => {
          return open().then(() => []);
        },
        disconnect: async () => {
          connector?.disconnect();
          return [];
        },
        setChain: async ({ chainId }) => {
          return connector?.switchChain?.({ chainId: Number(chainId) });
        },
        chains,
        connectedChain: chain ? { id: chain.id, namespace: ChainNamespace.evm } : null,
        namespace: ChainNamespace.evm,
        connecting: isConnecting,
        settingChain: status === "reconnecting",
        wallet
      }}
    >
      {children}
    </WalletConnectorContext.Provider>
  );
};
```


### Deposit

Source: [https://orderly.network/docs/sdks/react/components/deposit](https://orderly.network/docs/sdks/react/components/deposit)

Block component allowing users to deposit.

#### Features

- The component is already integrated with `@orderly.network/hooks` and can be used without any configuration.
- The component handles checks on the user's status, as well as connection to the wallet.
- The component must be used within the `ConnectionProvider` component within `OrderlyAppProvider`.

#### Usage

##### Static mode

You can display the `Deposit` component directly in your project:

```tsx


  return ;
};
```

##### Modal mode

You can also choose to displays the `deposit` component through a modal:

```tsx


const { dialog } = modal;


  return (
    <Button
      onClick={() => {
        dialog({
          title: "Deposit",
          content: 
        });
      }}
    >
      Open deposit dialog
    </Button>
  );
};
```

#### APIs

##### onOk

- Type: `(data: any) => void`
- Required: false

Callback function after the deposit is complete, providing the status of the deposit transaction.

##### onCancel

- Type: `() => void`
- Required: false

Callback function after the deposit has been canceled.


### Order Book

Source: [https://orderly.network/docs/sdks/react/components/order_book](https://orderly.network/docs/sdks/react/components/order_book)

```ts

```

This component is responsible for displaying the order book for a given symbol.

#### Features

The OrderBook component is commonly used in conjuction with the [`useOrderBookStream`](/sdks/hooks/market-data/use-orderbook-stream) hook and offers the following features:

- Display of asks/bids/middlePrice/lastPrice data.
- Support for depth merging.
- Automatic adaptation to changes in height.

#### Usage

```tsx


  const [symbol, setSymbol] = useState("PERP_ETH_USDC");
  const config = useSymbolsInfo();
  const symbolInfo = config ? config[symbol] : {};

  const [data, { onDepthChange, isLoading, onItemClick, depth, allDepths }] = useOrderbookStream(
    symbol,
    undefined,
    {
      level: 7
    }
  );

  return (
    
      
    
  );
};
```

#### APIs

##### level

- Type: `number`
- Required: false

Specifies the number of levels of data to be displayed.

##### cellHeight

- Type: `number`
- Required: false

The height of each row, used to calculate the displayed number of rows.

##### base

- Type: `API.SymbolExt`
- Required: true

Base symbol information, can be obtained through the [`useSymbolsInfo`](/sdks/hooks/market-data/use-symbols-info) hook.

##### quote

- Type: `API.SymbolExt`
- Required: true

Quote symbol information, can be obtained through the [`useSymbolsInfo`](/sdks/hooks/market-data/use-symbols-info) hook.

```tsx


  const config = useSymbolsInfo();
  const symbol = 'PERP_ETH_USDC'
  const symbolInfo = config ? config[symbol] : {};
  return (
    
  )
```

##### onItemClick

- Type: `(item: OrderBookItem) => void`
- Required: false

Triggered when a user clicks on a row, returning the data of the clicked row. Through this method, you can implement the functionality to populate the order entry form with the data from the clicked row.

> **Info:** The following parameters/functions are recommended to be obtained through the
>   [`useOrderEntry`](/sdks/hooks/orders/use-order-entry) hook.

```tsx


  //... others code
  const [data, { onDepthChange, isLoading, depth, allDepths }] = useOrderbookStream(
    symbol,
    undefined,
    {
      level: 7
    }
  );

  return (
    
  );
};
```

##### asks

- Type: `OrderBookItem[]`
- Required: true

##### bids

- Type: `OrderBookItem[]`
- Required: true

##### markPrice

- Type: `number`
- Required: true

##### lastPrice

- Type: `number`
- Required: true

##### depth

- Type: `number`
- Required: true

The current depth supported by the trading pair

##### activeDepth

- Type: `number`
- Required: true

The current depth selected by the user

##### isLoading

- Type: `boolean`
- Required: true

Indicates whether data is currently being loaded

##### onDepthChange

- Type: `(depth: number) => void`
- Required: false

Triggered when a user selects an item in the depth list, the parameter is the depth selected by the user.


### Portfolio

Source: [https://orderly.network/docs/sdks/react/components/portfolio](https://orderly.network/docs/sdks/react/components/portfolio)

If you are using the layout components from @orderly.network/portfolio directly and are an existing user, when you want to use mobile pages, we have added HistoryPage and SettingPage. You can add the corresponding routes to fully utilize the mobile functionality.

#### Component Import Paths

##### HistoryPage Component
```typescript


// Available components
const { HistoryPage, HistoryWidget } = HistoryModule;
```

##### SettingPage Component
```typescript


// Available components
const { SettingPage, SettingWidget } = SettingModule;
```

#### Route Path Configuration

Based on the `PortfolioLeftSidebarPath` enum definition, the standard route paths for mobile pages are:

```typescript
// History page path
const HISTORY_PATH = "/portfolio/history";

// Settings page path
const SETTING_PATH = "/portfolio/setting";
```

#### Complete Route Configuration Examples

##### React Router Configuration Example
```typescript


const { HistoryPage } = HistoryModule;
const { SettingPage } = SettingModule;

function App() {
  return (
    <Routes>
      {/* Other routes */}
      } />
      } />
      } />
      
      {/* New mobile page routes */}
      } />
      } />
    </Routes>
  );
}
```

##### Next.js App Router Configuration Example
```typescript
// app/portfolio/history/page.tsx


const { HistoryPage } = HistoryModule;


  return ;
}
```

```typescript
// app/portfolio/setting/page.tsx


const { SettingPage } = SettingModule;


  return ;
}
```

##### Next.js Pages Router Configuration Example
```typescript
// pages/portfolio/history.tsx


const { HistoryPage } = HistoryModule;


```

```typescript
// pages/portfolio/setting.tsx


const { SettingPage } = SettingModule;


```

#### Mobile Navigation Configuration

If you are using Portfolio's layout components, mobile navigation will automatically handle these routes. Ensure your `routerAdapter` is properly configured:

```typescript


const routerAdapter = {
  onRouteChange: ({ href, name }) => {
    // Handle route navigation logic
    router.push(href);
  },
  currentPath: router.pathname, // Current path
};

function PortfolioLayout({ children }) {
  return (
    <PortfolioLayoutWidget
      routerAdapter={routerAdapter}
      current={router.pathname}
    >
      {children}
    </PortfolioLayoutWidget>
  );
}
```

#### Feature Description

##### HistoryPage
- **Function**: Display user's trading history records
- **Includes**: Deposit/withdrawal history, funding fee history, distribution history
- **Mobile Optimization**: Automatically adapts to mobile interface, provides touch-friendly interactive experience

##### SettingPage  
- **Function**: User settings page
- **Includes**: Account settings, preference settings, etc.
- **Mobile Optimization**: Responsive design, supports mobile operations

#### Important Notes

1. **Path Consistency**: Ensure route paths are consistent with `PortfolioLeftSidebarPath` enum values
2. **Mobile Detection**: Components automatically detect mobile environment and render corresponding UI
3. **Dependency Requirements**: Ensure all necessary dependency packages are installed, including `@orderly.network/ui`, `@orderly.network/i18n`, etc.
4. **RouterAdapter**: Ensure proper implementation of `routerAdapter` interface to support page navigation functionality


### Scaffold

Source: [https://orderly.network/docs/sdks/react/components/scaffold](https://orderly.network/docs/sdks/react/components/scaffold)

#### Overview

Scaffold is a powerful layout component that provides a complete application scaffolding structure, including top navigation bar, sidebar, main content area, bottom navigation, and footer. This component supports responsive layouts for both desktop and mobile devices and offers rich customization options.

#### Installation and Import

```typescript

```

#### Basic Usage

```typescript


const App = () => {
  return (
    <Scaffold>
      Your main content here
    </Scaffold>
  );
};
```

#### ScaffoldProps Properties Detailed

##### 1. leftSidebar (Optional)
- **Type**: `React.ReactNode`
- **Description**: Custom left sidebar component. If provided, the layout will use this component instead of the default sidebar component
- **Use Case**: When you need to completely customize the sidebar style and functionality

```typescript
}
>
  {children}
</Scaffold>
```

##### 2. leftSideProps (Optional)
- **Type**: `SideBarProps`
- **Description**: Configuration properties for the default sidebar component
- **Main Properties**:
  - `title`: Sidebar title
  - `items`: Array of menu items
  - `open`: Whether the sidebar is expanded
  - `onOpenChange`: Callback for expansion state changes
  - `onItemSelect`: Callback for menu item selection
  - `current`: Currently selected menu item
  - `maxWidth`: Maximum width when expanded (default: 185px)
  - `minWidth`: Minimum width when collapsed (default: 98px)

```typescript
const sidebarMenus = [
  { name: "Dashboard", href: "/dashboard", icon:  },
  { name: "Trading", href: "/trading", icon:  },
  { name: "Portfolio", href: "/portfolio", icon:  }
];

<Scaffold
  leftSideProps={{
    title: "Navigation",
    items: sidebarMenus,
    current: "/dashboard",
    onItemSelect: (item) => console.log('Selected:', item),
    maxWidth: 200,
    minWidth: 80
  }}
>
  {children}
</Scaffold>
```

##### 3. topBar (Optional)
- **Type**: `React.ReactNode`
- **Description**: Custom top navigation bar component
- **Use Case**: When you need to completely customize the top navigation bar

```typescript
}
>
  {children}
</Scaffold>
```

##### 4. mainNavProps (Optional)
- **Type**: `MainNavWidgetProps`
- **Description**: Configuration properties for the default main navigation component
- **Main Properties**:
  - `leading`: Content on the left side of the navigation bar
  - `trailing`: Content on the right side of the navigation bar
  - `logo`: Brand logo configuration
  - `mainMenus`: Array of main menu items
  - `campaigns`: Campaign menu item
  - `campaignPosition`: Campaign menu position
  - `initialProduct`: Initial product
  - `initialMenu`: Initial menu path
  - `onItemClick`: Menu item click callback

```typescript
,
    trailing: ,
    onItemClick: ({ href, name }) => {
      console.log(`Navigating to ${href}`);
    }
  }}
>
  {children}
</Scaffold>
```

##### 5. bottomNavProps (Optional)
- **Type**: `BottomNavProps`
- **Description**: Mobile bottom navigation configuration (only displayed on mobile devices)
- **Main Properties**:
  - `mainMenus`: Array of bottom menu items

```typescript
const bottomMenus = [
  {
    name: "Home",
    href: "/home",
    activeIcon: ,
    inactiveIcon: 
  },
  {
    name: "Trade",
    href: "/trade",
    activeIcon: ,
    inactiveIcon: 
  }
];

<Scaffold
  bottomNavProps={{
    mainMenus: bottomMenus,
  }}
>
  {children}
</Scaffold>
```

##### 6. footer (Optional)
- **Type**: `React.ReactNode`
- **Description**: Custom footer component

```typescript
}
>
  {children}
</Scaffold>
```

##### 7. footerProps (Optional)
- **Type**: `FooterProps`
- **Description**: Configuration properties for the default footer component
- **Main Properties**:
  - `telegramUrl`: Telegram link
  - `twitterUrl`: Twitter link
  - `discordUrl`: Discord link
  - `trailing`: Content on the right side of the footer

```typescript

  }}
>
  {children}
</Scaffold>
```

##### 8. routerAdapter (Optional)
- **Type**: `RouterAdapter`
- **Description**: Router adapter for integrating with different routing libraries
- **Main Properties**:
  - `onRouteChange`: Route change handler function
  - `currentPath`: Current path

```typescript
// React Router integration example
const routerAdapter = {
  onRouteChange: (option) => {
    if (option.target === '_blank') {
      window.open(option.href, '_blank');
    } else {
      navigate(option.href);
    }
  },
  currentPath: location.pathname
};

<Scaffold
  routerAdapter={routerAdapter}
>
  {children}
</Scaffold>
```

##### 9. classNames (Optional)
- **Type**: Style class name configuration object
- **Description**: Used to customize styles for various layout areas
- **Configurable Areas**:
  - `root`: Root container (topNavbar + container + footer)
  - `container`: Main container
  - `content`: Content area
  - `body`: Body area (leftSidebar + content)
  - `leftSidebar`: Left sidebar
  - `topNavbar`: Top navigation bar
  - `footer`: Footer

```typescript
<Scaffold
  classNames={{
    root: "custom-root-class",
    container: "custom-container-class",
    content: "custom-content-class",
    body: "custom-body-class",
    leftSidebar: "custom-sidebar-class",
    topNavbar: "custom-navbar-class",
    footer: "custom-footer-class"
  }}
>
  {children}
</Scaffold>
```

#### Complete Usage Example

```typescript


const App = () => {
  const navigate = useNavigate();
  const location = useLocation();

  const sidebarMenus = [
    {
      name: "Dashboard",
      href: "/dashboard",
      icon: 
    },
    {
      name: "Trading",
      href: "/trading",
      icon: 
    },
    {
      name: "Portfolio",
      href: "/portfolio",
      icon: 
    }
  ];

  const bottomMenus = [
    {
      name: "Home",
      href: "/home",
      activeIcon: ,
      inactiveIcon: 
    },
    {
      name: "Trade",
      href: "/trade",
      activeIcon: ,
      inactiveIcon: 
    }
  ];

  const routerAdapter = {
    onRouteChange: (option) => {
      if (option.target === '_blank') {
        window.open(option.href, '_blank');
      } else {
        navigate(option.href);
      }
    },
    currentPath: location.pathname
  };

  return (
    <Scaffold
      leftSideProps={{
        title: "Navigation",
        items: sidebarMenus,
        current: location.pathname,
        onItemSelect: (item) => {
          if (item.href) {
            navigate(item.href);
          }
        }
      }}
      mainNavProps={{
        logo: {
          src: "/logo.png",
          alt: "Company Logo"
        },
        mainMenus: [
          { name: "Trade", href: "/trade" },
          { name: "Portfolio", href: "/portfolio" }
        ],
        leading: ,
        trailing: ,
        onItemClick: ({ href }) => navigate(href)
      }}
      bottomNavProps={{
        mainMenus: bottomMenus,
      }}
      footerProps={{
        telegramUrl: "https://t.me/yourgroup",
        twitterUrl: "https://twitter.com/yourhandle",
        discordUrl: "https://discord.gg/yourserver"
      }}
      routerAdapter={routerAdapter}
      classNames={{
        content: "p-4",
        leftSidebar: "border-r border-gray-200"
      }}
    >
      
        {/* Your main application content */}
        <h1>Welcome to your application</h1>
        <p>This is the main content area.
      
    </Scaffold>
  );
};


```

#### Responsive Behavior

The Scaffold component automatically detects device type and provides appropriate layouts:

- **Desktop**: Displays complete sidebar, top navigation bar, and footer
- **Mobile**: Hides sidebar, displays bottom navigation bar, optimized for touch interaction

#### Best Practices

1. **Router Integration**: Always provide `routerAdapter` to ensure navigation functionality works properly
2. **Responsive Design**: Provide `bottomNavProps` configuration for mobile devices
3. **Style Customization**: Use the `classNames` property for style customization instead of directly modifying component styles
4. **Menu State Management**: Ensure the `current` property is synchronized with actual route state
5. **Performance Optimization**: For large menu lists, consider using React.memo to optimize rendering performance

#### Important Notes

- The Scaffold component must be wrapped in `ScaffoldProvider` to work properly (automatically handled internally)
- Sidebar expand/collapse state is automatically saved to localStorage
- Mobile and desktop use different layout components to ensure good user experience on different devices
- All navigation callbacks should properly handle route navigation logic

#### Related Components

- `ScaffoldProvider`: Provides Scaffold context
- `useScaffoldContext`: Hook to get Scaffold state
- `MobileScaffold`: Mobile layout component
- `DesktopScaffold`: Desktop layout component


### TradingPage

Source: [https://orderly.network/docs/sdks/react/components/trading](https://orderly.network/docs/sdks/react/components/trading)

![](/sdks/react/images/trading-page.webp)

`TradingPage` is an App page containing full trading functionalities, and includes the following components:

- Orderbook
- K-line chart
- Order form, list and management
- Position list and management
- Asset management, deposit and withdrawals
- Responsive, automatically adapting to both desktop and mobile

> **Info:** For more features, please visit the [demo page](https://demo.orderly.network/). The demo page is
>   open source and the source code can be found
>   [here](https://github.com/OrderlyNetwork/js-sdk-demo).

#### Preview

<iframe
  class="preview"
  src="https://storybook.orderly.network/iframe.html?globals=theme%3Acustom&id=package-trading-tradingpage--page&viewMode=story"
  title="Trading Page"
  frameborder="0"
  allowfullscreen
></iframe>

#### Usage

##### Dependencies

The following components must be used when using `TradingPage`:

- `OrderlyAppProvider`- for global settings, state managements, `Account` instance etc.
- Wallet connection components - for connecting and managing wallet connections. You can use your own wallet connection components, or use the `ConnectorProvider` compoenent within `@orderly.network/web3-onboard`. For more details, please see [this page](/sdks/react/wallet).

```tsx


  return (
   {/* A component that provides wallet connectivity,
   but you can also use any wallet connection component that you customize
   */}
    <ConnectorProvider
      apiKey="<Your web3-onboard's api key>"
      options={`metadata`}
    >
      <OrderlyAppProvider
        networkId="testnet"
        brokerId="<Your broker id>"
        logoUrl="<Your brand logo url>"
      >
        
      </OrderlyAppProvider>
    </ConnectorProvider>
  );
}
```

##### Setting active symbol

- Set the active symbol through the `symbol` property
- Monitor user's action to change active symbol through the `onSymbolChange` event. This is an optional property, but user will not be able to change the active symbol if this is not set. Please see the [API](#onsymbolchange) for more details.

```tsx


  return (
    
  );
}
```

#### APIs

##### symbol

- Type: `string`
- Required: true

Sets the active symbol, e.g. `PERP_ETH_USDC`.

##### onSymbolChange

- Type: `(symbol: API.Symbol) => void`
- Required: false

This event will be triggered when user selects a new active symbol. The parameter will be the new symbol chosen.

```tsx


  const [symbol, setSymbol] = useState("PERP_ETH_USDC");
  return (
    <TradingPage
      symbol={symbol}
      tradingViewConfig={`tradingView config`}
      onSymbolChange={(symbol) => {
        setSymbol(symbol.symbol);
      }}
    />
  );
}
```

##### tradingViewConfig

- Type: `TradingViewConfig`
- Required: false

TradingView charting config. Since `@orderly.network/react` does not include the `tradingView` library, you would have to configure the path for the `tradingView` Advanced Charts js library. After that, the `@orderly.network/react` package will use the configured library to load the `tradingView` scripts and create a k-line chart.

- TradingView Advanced Charts is free to use, but you need to manually apply for the license [here](https://www.tradingview.com/advanced-charts/).

- Once you obtained access to TradingView Advanced Charts, you can configure it as below:

```tsx


  return (
    
  );
}
```

> **Warning:** If this is not configured, then the k-line chart will not be displayed.


### Withdraw

Source: [https://orderly.network/docs/sdks/react/components/withdraw](https://orderly.network/docs/sdks/react/components/withdraw)

Block component allowing users to withdraw.

#### Features

- The component is already integrated with `@orderly.network/hooks` and can be used without any configuration.
- The component handles checks on the user's status, as well as connection to the wallet.
- The component must be used within the `ConnectionProvider` component within `OrderlyAppProvider`.

#### Usage

##### Static mode

You can display the `Withdraw` component directly in your project:

```tsx


  return ;
};
```

##### Modal mode

You can also choose to displays the `withdraw` component through a modal:

```tsx


const { dialog } = modal;


  return (
    <Button
      onClick={() => {
        dialog({
          title: "Withdraw",
          content: 
        });
      }}
    >
      Open deposit dialog
    </Button>
  );
};
```

#### AssetsProvider

#### APIs

##### onOk

- Type: `(data: any) => void`
- Required: false

Callback function after the withdrawal is complete, providing the status of the withdrawal request.

##### onCancel

- Type: `() => void`
- Required: false

Callback function after the withdrawal has been canceled.


## React Hooks SDK

### Overview

Source: [https://orderly.network/docs/sdks/hooks/overview](https://orderly.network/docs/sdks/hooks/overview)

`@orderly.network/hooks`

The hooks libraries provides a series of React hooks for React developers to ensure a seamless integration experience. This library is a package built on top of `@orderly.network/core` and `@orderly.network/perp`.

#### Coding standards

- If the hook returns an array, then the first element will be the actual data, and the second element will be an object containing some supporting functions.
- All hooks ending with `stream` will update in real-time, via relevant Websocket subscriptions.
- All hooks ending with `subscription` subscribe to relevant Websocket API and allow to pass in a function.
- All hooks ending with `query` is a wrapper of an API request.

#### List of hooks

##### REST & WS API

The REST API hooks can be used to facilitate interacting with Orderly REST & Websocket APIs.

- [useQuery](/sdks/hooks/api/use-query) - `GET` Public API
- [usePrivateQuery](/sdks/hooks/api/use-private-query) - `GET` Private API
- [usePrivateInfiniteQuery](/sdks/hooks/api/use-private-infinite-query) - A version of `usePrivateQuery` that supports infinite scrolling
- [useLazyQuery](/sdks/hooks/api/use-lazy-query)
- [useMutation](/sdks/hooks/api/use-mutation) - `POST` APIs
- [useWS](/sdks/hooks/api/use-ws) - WebSocket client
- [useWsStatus](/sdks/hooks/api/use-ws-status) - WebSocket client status
- `useSWR` - Reexport from [this npm package](https://www.npmjs.com/package/swr)

##### Utility

These utility hooks provide ways to help handle UI states and some state management logic.

- [useConfig](/sdks/hooks/util/use-config) - An instance of the `ConfigStore`
- [useEventEmitter](/sdks/hooks/util/use-event-emitter) - An instance of the `EventEmitter`
- [useLocalStorage](/sdks/hooks/util/use-local-storage) - Management (CRUD) of localStorage
- [useSessionStorage](/sdks/hooks/util/use-session-storage) - Management (CRUD) of sessionStorage
- [useMediaQuery](/sdks/hooks/util/use-media-query) - Evaluates a media query to a boolean
- `useConstant` - Reexport from [this npm package](https://www.npmjs.com/package/use-constant)
- `useDebounce` - Reexport from [this npm package](https://www.npmjs.com/package/use-debounce)

##### Account

- [useAccount](/sdks/hooks/account/use-account): Retrieves the current account info and status. With this hook you can also create an account and create an `orderlyKey`
- [useAccountInfo](/sdks/hooks/account/use-account-info) - Fetches account information
- [useAccountInstance](/sdks/hooks/account/use-account-instance) - Returns `Account` singleton
- [useWalletConnector](/sdks/hooks/account/use-wallet-connector) - Handles wallet connection
- [useWalletSubscription](/sdks/hooks/account/use-wallet-subscription) - Subscribe to wallet transactionsvia WebSocket
- [useLeverage](/sdks/hooks/account/use-leverage) - Retrieves the current account leverage
- [useMarginRatio](/sdks/hooks/account/use-margin-ratio) - Margin information
- [useSettleSubscription](/sdks/hooks/account/use-settle-subscription) - Subscribe to PnL settlement via WebSocket
- [useDaily](/sdks/hooks/account/use-daily) - Retrieving daily user volume

##### Assets

- [useCollateral](/sdks/hooks/assets/use-collateral) - retrieves information about a user's collateral
- [useMaxQty](/sdks/hooks/assets/use-max-qty) - retrieves the maximum quantity a user can place based on the symbol, side, leverage etc.
- [useChain](/sdks/hooks/assets/use-chain) - Chain information
- [useChains](/sdks/hooks/assets/use-chains) - Retrieves the list of supported chains
- [useDeposit](/sdks/hooks/assets/use-deposit) - retrieves a Withdraw tokens from Orderly smart contract balance helper
- [useHoldingStream](/sdks/hooks/assets/use-holding-stream) - Retrieves user's assets

##### Markets

- [useOrderbookStream](/sdks/hooks/market-data/use-orderbook-stream) - Orderbook stream
- [useIndexPrice](/sdks/hooks/market-data/use-index-price) - Get the index price of a single symbol
- [useMarkPrice](/sdks/hooks/market-data/use-mark-price) - Get the mark price of a single symbol
- [useMarkPricesStream](/sdks/hooks/market-data/use-mark-prices-stream) - Get the mark price of all symbols
- [useMarketTradeStream](/sdks/hooks/market-data/use-market-trade-stream) - Get the market trades history of a symbol
- [useMarkets](/sdks/hooks/market-data/use-markets) - Retrieve all listed symbols and its market data
- [useMarketsStream](/sdks/hooks/market-data/use-markets-stream) - Retrieve all listed symbols and its market data
- [useTickerStream](/sdks/hooks/market-data/use-ticker-stream) - Get the symbol market data stream
- [useSymbolsInfo](/sdks/hooks/market-data/use-symbols-info) - Get the symbol market data stream
- [useSymbolPriceRange](/sdks/hooks/market-data/use-symbol-price-range) - Get the price range for the specified symbol with an optional price

##### Orders

- [useOrderEntry](/sdks/hooks/orders/use-order-entry) - Order placement
- [useOrderStream](/sdks/hooks/orders/use-order-stream) - Retrieving, editing and cancelling orders

##### Positions

- [usePositionStream](/sdks/hooks/positions/use-position-stream) - Position management
- [usePoster](/sdks/hooks/positions/use-poster) - Generates a poster image based on position information

##### Funding

- [useFundingRate](/sdks/hooks/funding/use-funding-rate) - Funding rate information

##### Referral

- [useCheckReferralCode](/sdks/hooks/referral/use-check-referral-code) - Check if referral code exists
- [useGetReferralCode](/sdks/hooks/referral/use-get-referral-code) - Obtain referral code via `account_id`
- [useDaily](/sdks/hooks/referral/use-daily) - Returns `perp_volume` based on start and end time
- [useRefereeInfo](/sdks/hooks/referral/use-referee-info) - Retrieve referee info
- [useRefereeRebateSummary](/sdks/hooks/referral/use-referee-rebate-summary) - Provide statistics on referee rebates per date
- [useReferralInfo](/sdks/hooks/referral/use-referral-info) - Retrieve referral info
- [useReferralRebateSummary](/sdks/hooks/referral/use-referral-rebate-summary) - Provide statistics on referral rebates per date


### Setup

Source: [https://orderly.network/docs/sdks/hooks/setup](https://orderly.network/docs/sdks/hooks/setup)

You can use `@orderly.network/hooks` in two simple steps!


  **Step: Installation**

Inside your React project directory, run the following to install the SDK. You will also very likely need our Types SDK:

```sh
npm install @orderly.network/types @orderly.network/hooks
```

  

  **Step: Add OrderlyConfigProvider**

Add the `OrderlyConfigProvider` component to your project, wrapping the root components.

    
      **Default:**


We recommend that you use the default config in the newly created project, and provide your own `brokerId` (Please [get in touch](mailto:product@orderly.network) with the Orderly team to get your own unique `brokerId`)

```tsx


const brokerId = "<your id>";


  return (
    <OrderlyConfigProvider brokerId={brokerId} networkId="mainnet">
      {children}
    </OrderlyConfigProvider>
  );
};
```

      

      **Custom:**


If you are using an existing project and have already implemented the Orderly Key creation process, or have to modify the creation process for your own use cases, you can use your own `configStore` or `keyStore` via their respective property within `OrderlyConfigProvider`.

```tsx


const myConfigStore: ConfigStore = new <Your ConfigStore class>;
const myKeyStore: OrderlyKeyStore = new <Your OrderlyKeyStore class>;


const brokerId = "<your id>";
return (
  <OrderlyConfigProvider configStore={myConfigStore} keyStore={myKeyStore} networkId="mainnet">
    
  </OrderlyProvider>
  );
};
```

The respective interfaces the need to be implemented are:

- [ConfigStore](/sdks/tech-doc/interfaces/orderly_network_core.ConfigStore)
- [OrderlyKeyStore](/sdks/tech-doc/interfaces/orderly_network_core.OrderlyKeyStore)


    

  

  **Step: Setup complete!**


You can now use all the provided hooks within `@orderly.network/hooks`!

```tsx


  const { account, state } = useAccount();

  return (
    
      Address: {state.address}
    
  );
};
```

  


#### Environments

The `networkId` property within `OrderlyConfigProvider` can be set to `mainnet` or `testnet`. The default is `mainnet`. It is not possible to change the network during runtime. If you want to do so anyway, you need to reload the page.

```tsx


const brokerId = "<your id>";


  return (
    <OrderlyConfigProvider brokerId={brokerId} networkId="testnet">
      {children}
    </OrderlyConfigProvider>
  );
};
```

#### Wallet Integration with Orderly Provider

The Orderly Provider enables seamless integration with different blockchain wallets.
It supports both EVM-compatible chains and Solana through dedicated wallet adapters.
Here's how to set up the provider with both ecosystems:

```tsx


const brokerId = "<your id>";


  return (
    <OrderlyConfigProvider
      brokerId={brokerId}
      networkId="testnet"
      walletAdapters={[
        new DefaultEVMWalletAdapter(new EthersProvider()),
        new DefaultSolanaWalletAdapter()
      ]}
    >
      {children}
    </OrderlyConfigProvider>
  );
};
```


### Overview

Source: [https://orderly.network/docs/sdks/hooks/referral/referral](https://orderly.network/docs/sdks/hooks/referral/referral)

`@orderly.network/hooks` provides the following hooks related to referral management.

More information about Orderly referral system can be found [here](/build-on-omnichain/user-flows/referral-system).

- [useCheckReferralCode](/sdks/hooks/referral/use-check-referral-code) - Check if referral code exists
- [useGetReferralCode](/sdks/hooks/referral/use-get-referral-code) - Obtain referral code via `account_id`
- [useDaily](/sdks/hooks/referral/use-daily) - Returns `perp_volume` based on start and end time
- [useRefereeInfo](/sdks/hooks/referral/use-referee-info) - Retrieve referee info
- [useRefereeRebateSummary](/sdks/hooks/referral/use-referee-rebate-summary) - Provide statistics on referee rebates per date
- [useReferralInfo](/sdks/hooks/referral/use-referral-info) - Retrieve referral info
- [useReferralRebateSummary](/sdks/hooks/referral/use-referral-rebate-summary) - Provide statistics on referral rebates per date


### useCheckReferralCode

Source: [https://orderly.network/docs/sdks/hooks/referral/use-check-referral-code](https://orderly.network/docs/sdks/hooks/referral/use-check-referral-code)

Check if referral code exists.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usecheckreferralcode)

```ts
const { isExist, error, isLoading } = useCheckReferralCode("ref-code");
```


### useDaily

Source: [https://orderly.network/docs/sdks/hooks/referral/use-daily](https://orderly.network/docs/sdks/hooks/referral/use-daily)

Returns `perp_volume` based on start and end time. If not passed, defaults to last 30 days.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usedaily)

##### Example

```ts
const { data } = useDaily();
```

The returned data is an array of objects containing the following fields:

```ts
{
  "broker_id": "veeno_dex",
  "date": "2024-11-11",
  "perp_volume": 500
}
```


### useGetReferralCode

Source: [https://orderly.network/docs/sdks/hooks/referral/use-get-referral-code](https://orderly.network/docs/sdks/hooks/referral/use-get-referral-code)

Obtain referral code via `account_id`.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usegetreferralcode)

```ts
const { referral_code, error, isLoading } = useGetReferralCode("<account_id>");
```


### useRefereeHistory

Source: [https://orderly.network/docs/sdks/hooks/referral/use-referee-history](https://orderly.network/docs/sdks/hooks/referral/use-referee-history)

Retrieve history of a referee.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#userefereehistory)

```ts
const [refereeHistory, { total, isLoading, refresh, loadMore }] = useRefereeHistory({
  size: 10, // Number of items per page
  startDate: "2023-01-01", // Start date in YYYY-MM-DD format
  endDate: "2023-01-31", // End date in YYYY-MM-DD format
  initialSize: 1 // Initially load 1 page of data
});
```


### useRefereeInfo

Source: [https://orderly.network/docs/sdks/hooks/referral/use-referee-info](https://orderly.network/docs/sdks/hooks/referral/use-referee-info)

Retrieve referee info.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#userefereeinfo)

```ts
const [refereeInfo, { total, isLoading, refresh, loadMore }] = useRefereeInfo({
  size: 10, // Number of items per page
  startDate: "2023-04-01", // Start date in YYYY-MM-DD format
  endDate: "2023-04-30", // End date in YYYY-MM-DD format
  initialSize: 1 // Initially load 1 page of data
});
```


### useRefereeRebateSummary

Source: [https://orderly.network/docs/sdks/hooks/referral/use-referee-rebate-summary](https://orderly.network/docs/sdks/hooks/referral/use-referee-rebate-summary)

Provide statistics on referee rebates per date, based on start and end date.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#userefereerebatesummary)

```ts
const {
  data: distributionData,
  mutate,
  isLoading
} = useRefereeRebateSummary({
  startDate,
  endDate
});
```


### useReferralInfo

Source: [https://orderly.network/docs/sdks/hooks/referral/use-referral-info](https://orderly.network/docs/sdks/hooks/referral/use-referral-info)

Obtain information about the inviting person, including whether he/she is an Affiliate/Trader.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usereferralinfo)

```ts
const { data, isTrader, isAffiliate, error, isLoading, getFirstRefCode } = useReferralInfo();
```


### useReferralRebateSummary

Source: [https://orderly.network/docs/sdks/hooks/referral/use-referral-rebate-summary](https://orderly.network/docs/sdks/hooks/referral/use-referral-rebate-summary)

Provide statistics on referral rebates per date, based on start and end date.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usereferralrebatesummary)

```ts
const [data, { refresh, isLoading, loadMore }] = useReferralRebateSummary({
  startDate,
  endDate
});
```


### Overview

Source: [https://orderly.network/docs/sdks/hooks/market-data/markets](https://orderly.network/docs/sdks/hooks/market-data/markets)

`@orderly.network/hooks` provides the following hooks related to market data:

- [useOrderbookStream](/sdks/hooks/market-data/use-orderbook-stream) - Orderbook stream
- [useIndexPrice](/sdks/hooks/market-data/use-index-price) - Get the index price of a single symbol
- [useMarkPrice](/sdks/hooks/market-data/use-mark-price) - Get the mark price of a single symbol
- [useMarkPricesStream](/sdks/hooks/market-data/use-mark-prices-stream) - Get the mark price of all symbols
- [useMarketTradeStream](/sdks/hooks/market-data/use-market-trade-stream) - Get the market trades history of a symbol
- [useMarkets](/sdks/hooks/market-data/use-markets) - Retrieve all listed symbols and its market data
- [useMarketsStream](/sdks/hooks/market-data/use-markets-stream) - Retrieve all listed symbols and its market data
- [useTickerStream](/sdks/hooks/market-data/use-ticker-stream) - Get the symbol market data stream
- [useSymbolsInfo](/sdks/hooks/market-data/use-symbols-info) - Get the symbol market data stream
- [useSymbolPriceRange](/sdks/hooks/market-data/use-symbol-price-range) - Get the price range for the specified symbol with an optional price


### useIndexPrice

Source: [https://orderly.network/docs/sdks/hooks/market-data/use-index-price](https://orderly.network/docs/sdks/hooks/market-data/use-index-price)

Receive index price for given symbol and auto update via Websockets.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#useindexprice)

##### Example

```ts
const indexPrice: number = useIndexPrice("PERP_ETH_USDC");
```


### useMarkPrice

Source: [https://orderly.network/docs/sdks/hooks/market-data/use-mark-price](https://orderly.network/docs/sdks/hooks/market-data/use-mark-price)

Receive mark price for given symbol and auto update via Websockets.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usemarkprice)

##### Example

```ts
const markPrice: number = useMarkPrice("PERP_ETH_USDC");
```


### useMarkPricesStream

Source: [https://orderly.network/docs/sdks/hooks/market-data/use-mark-prices-stream](https://orderly.network/docs/sdks/hooks/market-data/use-mark-prices-stream)

Get list of all mark prices in a `symbol` -> `price` map.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usemarkpricesstream)

##### Example

```ts
const { data: markPrices }: { data: Record<string, number> } = useMarkPricesStream();
```


### useMarketTradeStream

Source: [https://orderly.network/docs/sdks/hooks/market-data/use-market-trade-stream](https://orderly.network/docs/sdks/hooks/market-data/use-market-trade-stream)

Subscribe to [trades](/sdks/tech-doc/interfaces/orderly_network_types.API.Trade) via Websockets for a given symbol.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usemkarettradestream)

##### Example

```tsx
const { data, isLoading } = useMarketTradeStream(symbol);
```

The returned data is an array of objects containing the following fields:

```ts
{
  "price": 95731.5,
  "side": "SELL",
  "size": 0.1,
  "ts": 1732805310368
}
```


### useMarketsStream

Source: [https://orderly.network/docs/sdks/hooks/market-data/use-markets-stream](https://orderly.network/docs/sdks/hooks/market-data/use-markets-stream)

Subscribe to all [tickers](/sdks/tech-doc/interfaces/orderly_network_types.WSMessage.Ticker) via Websockets.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usemarketsstream)

##### Example

```ts
const { data } = useMarketsStream();
```

The returned data is an array of objects containing the following fields:

```ts
{
  "24h_amount": 48108.464865,
  "24h_close": 0.04286,
  "24h_high": 0.044604,
  "24h_low": 0.042574,
  "24h_open": 0.042944,
  "24h_volume": 1096083,
  "24h_volumn": 1096083,
  "change": 0.00195,
  "est_funding_rate": 0.00012004,
  "index_price": 0.042851,
  "last_funding_rate": 0.0002316,
  "mark_price": 0.042877,
  "next_funding_time": 1732809600000,
  "open_interest": 571430,
  "sum_unitary_funding": 0.00118,
  "symbol": "PERP_1000BONK_USDC"
}
```


### useMarkets

Source: [https://orderly.network/docs/sdks/hooks/market-data/use-markets](https://orderly.network/docs/sdks/hooks/market-data/use-markets)

The `useMarkets` hook extends the [`useMarketsStream`] hook with additional functionality like saving recent views and adding to favorites.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usemarkets)

```ts
enum MarketsType {
  FAVORITES = 0,
  RECENT = 1,
  ALL = 2
}
```

##### Example

```ts
const [data, { addToHistory, favoriteTabs, updateFavoriteTabs, updateSymbolFavoriteState }] =
  useMarkets(MarketsType.ALL);
```


### useOrderbookStream

Source: [https://orderly.network/docs/sdks/hooks/market-data/use-orderbook-stream](https://orderly.network/docs/sdks/hooks/market-data/use-orderbook-stream)

`@orderly.network/hooks` provides `useOrderbookStream` to return formatted data of the orderbook, making it easy for the orderbook to be displayed on the UI. When the `symbol` parameter changes, the hook will automatically subscribe for the data of the new symbol, thus no additional handling is required.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#useorderbookstream)

```typescript
const [data, { onDepthChange, isLoading, onItemClick, depth, allDepths }] = useOrderbookStream(
  symbol,
  undefined,
  {
    level: 7,
    padding: false
  }
);
```

`useOrderbookStream` returns an array, where the first element is the formatted orderbook data and the second element is an `object` conatining some data regarding the orderbook status.

#### Data structure

`[0]` The orderbook data format is as follows:

```json
// Taking a data snapshot of PERP_ETH_USDC as an example
{
  "asks": [
    [2002.9, 0.0181, 0.0181]
    // ...
  ],
  "bids": [
    [2016.7, 0.0007, 0.0007]
    // ...
  ],
  "markPrice": 999,
  "middlePrice": 999
}
```

- The data in each of the asks/bids is (in order):
  - Price
  - Quantity
  - Aggregated quantity, which is the sum of the current row plus all preceding rows
- asks - List of ask order levels, sorted in ascending order
- bids - List of bid order levels, sorted in descending order

> **Note:** The default length of the orderbook is 10. This can be modified through the `level` parameter.

#### Depth

##### allDepths

`allDepths` is an array containing all the different price tick granularities that the current symbol supports.

##### onDepthChange

`onDepthChange` is a function that is used when a user changes the price tick granularity display of the orderbook. The hook will aggregate the orderbook levels according to this parameter when providing the orderbook data.


### useSymbolPriceRange

Source: [https://orderly.network/docs/sdks/hooks/market-data/use-symbol-price-range](https://orderly.network/docs/sdks/hooks/market-data/use-symbol-price-range)

Receive information about minimum and maximum allowed price range for an order.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usesymbolpricerange)

##### Example

```ts
const { order, price }: { order: API.OrderExt; price: string } = props;

const isAlgoOrder = order.algo_order_id !== undefined;

const rangeInfo = useSymbolPriceRange(
  order.symbol,
  order.side,
  isAlgoOrder ? order.trigger_price : undefined
);

const hintInfo = useMemo(() => {
  if (!rangeInfo) return "";

  if (Number(price) > rangeInfo.max) {
    return `Price can not be greater than ${rangeInfo.max} USDC.`;
  }
  if (Number(price) < rangeInfo.min) {
    return `Price can not be less than ${rangeInfo.min} USDC.`;
  }
  return "";
}, [min, max, price]);
```


### useSymbolsInfo

Source: [https://orderly.network/docs/sdks/hooks/market-data/use-symbols-info](https://orderly.network/docs/sdks/hooks/market-data/use-symbols-info)

Subscribe to all [symbols](/sdks/tech-doc/interfaces/orderly_network_types.API.SymbolExt) via Websockets.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usesymbolsinfo)

##### Example

```tsx
const [open, setOpen] = useState(false);
const [symbol, setSymbol] = useState<API.Symbol>();
const symbolInfo = useSymbolsInfo();

if (!symbol || symbolInfo.isNil) {
  return "Loading...";
}

return (
  <Dialog.Root>
    <Dialog.Trigger>
      
    </Dialog.Trigger>
    <Dialog.Content className="max-w-xs" size="2">
      <Dialog.Title>
        Select Symbol
      </Dialog.Title>

      
        {Object.values(symbolInfo)
          .filter((cur) => typeof cur !== "boolean")
          .map((cur) => {
            if (typeof cur === "boolean") return;
            const symbol = cur();
            return (
              
            );
          })}
      
    </Dialog.Content>
  </Dialog.Root>
);
```


### useTickerStream

Source: [https://orderly.network/docs/sdks/hooks/market-data/use-ticker-stream](https://orderly.network/docs/sdks/hooks/market-data/use-ticker-stream)

This hooks streams [market information](/sdks/tech-doc/interfaces/orderly_network_types.API.MarketInfo) data for given symbol (e.g. `PERP_BTC_USDC`).

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usetickerstream)

##### Example

```tsx
const marketInfo = useTickerStream("PERP_BTC_USDC");

return (
  <>
    
      Mark
      {stream.mark_price}
    
    
      Index
      {stream.index_price}
    
    
      24h volume
      {stream["24h_amount"]}
    
  </>
);
```


### useConfig

Source: [https://orderly.network/docs/sdks/hooks/util/use-config](https://orderly.network/docs/sdks/hooks/util/use-config)

This hook allows to return various configuration values.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#useconfig)

Possible keys:

```ts

  | "apiBaseUrl"
  | "klineDataUrl"
  | "privateWsUrl"
  | "publicWsUrl"
  | "operatorUrl"
  | "domain"
  | "brokerId"
  | "networkId"
  | "env"
  | "PROD_URL"
  | "markets";
```

If no key is provided, then the entire `ConfigStore` will be returned.

##### Example

```ts
// get specific config
const networkId = useConfig("networkId");

useEffect(() => {
  if (networkId === "testnet") {
    // do something
  }
}, [networkId]);
```


### useEventEmitter

Source: [https://orderly.network/docs/sdks/hooks/util/use-event-emitter](https://orderly.network/docs/sdks/hooks/util/use-event-emitter)

Utility hook that lets you emit events in one Component and receive them elsewhere.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#useeventemitter)

##### Example


```tsx Emitter.tsx
const eventEmitter = useEventEmitter();
const [state, setState] = useState();

useEffect(() => {
  eventEmitter.emit("state:update", state);
}, [state]);
```

```tsx Receiver.tsx
const eventEmitter = useEventEmitter();

eventEmitter.on("state:update", (state) => {
  // do something
});
```


### useLocalStorage

Source: [https://orderly.network/docs/sdks/hooks/util/use-local-storage](https://orderly.network/docs/sdks/hooks/util/use-local-storage)

Utility hook to store values in browser's local storage.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#uselocalstorage)

##### Example

```tsx
const [needConfirm, setNeedConfirm] = useLocalStorage("CONFIRM_ORDER", true);

return (
  <>
    {/* ... */}
    <label>
      Confirm Order
      <input
        type="checkbox"
        checked={needConfirm}
        onChange={() => {
          setNeedConfirm(!needConfirm);
        }}
      />
    </label>
  </>
);
```

##### Using with different data types

```tsx
type ChartConfig = {
  timeframe: string;
  indicators: string[];
  theme: "light" | "dark";
};

const [chartConfig, setChartConfig] = useLocalStorage<ChartConfig>("CHART_CONFIG", {
  timeframe: "1h",
  indicators: ["MA", "RSI"],
  theme: "light"
});

const toggleTheme = () => {
  setChartConfig((prev) => ({
    ...prev,
    theme: prev.theme === "light" ? "dark" : "light"
  }));
};

return (
  
);
```


### useMediaQuery

Source: [https://orderly.network/docs/sdks/hooks/util/use-media-query](https://orderly.network/docs/sdks/hooks/util/use-media-query)

Evaluate a CSS media query via JavaScript.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usemediaquery)

##### Example

```tsx
const isTablet = useMediaQuery("(max-width: 768px)");

return {isTablet ? "is phone or tablet" : "is desktop"};
```


### useSessionStorage

Source: [https://orderly.network/docs/sdks/hooks/util/use-session-storage](https://orderly.network/docs/sdks/hooks/util/use-session-storage)

Utility hook to store values in browser's session storage.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usesessionstorage)

##### Example

```tsx
const [needConfirm, setNeedConfirm] = useLocalStorage("CONFIRM_ORDER", true);

return (
  <>
    {/* ... */}
    <label>
      Confirm Order
      <input
        type="checkbox"
        checked={needConfirm}
        onChange={() => {
          setNeedConfirm(!needConfirm);
        }}
      />
    </label>
  </>
);
```


### Overview

Source: [https://orderly.network/docs/sdks/hooks/util/util](https://orderly.network/docs/sdks/hooks/util/util)

`@orderly.network/hooks` provides the following utility hooks.

- [useConfig](/sdks/hooks/util/use-config) - An instance of the `ConfigStore`
- [useEventEmitter](/sdks/hooks/util/use-event-emitter) - An instance of the `EventEmitter`
- [useLocalStorage](/sdks/hooks/util/use-local-storage) - Management (CRUD) of localStorage
- [useSessionStorage](/sdks/hooks/util/use-session-storage) - Management (CRUD) of sessionStorage
- [useMediaQuery](/sdks/hooks/util/use-media-query) - Evaluates a media query to a boolean


### usePositionStream

Source: [https://orderly.network/docs/sdks/hooks/positions/use-position-stream](https://orderly.network/docs/sdks/hooks/positions/use-position-stream)

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usepositionstream)

`usePositionStream` provides the current position details of the account, and includes some useful data calculations for showing positions, including:

- Position value
- Position liquidation price
- Position margin
- Unrealized PnL
- Unsettled PnL
- Aggregated position data

> **Note:** If you do not want to use the data provided by `usePositionStream`, you may use the
>   `@orderly.network/perp package`. This package implements all position related calculations. See
>   [reference](/sdks/perp/overview).

#### Position list

`usePositionStream` returns an array, with the first item of the arry as follows:

```typescript
interface Position {
  rows: positionsRows,
  aggregated: formatedPositions?.[1] ?? {},
  totalCollateral:number,
  totalValue:number,
  totalUnrealizedROI:number,
}
```

##### Position

##### Aggregated position data

Usually, the UI will display some aggregated position data, for instance the total position value, total collateral, and the total unrealized ROI. These data are all provided by `usePositionStream`.

```typescript
interface Aggregated {
  unrealPnL: number;
  notional: number;
  unsettledPnL: number;
}
```

##### Position info

The data returned by [Orderly positions API](/build-on-omnichain/evm-api/restful-api/private/get-all-positions-info) also includes the following Position info. One can retrieve these data through the second element of the `usePositionStream` array response：

```typescript
interface PositionInfo {
  margin_ratio: number;
  initial_margin_ratio: number;
  maintenance_margin_ratio: number;
  open_margin_ratio: number;
  current_margin_ratio_with_orders: number;
  initial_margin_ratio_with_orders: number;
  maintenance_margin_ratio_with_orders: number;
  total_collateral_value: number;
  free_collateral: number;
  rows: Position[];
  total_pnl_24_h: number;
}
```

#### Position management

##### Close position

To close a position, just place a reduce-only order with the opposite position of the open position. For example, if the open position is a long, close the position by placing a SELL order of the same size.

Positions can be closed by using `useOrderEntry`. For more details, please see [orders](/sdks/hooks/orders)


### usePoster

Source: [https://orderly.network/docs/sdks/hooks/positions/use-poster](https://orderly.network/docs/sdks/hooks/positions/use-poster)

`usePoster` generates a poster image based on position information. You can set the size, background color, font color, font size, and content position of the poster.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#useposter)

```tsx
const { ref, toDataURL, toBlob, download, copy } = usePoster({
  backgroundColor: "#0b8c70",
  backgroundImg: "/images/poster_bg.png",
  color: "rgba(255, 255, 255, 0.98)",
  profitColor: "rgb(0,181,159)"
  // ...
});
```


### Overview

Source: [https://orderly.network/docs/sdks/hooks/api/api](https://orderly.network/docs/sdks/hooks/api/api)

Orderly provides both public and private APIs. Public APIs can be fetched directly. Private APIs require [authentication](/build-on-omnichain/evm-api/api-authentication) and these can be performed using hooks from `@orderly.network/hooks`.

> **Note:** **Reminder:** Most often you might not have to use the following hooks, as
>   `@orderly.network/hooks` likely implements higher level hooks on top of the request module. For
>   example, you can use `usePositionStream` for position management, and `useOrderEntry` for order
>   placement. You may consider to use these hooks if you want to build out more advanced usage of
>   Orderly, or if the provided hooks are not suitable for your use case.

#### RESTful API

`@orderly.network/hooks` provides the following hooks for builders to access Orderly's RESTful APIs:

- [useQuery](/sdks/hooks/api/use-query) - `GET` Public API
- [usePrivateQuery](/sdks/hooks/api/use-private-query) - `GET` Private API
- [usePrivateInfiniteQuery](/sdks/hooks/api/use-private-infinite-query) - A version of `usePrivateQuery` that supports infinite scrolling
- [useLazyQuery](/sdks/hooks/api/use-lazy-query)
- [useMutation](/sdks/hooks/api/use-mutation) - `POST` APIs
- [useWS](/sdks/hooks/api/use-ws) - WebSocket client

The above hooks are based on [SWR](https://swr.vercel.app/) and have the following properties:

- Request responses are cached. Cached data are used in priority according to the config, and is used as a global status management.
- Removes any duplicate requests. When request parameters are the same, it will automatically cancel the duplicate request
- When the window is focused or when the connection is recovered, automatically retries requests.
- Automatically retries any failed network requests.
- For more information, please check the [official swr documentation](https://swr.vercel.app/).

##### Private APIs

Use `usePrivateQuery`, `usePrivateInfiniteQuery` or `useMutation` to access any private API. These are slightly different from `useQuery`:

- They have a built-in account status check. Developers do not have to check the current login status of the user. If the user has not logged in, the request will not be sent until the user status has changed to a logged in status.
- They will automatically sign all requests using the `OrderlyKey` according to Orderly's standards.

#### WebSocket

`@orderly.network/hooks` provides a `useWS` hook for accessing Orderly's Websocket API. `useWS` returns the `WS` instance of `@orderly.network/net`. Builders can use `WS` to subscribe, cancel, or to send messages through the Websocket.

For all available topics of the Websocket, please check the [Websocket API documentation](/build-on-omnichain/evm-api/websocket-api/introduction).


### useLazyQuery

Source: [https://orderly.network/docs/sdks/hooks/api/use-lazy-query](https://orderly.network/docs/sdks/hooks/api/use-lazy-query)

Like [useQuery](/sdks/hooks/api/use-query), but returns a `trigger` to fetch data.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#uselazyquery)

##### Example

```ts
const { data, trigger } = useLazyQuery<API.Symbol[]>("/v1/public/info");
```


### useMutation

Source: [https://orderly.network/docs/sdks/hooks/api/use-mutation](https://orderly.network/docs/sdks/hooks/api/use-mutation)

##### Mutation

**Note: `useQuery`/`usePrivateQuery` can only be used for `GET` requests.**

For `POST`, `PUT` or `DELETE` requests, please use `useMutation`. For example to create a new order:

```tsx


const [createOrder, { data, error, isMutating }] = useMutation<OrderEntity, any>("/v1/order");
```


### usePrivateInfiniteQuery

Source: [https://orderly.network/docs/sdks/hooks/api/use-private-infinite-query](https://orderly.network/docs/sdks/hooks/api/use-private-infinite-query)

Position list or order lists typically requires pagination to load all the data. If an infinite scrolling effect has to be implemented `usePrivateInfiniteQuery` can be used.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#useprivateinfinitequery)

**Slightly different from sending an incremental `page` parameter, `usePrivateInfiniteQuery` will append data from the next `page` to `data`, and not replace the current response.**

For example, to get the list of orders:

```tsx
const { data: orders } = usePrivateInfiniteQuery(
  (pageIndex: number, previousPageData) => {
    // reached the end
    if (previousPageData && !previousPageData.length) return null;

    const search = new URLSearchParams([
      ["size", size.toString()],
      ["page", `${pageIndex + 1}`]
    ]);

    if (status) {
      search.set(`status`, status);
    }

    if (symbol) {
      search.set(`symbol`, symbol);
    }

    if (side) {
      search.set(`side`, side);
    }

    return `/v1/orders?${search.toString()}`;
  },
  {
    initialSize: 1,
    onError: (err) => {
      console.error("fetch failed::::", err);
    }
  }
);
```


### usePrivateQuery

Source: [https://orderly.network/docs/sdks/hooks/api/use-private-query](https://orderly.network/docs/sdks/hooks/api/use-private-query)

Use `usePrivateQuery` to access a private API, for example to get the current user info.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#useprivatequery)

```tsx
const { data, isLoading, error } = usePrivateQuery("/v1/client/info");
const { state } = useAccount();

if (isLoading) return loading...;

return (
  
    {state.status}
    <pre>{JSON.stringify(data, null, 2)}</pre>
  
);
```


### useQuery

Source: [https://orderly.network/docs/sdks/hooks/api/use-query](https://orderly.network/docs/sdks/hooks/api/use-query)

Use `useQuery` to access any public API, for example to get all available symbols on Orderly.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usequery)

```tsx
const { data, error, isLoading } = useQuery<API.Symbol[]>("/v1/public/info");

return (
  <pre className="text-sm">
    {isLoading && Loading...}
    {data && {JSON.stringify(data, null, 2)}}
  </pre>
);
```

The `data` returned by `useQuery` is already serialized in JSON format. If you want to access the raw data, you can provide a `formatter` to override the default serialization of the hook. For example:

```tsx
const { data, error } = useQuery("/v1/public/info", {
  formatter: (data) => data
});
```


### useWsStatus

Source: [https://orderly.network/docs/sdks/hooks/api/use-ws-status](https://orderly.network/docs/sdks/hooks/api/use-ws-status)

Receive WebSocket client status.

#### Example

```ts


const status = useWsStatus();

useEffect(() => {
  if (status === WsNetworkStatus.Connected) {
    // do something
  }
}, [status]);
```


### useWS

Source: [https://orderly.network/docs/sdks/hooks/api/use-ws](https://orderly.network/docs/sdks/hooks/api/use-ws)

Allows you to subscribe to public topics.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usews)

```tsx
subscribe(
  topic: string | { [key:string]:any },
  callback: WSMessageHandler | Omit<WSMessageHandler, "onUnsubscribe">,
  once?: boolean,
  id?: string
): unsubscribe | undefined
```

Subscribing to the `trade` topic:

```tsx
const ws = useWS();

useEffect(() => {
  const unsubscribe = ws.subscribe(
    {
      id: `${symbol}@trade`,
      event: "subscribe",
      topic: `${symbol}@trade`,
      ts: Date.now()
    },
    {
      onMessage: (data: any) => {
        //
      }
    }
  );
  () => {
    // Unsubscribes when the component unloads
    unsubscribe();
  };
}, []);
```

##### Subscribing to private topics

Subscribing to the `executionreport` topic:

```tsx
const ws = useWS();

useEffect(() => {
  const unsubscript = ws.privateSubscribe(
    {
      id: "executionreport",
      event: "subscribe",
      topic: "executionreport",
      ts: Date.now()
    },
    {
      onMessage: (data) => {
        // do something
      }
    }
  );
  () => {
    // Unsubscribes when the component unloads
    unsubscribe();
  };
}, []);
```


### Overview

Source: [https://orderly.network/docs/sdks/hooks/orders/orders](https://orderly.network/docs/sdks/hooks/orders/orders)

`@orderly.network/hooks` provides the following hooks related to order management.

- [useOrderEntry](/sdks/hooks/orders/use-order-entry) - Order placement
- [useOrderStream](/sdks/hooks/orders/use-order-stream) - Retrieving, editing and cancelling orders


### useOrderEntry

Source: [https://orderly.network/docs/sdks/hooks/orders/use-order-entry](https://orderly.network/docs/sdks/hooks/orders/use-order-entry)

The `useOrderEntry` hook provides a variety of supporting functions according to input parameters and the prevailing market data.

```ts
const useOrderEntry: (
  symbol: string,
  options: {
    /** initial order state, default is buy limit order */
    initialOrder?: Omit<Partial<FullOrderState>, "symbol">;
  }
) => OrderEntryReturn;

type OrderEntryReturn = {
  submit: (options?: { resetOnSuccess?: boolean }) => Promise<void>;
  reset: () => void;
  resetErrors: () => void;
  resetMetaState: () => void;
  formattedOrder: Partial<FullOrderState>;
  maxQty: number;
  /**
   * The estimated liquidation price.
   */
  estLiqPrice: number | null;
  /**
   * The estimated leverage after order creation.
   */
  estLeverage: number | null;
  helper: {
    /**
     * Function to validate the order.
     * @returns {Promise<VerifyResult | null>} The validation result.
     */
    validate: () => Promise<VerifyResult | null>;
  };
  freeCollateral: number;
  /**
   * set a single value to the order data;
   * @param key
   * @param value
   * @returns
   */
  setValue: (
    key: keyof FullOrderState,
    value: any,
    options?: {
      shouldUpdateLastChangedField?: boolean;
    }
  ) => void;
  setValues: (values: Partial<FullOrderState>) => void;
  symbolInfo: API.SymbolExt;
  /**
   * Meta state including validation and submission status.
   */
  metaState: {
    dirty: {
      [K in keyof OrderlyOrder]?: boolean;
    };
    submitted: boolean;
    validated: boolean;
    errors: VerifyResult | null;
  };
  /**
   * Indicates if a mutation (order creation) is in progress.
   */
  isMutating: boolean;
  markPrice: number | undefined;
};
```

##### Real-time data

`useOrderEntry` provides some real-time data that the UI will use when creating orders based on the latest market data.

- `maxQty`: The maximum quantity that the user can trade based on the free collateral.
- `freeCollateral`: The amount collateral available for trading, factoring in open positions and pending orders.
- `markPrice`: The mark price of the symbol.
- `estLiqPrice`: The estimated liquidation price, if a position is created from given order paramters.
- `estLeverage`: The estimated leverage, if a position is created from given order paramters.

##### Updating values

For updating values two functions are provided: `setValue` and `setValues`.
`useOrderEntry` is built on the concepts of `react-hook-form`.
If you have been using it in conjunction with `react-hook-form` with the SDK v1, then you might want to entirely remove it now.

```tsx
// ...
const { setValue } = useOrderEntry(symbol, {
  initialOrder: {
    side: OrderSide.BUY,
    order_type: OrderType.MARKET,
    price: undefined,
    order_quantity: undefined
  }
});
// ...

return (
  <>
    {/* ... */}
    <select
      onChange={(event) => {
        setValue("order_type", event.target.value);
      }}
    >
      <option value="MARKET">Market</option>
      <option value="LIMIT">Limit</option>
      <option value="STOP_LIMIT">Stop Limit</option>
    </select>

    <input
      type="string"
      placeholder="Price"
      name="price"
      onChange={(event) => {
        setValue("price", event.target.value);
      }}
    />

    <input
      type="string"
      placeholder="Quantity"
      name="order_quantity"
      onChange={(event) => {
        setValue("order_quantity", event.target.value);
      }}
    />
    {/* ... */}
  </>
);
```

##### Order validations

Order inputs will be validated automatically and any error will be returned in the `metaState.errors` field.


```tsx CreateOrder.tsx


// ...
const {
  setValue,
  metaState: { errors, dirty, submitted }
} = useOrderEntry(symbol, {
  initialOrder: {
    side: OrderSide.BUY,
    order_type: OrderType.MARKET,
    trigger_price: undefined,
    price: undefined,
    order_quantity: undefined
  }
});
const hasError = useCallback(
  (
    key: keyof OrderlyOrder
  ):
    | {
        message: string;
      }
    | undefined => {
    if (!dirty[key] && !submitted) {
      return;
    }
    return errors?.[key];
  },
  [errors, dirty, submitted]
);
// ...

return (
  <>
    {/* ... */}
    <input
      type="string"
      placeholder="Quantity"
      name="order_quantity"
      onChange={(event) => {
        setValue("order_quantity", event.target.value);
      }}
    />
    {renderFormError(hasError("order_quantity"))}
    {/* ... */}
  </>
);
```

```tsx formHelper.tsx

  return (
    
      {error?.message ?? ""}
    
  );
};
```


##### Placing orders

You can place orders by calling the `submit` function.

```tsx
// ...
const { submit, reset } = useOrderEntry(symbol, {
  initialOrder: {
    side: OrderSide.BUY,
    order_type: OrderType.MARKET,
    price: undefined,
    order_quantity: undefined
  }
});
// ...

return (
  <>
    {/* ... */}

    <form
      onSubmit={async (event) => {
        event.preventDefault();
        await submit();
        reset();
      }}
    >
      
    </form>
    {/* ... */}
  </>
);
```


### useOrderStream

Source: [https://orderly.network/docs/sdks/hooks/orders/use-order-stream](https://orderly.network/docs/sdks/hooks/orders/use-order-stream)

#### Managing orders

`useOrderStream` provides a list of orders, as well as order management functionalities.

```typescript

  status,
  symbol,
  side,
  size = 100,
}: {
  symbol?: string;
  status?: OrderStatus;
  size?: number;
  side?: OrderSide;
} = {}): any
```

##### Order list

- Supports displaying all orders or only orders related to the current symbol (controlled by the `symbol` parameter).
- Can filter orders according to the order status or order side.

```typescript


  const [orders] = useOrderStream({ status: OrderStatus.INCOMPLETE });

  //...
}
```

##### Editing orders

```typescript


  const [_, { updateOrder }] = useOrderStream({ status: OrderStatus.INCOMPLETE });
  //...
  const onEdit = async (id, values) => {
    const res = await updateOrder(id, values);
    //...
  };
};
```

##### Cancelling orders

```typescript


  const [_, { cancelOrder }] = useOrderStream({ status: OrderStatus.NEW });
  //...
  const onCancel = async (orderId) => {
    const res = await cancelOrder("<orderId>");
    //...
  };
};
```


### useTPSL

Source: [https://orderly.network/docs/sdks/hooks/orders/use-tp-sl](https://orderly.network/docs/sdks/hooks/orders/use-tp-sl)

#### Create TP/SL Orders

```typescript
const [
  /**
   * Formatted TP/SL order data ready for UI display
   * The order includes the following data:
   * [tp/sl]_pnl: Estimated takeProfit profit
   * [tp/sl]_offset: takeProfit 
   * [tp/sl]_offset_percentage
   * quantity
   * ...
   */
  ComputedAlgoOrder,
  {
    /**
     * Update the take profit and stop loss order, this will merge the new data with the old one
     * key values can be: quantity|tp_trigger_price|sl_trigger_price|tp_pnl|sl_pnl|tp_offset|sl_offset|tp_offset_percentage|sl_offset_percentage
     * 
     * If you want to set the trigger price, you can use one of the following methods:
     * 1. Directly set triggerPrice:
     * setValue('tp_trigger_price',60000)
     * 2. Set PnL, automatically calculate trigger_price:
     * setValue('tp_pnl',100)
     * 3. Set price offset, automatically calculate trigger_price:
     * setValue('tp_offset', 100)
     * 4. Set price offset percentage, automatically calculate trigger_price
     * setValue('tp_offset_percentage',10)
     * 
     * Using any of the above methods to set the trigger price will calculate the corresponding pnl/offset/offset_percentage, which will be returned in the order object
     * 
     * When setting stop loss order, replace `tp` with `sl`
     */
    setValue: (key: string, value: number | string) => void;
    setValues: (values: Partial<ComputedAlgoOrder>) => void;
    
    /**
     * Submit the TP/SL order
     */
    submit: () => Promise<void>;
    /**
     * Order data validation result
     */
    errors: ValidateError | null;
    /**
     * You can manually call this method to validate the Order data. If validation passes, the order data will be returned, otherwise an error will be thrown
     */
    validate: () => Promise<
      AlgoOrderEntity<
        AlgoOrderRootType.POSITIONAL_TP_SL | AlgoOrderRootType.TP_SL
      >
    >;
  }
] = useTPSLOrder(
  /**
  * Position of a specific trading pair currently held by the user, must include "symbol" | "average_open_price" | "position_qty" fields;
  */
  position: Partial<API.PositionTPSLExt> &
    Pick<API.PositionTPSLExt, "symbol" | "average_open_price" | "position_qty">,
  options?: {
    /**
     * Default order data, required if modifying TP/SL order
    */
    defaultOrder?: API.AlgoOrder;
  }
)
```

#### Update TP/SL Order

##### Method One

```typescript
const [ComputedAlgoOrder,{submit}] = useTPSLOrder(position,{
  defaultOrder,// Must pass in order data
})
```

##### Method Two

Using `useOrderStream` hook 

```typescript
const [_, {updateTPSLOrder}] = useOrderStream();
updateTPSLOrder(orderId, childOrders);
```

#### Cancel TP/SL Order

** Using useOrderStream **

##### Cancel all Algo orders, including POSITIONAL_TP_SL and TP_SL orders;

```typescript
const [_, {cancelAllTPSLOrders}] = useOrderStream()
```

##### Cancel TP or SL order

```typescript
const [_, {cancelTPSLChildOrder}] = useOrderStream();

cancelTPSLChildOrder(childOrderId, rootAlgoOrderId);
```

#### Filtering TP/SL Orders

```typescript
const [orders] = useOrderStream({
  includes:[AlgoOrderRootType.TP_SL, AlgoOrderRootType.POSITIONAL_TP_SL], // Show only TP/SL orders
  //excludes:[AlgoOrderRootType.TP_SL, AlgoOrderRootType.POSITIONAL_TP_SL],// Do not show TP/SL orders
})
```


### Overview

Source: [https://orderly.network/docs/sdks/hooks/account/account](https://orderly.network/docs/sdks/hooks/account/account)

`@orderly.network/hooks` provides the following hooks for handling account-related logic:

- [useAccount](/sdks/hooks/account/use-account): Retrieves the current account info and status. With this hook you can also create an account and create an `orderlyKey`
- [useAccountInfo](/sdks/hooks/account/use-account-info) - Fetches account information
- [useAccountInstance](/sdks/hooks/account/use-account-instance) - Returns `Account` singleton
- [useWalletConnector](/sdks/hooks/account/use-wallet-connector) - Handles wallet connection
- [useWalletSubscription](/sdks/hooks/account/use-wallet-subscription) - Subscribe to wallet transactionsvia WebSocket
- [useLeverage](/sdks/hooks/account/use-leverage) - Retrieves the current account leverage
- [useMarginRatio](/sdks/hooks/account/use-margin-ratio) - Margin information
- [useSettleSubscription](/sdks/hooks/account/use-settle-subscription) - Subscribe to PnL settlement via WebSocket
- [useDaily](/sdks/hooks/account/use-daily) - Retrieving daily user volume

#### How to integrate wallet?

Since `@orderly.network/hooks` only focus on processing the Orderly business logic, the hooks don't include the function of connecting to the wallet, but they can be easily integrated with third-party wallet connection libraries.

Here are two examples:

##### web3-onboard

> Web3-Onboard is the quickest and easiest way to add multi-wallet and multi-chain support to your project. [more](https://onboard.blocknative.com/docs/modules/react)

TODO

##### WalletConnect

> WalletConnect provides developer toolkits empowering you to build engaging web3 experiences. [more](https://docs.walletconnect.com/)

TODO

#### Get and edit account leverage

Here is a small example of how to get current account leverage and how to edit max allowed leverage.


```tsx Leverage.tsx


  const [open, setOpen] = useState(false);
  const { currentLeverage } = useMarginRatio();

  const [maxLeverage, { update, config: leverageLevers, isMutating }] = useLeverage();
  const nextLeverage = useRef(maxLeverage ?? 0);

  const onSave = (value: { leverage: number }) => {
    return Promise.resolve().then(() => {
      nextLeverage.current = value.leverage;
    });
  };

  const onSubmit = () => {
    if (nextLeverage.current === maxLeverage) return;
    update({ leverage: nextLeverage.current }).then(
      () => {
        setOpen(false);
        // display success
      },
      (err) => {
        console.dir(err);
        // display error
      }
    );
  };

  return (
    <Dialog.Root open={open} onOpenChange={setOpen}>
      <Dialog.Trigger>{props.children}</Dialog.Trigger>
      <Dialog.Title>Account Leverage</Dialog.Title>
      <Dialog.Content>
        
          
            Current:
            {currentLeverage}
          
          
            Max account leverage
            
              
            
          
        
        <Button
          onClick={() => {
            setOpen(false);
          }}
        >
          Cancel
        </Button>
        <Button onClick={() => onSubmit()} loading={isMutating}>
          Save
        </Button>
      </Dialog.Content>
    </Dialog.Root>
  );
};
```

```tsx LeverageEditor.tsx


interface LeverageEditorProps {
  onSave?: (value: { leverage: number }) => Promise<void>;
  maxLeverage?: number;
  leverageLevers: number[];
}


  const { maxLeverage, leverageLevers, onSave } = props;

  const [leverage, setLeverage] = useState(() => maxLeverage ?? 0);

  const leverageValue = useMemo(() => {
    const index = leverageLevers.findIndex((item) => item === leverage);

    return index;
  }, [leverage, leverageLevers]);

  return (
    <Slider
      min={0}
      max={leverageLevers.length - 1}
      value={[leverageValue]}
      onValueChange={(value) => {
        const _value = leverageLevers[value[0]];
        setLeverage(_value);
      }}
      onValueCommit={(value) => {
        const _value = leverageLevers[value[0]];
        onSave?.({ leverage: _value }).catch(() => {
          setLeverage(maxLeverage ?? 1);
        });
      }}
    />
  );
};
```


### useAccountInfo

Source: [https://orderly.network/docs/sdks/hooks/account/use-account-info](https://orderly.network/docs/sdks/hooks/account/use-account-info)

Fetch basic account information from API.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#useaccountinfo)

This hooks returns the data provided by the [account information endpoint](/build-on-omnichain/evm-api/restful-api/private/get-account-information).

##### Example

```tsx
const { data: account, error, isLoading } = useAccountInfo();
if (account == null || isLoading) {
  return "Loading...";
}

const {
  account_id,
  email,
  account_mode,
  max_leverage,
  taker_fee_rate,
  maker_fee_rate,
  futures_taker_fee_rate,
  futures_maker_fee_rate,
  maintenance_cancel_orders,
  imr_factor,
  max_notional
} = account;
```


### useAccountInstance

Source: [https://orderly.network/docs/sdks/hooks/account/use-account-instance](https://orderly.network/docs/sdks/hooks/account/use-account-instance)

Get [`Account`](/sdks/tech-doc/classes/orderly_network_core.Account) singleton, that can be used to e.g. register an account or create a new Orderly key.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#useaccountinstance)

##### Example

```ts
const account = useAccountInstance();

return (
  <>
    Connected address: {account.address}
    Connected chain: {account.chainId}
    
    
    
  </>
);
```


### useAccount

Source: [https://orderly.network/docs/sdks/hooks/account/use-account](https://orderly.network/docs/sdks/hooks/account/use-account)

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#useaccount)

#### Create account

```typescript
const { createAccount } = useAccount();

const res = await createAccount();
```

#### Orderly Key

Creates an `OrderlyKey`. The validity of the `OrderlyKey` (in days) can be set.

```typescript
const { createOrderlyKey } = useAccount();

const res = await createOrderlyKey(30);
```

After the `OrderlyKey` is successfully created, it will be stored in the `KeyStore`, and will be used for API signatures later on.

#### KeyStore

The [`KeyStore` instance](/sdks/tech-doc/interfaces/orderly_network_core.OrderlyKeyStore) is responsible for storing the Orderly private key, which is used for trading.
By default the key will be stored in local Storage, but a custom `KeyStore` implementation can be given to `OrderlyConfigProvider` like explained [here](/sdks/hooks/setup).

```ts
const { account } = useAccount();
account.keyStore.getOrderlyKey();
account.keyStore.cleanAllKey(address);
// ...
```

#### Account status

The `Account` object has the following statuses:

```typescript

  NotConnected = 0,
  Connected = 1,
  NotSignedIn = 2,
  SignedIn = 3,
  DisabledTrading = 4,
  EnableTrading = 5
}
```

The above statuses are represented as follows:

- `NotConnected`/ `Connected` - Wallet connection status, not related to Orderly. `NotConnected` means no wallet connected, `Connected` means the wallet app is connected and we know the user's wallet address.
- `NotSignedIn` / `SignedIn` - The result from calling [`Get Account Information`](/build-on-omnichain/evm-api/restful-api/private/get-account-information) or [`Register Account`](/build-on-omnichain/evm-api/restful-api/public/register-account). `NotSignedIn` means there's no registered account associated with the wallet address and `brokerId` pair. `SignedIn` means that an account has been previously registered with the wallet address and `brokerId` pair.
- `DisabledTrading` / `EnableTrading` - The result from calling [`Get Orderly Key`](/build-on-omnichain/evm-api/restful-api/public/get-orderly-key) or [`Add Orderly Key`](/build-on-omnichain/evm-api/restful-api/public/add-orderly-key). `DisabledTrading` means no active Orderly Key is found in the `KeyStore`. `EnableTrading` means an active Orderly Key is found in the `KeyStore` and can be used to authenticate for any private API requests.

##### Get account status

There are two ways to get the account status. You can get it either directly from `useAccount`'s value, or through subscribing to the account status change event:

- Retrieve from the `state` value in `useAccount`:

```typescript
const { state } = useAccount();
```

`state` also contains the following account info, as shown below:

```typescript
interface AccountState {
  status: AccountStatusEnum;
  checking: boolean;
  accountId?: string;
  userId?: string;
  address?: string;
}
```

- Subscribe to the `change:status` event in the `Account` instance. (`account` is a singleton of the `Account` instance)。

```typescript
const { account } = useAccount();

const statusChangeHandler = (nextState: AccountState) => {
  // do something
};

useEffect(() => {
  account.on("change:status", statusChangeHandler);

  return () => {
    account.off("change:status", statusChangeHandler);
  };
}, []);
```

##### Update account status

`@orderly.network/hooks` currently does not provide the functionality for connecting wallets, **builders have to handle wallet connection logic themselves**, [refer here](#how-to-integrate-wallet).

Once the user has successfully connected a wallet, use the `setAddress` method to pass the `address` to the `Account` instance. 3 additional parameters need to be passed when calling `setAddress`:

- `provider` - provider according to the `EIP1193Provider` standard
- `chain` - information regarding the connected chain, including the `id`
- `wallet` - wallet information, including the name of the wallet app

The `setAddress` method in `Account` will check the `accound_id` and the existence of any valid `OrderlyKey` from the provided `address` and update the `state`. If the `state` is `AccountStatusEnum.EnableTrading`, then the full login process in complete and the user can then access all functionalities provided by Orderly.

```typescript
const { account, state } = useAccount();

//... logic for connecting wallets ...

/**
 * setAddress will return Promise<AccountStatusEnum>, and state will be updated
 */
const nextState = await account.setAddress("<address>", {
  provider: provider, // EIP1193Provider, usually window.ethereum
  chain: {
    id: "0x1" // chain id, e.g. 0x1 for Ethereum Mainnet, it's a hex string
  },
  wallet: {
    name: "" // Wallet app name, e.g. MetaMask
  }
});
```

##### Switch Chain

```tsx
  const account = useAccountInstance();

  const handleChainSelect = (id: string) => {
    // Remember to also switch chain in your wallet provider (e.g., wagmi, web3-onboard)
    account.switchChainId(id);
  }

return (
  {supportedChains
    .filter(({ network }) => network === "mainnet")
    .map(({ id, icon, label, chainId }) => (
      
    ))
  }
);
```


### useDaily

Source: [https://orderly.network/docs/sdks/hooks/account/use-daily](https://orderly.network/docs/sdks/hooks/account/use-daily)

Get daily user volume

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usedaily)

##### Example

```ts
const { data } = useDaily({
  startDate: new Date(Date.now() - 86400000 * 40), // 40 days ago
  endDate: new Date() // today
});
```


### useLeverage

Source: [https://orderly.network/docs/sdks/hooks/account/use-leverage](https://orderly.network/docs/sdks/hooks/account/use-leverage)

Get account max leverage and edit it. See [extended example](/sdks/hooks/account/account#get-and-edit-max-account-leverage).

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#useleverage)

##### Example

```ts
const [maxLeverage, { update, config: leverageLevers, isMutating }] = useLeverage();
```


### useMarginRatio

Source: [https://orderly.network/docs/sdks/hooks/account/use-margin-ratio](https://orderly.network/docs/sdks/hooks/account/use-margin-ratio)

Receive `marginRatio`, `currentLeverage` and `mmr`/account margin ratio.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usemarginratio)

##### Example

```ts
const { marginRatio, currentLeverage, mmr } = useMarginRatio();
```


### useSettleSubscription

Source: [https://orderly.network/docs/sdks/hooks/account/use-settle-subscription](https://orderly.network/docs/sdks/hooks/account/use-settle-subscription)

Subscribe to [PnL settlements](/build-on-omnichain/evm-api/websocket-api/private/pnl-settlement) for current account via Websockets.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usesettlesubscription)

##### Example

```ts
useSettleSubscription({
  onMessage: (data: any) => {
    const { status } = data;

    switch (status) {
      case "COMPLETED":
        // settlement completed
        break;
      case "FAILED":
        // settlement failed
        break;
      default:
        break;
    }
  }
});
```


### useWalletConnector

Source: [https://orderly.network/docs/sdks/hooks/account/use-wallet-connector](https://orderly.network/docs/sdks/hooks/account/use-wallet-connector)

Get wallet connection.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usewalletconnector)

```ts

  connect: () => Promise<WalletState[]>;
  disconnect: (options: any) => Promise<any[]>;
  connecting: boolean;
  setChain: (options: { chainId: string | number }) => Promise<any>;
  chains: any[];
  wallet: any;
  connectedChain: ConnectedChain | null;
  settingChain: boolean;
}
```

##### Example

```tsx
const wallet = useWalletConnector();

return (
  
);
```


### useWalletSubscription

Source: [https://orderly.network/docs/sdks/hooks/account/use-wallet-subscription](https://orderly.network/docs/sdks/hooks/account/use-wallet-subscription)

Subscribe to on-chain events (e.g. transaction completed) for connected wallet.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usewalletsubscription)

##### Example

```ts
useWalletSubscription({
  onMessage: (data: any) => {
    const { side, transStatus } = data;

    if (transStatus === "COMPLETED") {
      let msg = `${side} completed`;
      toast.success(msg);
    } else if (transStatus === "FAILED") {
      let msg = `${side} failed`;
      toast.error(msg);
    }
  }
});
```


### Overview

Source: [https://orderly.network/docs/sdks/hooks/assets/assets](https://orderly.network/docs/sdks/hooks/assets/assets)

`@orderly.network/hooks` provides the following hooks to get data regarding a user's assets. This can be used under different use cases.

- [useCollateral](/sdks/hooks/assets/use-collateral) - retrieves information about a user's collateral
- [useMaxQty](/sdks/hooks/assets/use-max-qty) - retrieves the maximum quantity a user can place based on the symbol, side, leverage etc.
- [useChain](/sdks/hooks/assets/use-chain) - Chain information
- [useChains](/sdks/hooks/assets/use-chains) - Retrieves the list of supported chains
- [useDeposit](/sdks/hooks/assets/use-deposit) - retrieves a Withdraw tokens from Orderly smart contract balance helper
- [useHoldingStream](/sdks/hooks/assets/use-holding-stream) - Retrieves user's assets

Functions regarding asset calculations are provided by [@orderly.network/perp](/sdks/perp/overview)

#### Deposit status

Subscribe to the relevant websocket topic to get updates on the deposit status.

```typescript


//...


  const ws = useWS();

  useEffect(() => {
    const unsubscribe = ws.subscribe(
      {
        id: "wallet",
        event: "subscribe",
        topic: "wallet",
        ts: Date.now()
      },
      {
        onMessage: (data: any) => {
          //
        }
      }
    );

    return () => {
      unsubscribe();
    };
  }, [ws]);
};
```

##### Withdrawal status

Subscribe to the relevant websocket topic to get updates on the withdrawal status.

```typescript


//...


  const ws = useWS();

  useEffect(() => {
    const unsubscribe = ws.subscribe(
      {
        id: "wallet",
        event: "subscribe",
        topic: "wallet",
        ts: Date.now()
      },
      {
        onMessage: (data: any) => {
          //
        }
      }
    );

    return () => {
      unsubscribe();
    };
  }, [ws]);
};
```


### useChain

Source: [https://orderly.network/docs/sdks/hooks/assets/use-chain](https://orderly.network/docs/sdks/hooks/assets/use-chain)

Receive chain information for a given token.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usechain)

##### Example

```ts
const { chains, isLoading } = useChain("USDC");
```


### useChains

Source: [https://orderly.network/docs/sdks/hooks/assets/use-chains](https://orderly.network/docs/sdks/hooks/assets/use-chains)

Receive the chains that are supported by Orderly.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usechains)

```typescript
const [chains, { findByChainId }] = useChains();
```

The `findByChainId` function can be used to get the config of a particular chain by the chain id.

```typescript
const [_, { findByChainId }] = useChains();

const chain = findByChainId(421613);
```


### useCollateral

Source: [https://orderly.network/docs/sdks/hooks/assets/use-collateral](https://orderly.network/docs/sdks/hooks/assets/use-collateral)

Receive collateral information such as available balance, free collateral and unsettled PnL.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usecollateral)

##### Example

```ts


const {
  totalCollateral,
  freeCollateral,
  totalValue,
  availableBalance,
  unsettledPnL,
  positions,
  accountInfo
} = useCollateral({
  dp: 2 //decimalPlaces
});
```


### useDeposit

Source: [https://orderly.network/docs/sdks/hooks/assets/use-deposit](https://orderly.network/docs/sdks/hooks/assets/use-deposit)

#### Wallet balance

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usedeposit)

It is useful to display the current wallet's balance when a user wishes to deposit. The wallet balance can be retrieve using the following two methods:

##### `balance`

`useDeposit` returns a `balance` field which is equal to the current token balance of the wallet (ie balance not deposited). This `balance` will refresh by fetching from the chain again if `token` changes.

```tsx
const [token, setToken] = useState<API.TokenInfo>();
const { connectedChain } = useWalletConnector();

const {
  dst,
  balance, // The wallet balance of the chosen token
  allowance,
  approve,
  deposit,
  isNativeToken,
  balanceRevalidating,
  fetchBalance
} = useDeposit({
  address: token?.address,
  decimals: token?.decimals,
  srcToken: token?.symbol,
  srcChainId: Number(connectedChain?.id)
});
```

##### Fetch balance

`useDeposit` also has a `fetchBalance()` method to get the wallet balance. This can be used in a token list, and can be used to trigger a balance fetch directly.

```typescript /fetchBalance/


  const {
    //...
    fetchBalance
  } = useDeposit({
    //...
  });

  const getBalance = async () => {
    const balance = await fetchBalance(`0x...`, 6);
  };

  //...
};
```

#### Wallet allowance

##### `allowance`

The current allowance authorized by the user to be used by the Orderly smart contract. This will refresh if the `token` is changed.

##### `approve`

Call the `approve` function to authorize an allowance of the token that can be used by the Orderly smart contract. If the `quantity` is not sent, the default will be `ethers.MaxUint256`.

```typescript
const {
  //...
  allowance,
  approve
} = useDeposit({
  //...
});

approve("<quantity?>");
```

#### Deposit fee

##### `setQuantity`

The `setQuantity` function is used to set the deposit quantity. This will trigger a recalculation of the deposit fee.

> **Note:** The `setQuantity` function is a React state dispatch function and **must** be called in a
>   rendering tick **before** the function call to `deposit` happens.

```typescript
const {
  //...
  depositFee,
  quantity,
  setQuantity,
  depositFeeRevalidating
} = useDeposit({
  //...
});

setQuantity("<quantity>");
```

##### `depositFee`

The `depositFee` field is the fee that needs to be paid when depositing. This will refresh if the `quantity` is updated.

#### Initiate deposit

##### `deposit()`

Call the `deposit` function from the response of `useDeposit` to initiate a deposit.

```typescript
const {
  //...
  deposit
} = useDeposit({
  //...
});

// Note: No parameters need to be passed during the call
const res = await deposit();
```


### useHoldingStream

Source: [https://orderly.network/docs/sdks/hooks/assets/use-holding-stream](https://orderly.network/docs/sdks/hooks/assets/use-holding-stream)

Receive current user holdings and auto update via Websockets.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#useholdingstream)

##### Example

```ts
const { usdc } = useHoldingStream();
```

The USDC object contains:

```ts
{
  frozen: 0,
  holding: 100,
  pending_short: 0,
  token: "USDC",
  updated_time: 1732754429399
}
```


### useMaxQty

Source: [https://orderly.network/docs/sdks/hooks/assets/use-max-qty](https://orderly.network/docs/sdks/hooks/assets/use-max-qty)

Receive max quantity available for trading.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usemaxqty)

##### Example

```ts
const maxQty: number = useMaxQty("PERP_ETH_USDC", OrderSide.BUY);
```


### useWithdraw

Source: [https://orderly.network/docs/sdks/hooks/assets/use-withdraw](https://orderly.network/docs/sdks/hooks/assets/use-withdraw)

Withdraw helper hook.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usewithdraw)

##### Max withdrawable amount

`availableWithdraw` - The maximum balance that can be withdrawn at this moment (without having to settle PnL).

##### Available Balance

`availableBalance` - The available balance of the account, which is equal to the amount that can be withdrawn after settling all outstanding unsettled PnL.

##### Unsettled PnL

`unsettledPnL` - Amount of PnL that has not been settled into the account balance yet. Balance will be available to withdraw once PnL has been settled (if positive).

All of the above data can be retrieved through `useWithdraw`.

```typescript
const { withdraw, isLoading, availableWithdraw, unsettledPnL } = useWithdraw();
```

##### Example

```tsx
const { withdraw, availableWithdraw, isLoading } = useWithdraw();
const account = useAccountInstance();

const res = await withdraw();
return (
  
);
```


### Overview

Source: [https://orderly.network/docs/sdks/hooks/funding/funding](https://orderly.network/docs/sdks/hooks/funding/funding)

`@orderly.network/hooks` provides the following hooks related to funding:

- [useFundingRate](/sdks/hooks/funding/use-funding-rate) - Funding rate information


### useFundingRate

Source: [https://orderly.network/docs/sdks/hooks/funding/use-funding-rate](https://orderly.network/docs/sdks/hooks/funding/use-funding-rate)

Receive funding rate for given symbol.

- [Tech docs](/sdks/tech-doc/modules/orderly_network_hooks#usefundingrate)

##### Example

```ts
const fundingRate = useFundingRate("PERP_ETH_USDC");
```


## Core & Perp SDK

### Overview

Source: [https://orderly.network/docs/sdks/core/overview](https://orderly.network/docs/sdks/core/overview)

`@orderly.network/core`

The core library is the foundational SDK used by hooks SDK and has the following functionalities:

- Helpers for registration, orderly key generation and settle pnl
- Key stores that are mainly used from hooks
- Some helper fnuctions
- Account object
- KeyPair classes to sign messages

Technical overview is [here](/sdks/tech-doc/modules/orderly_network_core) and [here](/sdks/tech-doc/modules/orderly_network_core.utils)


### Overview

Source: [https://orderly.network/docs/sdks/perp/overview](https://orderly.network/docs/sdks/perp/overview)

`@orderly.network/perp`

A library of calculation formulas related to Orderly futures trading. This library is designed to be purely functional, with no context dependencies. Simply call the appropriate functions directly for seamless integration.

#### Install

```sh
npm install @orderly.network/perp
```

#### Usage

```typescript


// calculation of the maximum allowable position size for an account
const myMaxQty = () => {
  const qty = maxQty("PERP_ETH_USDC", OrderSide.BUY);
  console.log(qty); //
};

// calculation of the liquidation price of a position
const myLiqPrice = () => {
  const price = liqPrice(
    25986.2, //markPrice
    1981.66, // total collateral
    0.2, // positions size
    0.05 //MMR
  );
  console.log(myLiqPrice);
};
```

> **Note:** If you are a React developer, we recommend utilizing our React Hooks
>   library:[`@orderly.network/hooks`](/sdks/hooks/overview). It encapsulates all the calculation
>   formulas, and the hook internally manages the required data for computations.

#### Function list

##### account

- `IMR` - Calculate the IMR of the account.
- `availableBalance` - Calculate the available balance of the account.
- `currentLeverage` - Calculate the current leverage of the account.
- `freeCollateral` - Calculate the available collateral of the account.
- `maxQty` - Calculate the maximum quantity the account can open.
- `totalCollateral` - Calculate the total collateral of the account.
- `totalInitialMarginWithOrders` - Calculate the total initial margin of the account with orders.
- `totalMarginRatio` - Calculate the total margin ratio of the account.
- `totalUnrealizedROI` - Calculate the total unrealized return on investment of the account.
- `totalValue` - Calculate the total value of the account.

##### positions

- `MMR` - Calculate the MMR of the position.
- `liqPrice` - Calculate the liquidation price of the position.
- `maintenanceMargin` - Calculate the maintenance margin of the position.
- `totalNotional` - Calculate the total notional value of the position.
- `unrealizedPnL` - Calculate the unrealized profit and loss of an individual position.
- `unrealizedPnLROI` - Calculate the unrealized return on investment of an individual position.
- `totalUnrealizedPnL` - Calculate the total unrealized profit and loss of the positions.
- `unsettlementPnL` - Calculate the unsettlement profit and loss of an individual position.
- `totalUnsettlementPnL` - Calculate the total unsettlement profit and loss of the positions.


## Strategy Vault API

### Get Strategy Vault Info

Source: [https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-info](https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-info)

**GET** `/v1/public/strategy_vault/vault/info`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/vault/info`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | No | return all if empty |
| status | query | string | No | return all if no filter |
| broker_ids | query | string | No | can filter multiple broker_id per query. |


**Response:**
```json
{}
```



### Get Strategy Vault Performance

Source: [https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-performance](https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-performance)

**GET** `/v1/public/strategy_vault/vault/performance`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/vault/performance`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |


**Response:**
```json
{}
```



### Get Strategy Vault TVL/PnL History

Source: [https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-performance-chart](https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-performance-chart)

**GET** `/v1/public/strategy_vault/vault/performance_chart`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/vault/performance_chart`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| type | query | string | Yes | `PNL` / `TVL` |
| time_range | query | string | Yes | `24h` / `7d` / `30d` / `all_time` |


**Response:**
```json
{}
```



### Get Overall Statistics of all Strategy Vaults

Source: [https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-overall-statistics](https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-overall-statistics)

**GET** `/v1/public/strategy_vault/vault/overall_info`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/vault/overall_info`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| broker_ids | query | string | No | return all if no filter. can filter multiple broker_id per query |


**Response:**
```json
{}
```



### Get User Overall Statistics across Strategy Vaults

Source: [https://orderly.network/docs/strategy-vault/strategy-vault/public/user-overall-statistics](https://orderly.network/docs/strategy-vault/strategy-vault/public/user-overall-statistics)

**GET** `/v1/public/strategy_vault/user/overall_info`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/user/overall_info`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| wallet_address | query | string | Yes |  |


**Response:**
```json
{}
```



### Get Strategy Vault Liquidator History

Source: [https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-liquidator-history](https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-liquidator-history)

**GET** `/v1/public/strategy_vault/vault/liquidator_history`


Liquidated positions of liquidator

**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/vault/liquidator_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| symbol | query | string | No | only 1 at a time |
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |


**Response:**
```json
{}
```



### Get Strategy Vault Positions

Source: [https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-positions](https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-positions)

**GET** `/v1/public/strategy_vault/vault/positions`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/vault/positions`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |


**Response:**
```json
{}
```



### Get Strategy Vault Open Orders

Source: [https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-open-orders](https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-open-orders)

**GET** `/v1/public/strategy_vault/vault/open_orders`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/vault/open_orders`

Includes both normal & algo orders


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| symbol | query | string | No | one symbol at a time |
| sort_by | query | string | No | `ascending` / `descending` (default) on updated_time |
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |


**Response:**
```json
{}
```



### Get Strategy Vault Trade History

Source: [https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-trade-history](https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-trade-history)

**GET** `/v1/public/strategy_vault/vault/trade_history`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/vault/trade_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| symbol | query | string | No | one symbol at a time |
| sort_by | query | string | No | `ascending` / `descending` (default) |
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |


**Response:**
```json
{}
```



### Get Strategy Vault Order History

Source: [https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-order-history](https://orderly.network/docs/strategy-vault/strategy-vault/public/vault-order-history)

**GET** `/v1/public/strategy_vault/vault/order_history`


Include both normal & algo orders

**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/vault/order_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| symbol | query | string | No | one symbol at a time |
| sort_by | query | string | No | `ascending` / `descending` (default) on updated_time |
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |


**Response:**
```json
{}
```



### Request SP PnL Settlement

Source: [https://orderly.network/docs/strategy-vault/strategy-provider/private/request-sp-pnl-settlement](https://orderly.network/docs/strategy-vault/strategy-provider/private/request-sp-pnl-settlement)

**POST** `/v1/sv/sp_settle_pnl`


**Limit: 1 request per second**

`POST /v1/sv/sp_settle_pnl`




### Trigger Manual Period Delivery

Source: [https://orderly.network/docs/strategy-vault/strategy-provider/private/trigger-manual-period-delivery](https://orderly.network/docs/strategy-vault/strategy-provider/private/trigger-manual-period-delivery)

**POST** `/v1/sv/manual_period_delivery`


**Limit: 1 request per second per account**

`POST /v1/sv/manual_period_delivery`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |



### Add SP Orderly Key

Source: [https://orderly.network/docs/strategy-vault/strategy-provider/private/add-sp-orderly-key](https://orderly.network/docs/strategy-vault/strategy-provider/private/add-sp-orderly-key)

**POST** `/v1/sv/sp_orderly_key`


**Limit: 10 requests per second per IP address**

`POST /v1/sv/sp_orderly_key`

Adds an Orderly access key to a SP account




### Get Fund Outflow Allocation

Source: [https://orderly.network/docs/strategy-vault/strategy-fund/public/get-fund-outflow-allocation](https://orderly.network/docs/strategy-vault/strategy-fund/public/get-fund-outflow-allocation)

**GET** `/v1/sv/venue_withdrawal_history`


**Limit: 10 requests per second per account**

`GET /v1/sv/venue_withdrawal_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| period_number | query | number | No |  |
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |



### Get Orderly Protocol Revenue Sharing History

Source: [https://orderly.network/docs/strategy-vault/strategy-fund/public/get-orderly-protocol-revenue-sharing-history](https://orderly.network/docs/strategy-vault/strategy-fund/public/get-orderly-protocol-revenue-sharing-history)

**GET** `/v1/sv/protocol_revenue_share_history`


**Limit: 10 requests per second per account**

`GET /v1/sv/protocol_revenue_share_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |



### Get Fund Inflow Allocation

Source: [https://orderly.network/docs/strategy-vault/strategy-fund/public/get-fund-inflow-allocation](https://orderly.network/docs/strategy-vault/strategy-fund/public/get-fund-inflow-allocation)

**GET** `/v1/sv/venue_transfer_history`


**Limit: 10 requests per second per IP address**

`GET /v1/sv/venue_transfer_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| period_number | query | number | No |  |
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |



### Get Internal Transfer History

Source: [https://orderly.network/docs/strategy-vault/strategy-fund/public/get-internal-transfer-history](https://orderly.network/docs/strategy-vault/strategy-fund/public/get-internal-transfer-history)

**GET** `/v1/sv/internal_transfer_history`


**Limit: 10 requests per second per account**

`GET /v1/sv/internal_transfer_history`

Non-Vault Account to Strategy Provider Account


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |



### Get Liquidation Fees Sharing History

Source: [https://orderly.network/docs/strategy-vault/strategy-fund/public/get-liquidation-fees-sharing-history](https://orderly.network/docs/strategy-vault/strategy-fund/public/get-liquidation-fees-sharing-history)

**GET** `/v1/sv/liquidation_fees_share_history`


**Limit: 10 requests per second per account**

`GET /v1/sv/liquidation_fees_share_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |
|  |  | string | No |  |



## Liquidity Provider API

### Get Liquidity Provider Info

Source: [https://orderly.network/docs/strategy-vault/liquidity-provider/public/lp-info](https://orderly.network/docs/strategy-vault/liquidity-provider/public/lp-info)

**GET** `/v1/public/strategy_vault/lp/info`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/lp/info`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| wallet_address | query | string | Yes |  |
| vault_id | query | string | No | return all if empty |


**Response:**
```json
{}
```



### Get Liquidity Provider Fee History

Source: [https://orderly.network/docs/strategy-vault/liquidity-provider/public/fees-history](https://orderly.network/docs/strategy-vault/liquidity-provider/public/fees-history)

**GET** `/v1/public/strategy_vault/lp/fees_history`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/lp/fees_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| wallet_address | query | string | Yes |  |
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |
| start_t | query | number | No | start time range that wish to query |
| end_t | query | number | No | end time range that wish to query |


**Response:**
```json
{}
```



### Get Liquidity Provider Performance

Source: [https://orderly.network/docs/strategy-vault/liquidity-provider/public/lp-performance](https://orderly.network/docs/strategy-vault/liquidity-provider/public/lp-performance)

**GET** `/v1/public/strategy_vault/lp/performance`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/lp/performance`

Liquidity Provider’s performance in a vault


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| wallet_address | query | string | Yes |  |


**Response:**
```json
{}
```



### Get Liquidity Provider TVL/PnL History

Source: [https://orderly.network/docs/strategy-vault/liquidity-provider/public/lp-performance-chart](https://orderly.network/docs/strategy-vault/liquidity-provider/public/lp-performance-chart)

**GET** `/v1/public/strategy_vault/lp/performance_chart`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/lp/performance_chart`

Liquidity Provider’s TVL/PnL history in a vault


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| wallet_address | query | string | Yes |  |
| type | query | string | Yes | `PNL` / `TVL` |
| time_range | query | string | Yes | `24h` / `7d` / `30d` / `all_time` |


**Response:**
```json
{}
```



### Get Liquidity Provider Transaction History

Source: [https://orderly.network/docs/strategy-vault/liquidity-provider/public/lp-transaction-history](https://orderly.network/docs/strategy-vault/liquidity-provider/public/lp-transaction-history)

**GET** `/v1/public/strategy_vault/lp/transaction_history`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/lp/transaction_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| wallet_address | query | string | Yes |  |
| type | query | string | No | `deposit` / `withdrawal` / return all if empty |
| chain_id | query | string | No | return all if empty |
| source | query | string | No | `wallet` / `broker_id` / return all if empty |
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |


**Response:**
```json
{}
```



### Get Liquidity Provider Claim Info

Source: [https://orderly.network/docs/strategy-vault/liquidity-provider/public/lp-claim-info](https://orderly.network/docs/strategy-vault/liquidity-provider/public/lp-claim-info)

**GET** `/v1/public/strategy_vault/lp/claim_info`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/lp/claim_info`

The claimable asset amount on a chain from the processed withdrawal request(s) of a vault


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| wallet_address | query | string | Yes |  |
| chain_id | query | string | Yes |  |


**Response:**
```json
{}
```



## Strategy Provider API

### Get Strategy Provider’s Info

Source: [https://orderly.network/docs/strategy-vault/strategy-provider/public/get-strategy-providers-info](https://orderly.network/docs/strategy-vault/strategy-provider/public/get-strategy-providers-info)

**GET** `/v1/public/strategy_vault/sp/info`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/sp/info`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| wallet_address | query | string | Yes |  |


**Response:**
```json
{}
```



### Get Strategy Provider Transaction History

Source: [https://orderly.network/docs/strategy-vault/strategy-provider/public/sp-transaction-history](https://orderly.network/docs/strategy-vault/strategy-provider/public/sp-transaction-history)

**GET** `/v1/public/strategy_vault/sp/transaction_history`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/sp/transaction_history`

View Strategy Provider Transaction History


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| wallet_address | query | string | Yes |  |
| type | query | string | No | `deposit` / `withdrawal` / return all if empty |
| chain_id | query | string | No | return all if empty |
| source | query | string | No | `wallet` / `broker_id` / return all if empty |
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |


**Response:**
```json
{}
```



### Get Strategy Provider Claimable Amount

Source: [https://orderly.network/docs/strategy-vault/strategy-provider/public/sp-claim-info](https://orderly.network/docs/strategy-vault/strategy-provider/public/sp-claim-info)

**GET** `/v1/public/strategy_vault/sp/claim_info`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/sp/claim_info`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| wallet_address | query | string | Yes |  |
| chain_id | query | string | Yes |  |


**Response:**
```json
{}
```



### Get Strategy Provider Fee History

Source: [https://orderly.network/docs/strategy-vault/strategy-provider/public/sp-fees-history](https://orderly.network/docs/strategy-vault/strategy-provider/public/sp-fees-history)

**GET** `/v1/public/strategy_vault/sp/fees_history`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/sp/fees_history`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| wallet_address | query | string | Yes |  |
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |


**Response:**
```json
{}
```



## Strategy Fund API

### Get Strategy Fund Details

Source: [https://orderly.network/docs/strategy-vault/strategy-fund/public/get-strategy-fund-details](https://orderly.network/docs/strategy-vault/strategy-fund/public/get-strategy-fund-details)

**GET** `/v1/public/strategy_vault/fund/info`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/fund/info`

View Strategy Fund Info


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| wallet_address | query | string | Yes |  |


**Response:**
```json
{}
```



### Get Period History and Fund Period Instructions

Source: [https://orderly.network/docs/strategy-vault/strategy-fund/public/get-period-history-and-fund-period-instructions](https://orderly.network/docs/strategy-vault/strategy-fund/public/get-period-history-and-fund-period-instructions)

**GET** `/v1/public/strategy_vault/fund/period_info`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/fund/period_info`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| wallet_address | query | string | Yes |  |
| period_number | query | string | No |  |
| page | query | number | No | the page you wish to query start from 1 |
| size | query | number | No | the page size you wish to query (max: 500) |


**Response:**
```json
{}
```



### Get Preview Users Pending Requests

Source: [https://orderly.network/docs/strategy-vault/strategy-fund/public/get-preview-users-pending-requests](https://orderly.network/docs/strategy-vault/strategy-fund/public/get-preview-users-pending-requests)

**GET** `/v1/public/strategy_vault/fund/pending_transactions`


**Limit: 10 requests per second per IP address**

`GET /v1/public/strategy_vault/fund/pending_transactions`


**Parameters:**

| Name | In | Type | Required | Description |
|------|-----|------|----------|-------------|
| vault_id | query | string | Yes |  |
| wallet_address | query | string | Yes |  |


**Response:**
```json
{}
```



## NEAR Smart Contract API

### Smart Contract Addresses

Source: [https://orderly.network/docs/build-on-near/smart-contract-api/smart-contract-addresses](https://orderly.network/docs/build-on-near/smart-contract-api/smart-contract-addresses)

#### Mainnet

[asset-manager.orderly-network.near](https://nearblocks.io/address/asset-manager.orderly-network.near)

The asset manager contract is the main Smart Contract of Orderly which acts as a custodial account to provide the best user experience possible for an on-chain exchange with it's low fees, fast trade execution, and deep liquidity.The contract stores the following information:

* NEAR Account ↔︎ Orderly / Trading Key mappings

* Balance of each account in Orderly

* Whitelist of permitted assets for the contract

* Whitelist of permitted trading pairs

The contract has the following usages:

* Allows users to create an account - i.e. bind their NEAR account\_id with specific Orderly trading keys

* Allows users to deposit whitelisted assets to their Orderly account

* Allow users to withdraw their assets from their Orderly account

* Settles executed trades by updating balances of all users on-chain after receiving trade executions

#### Testnet

[asset-manager.orderly.testnet](https://testnet.nearblocks.io/address/asset-manager.orderly.testnet)

Same functionality as the mainnet

[ft-faucet-usdc.orderly.testnet](https://testnet.nearblocks.io/address/ft-faucet-usdc.orderly.testnet)

Fungible token contract which is a USDC faucet for Orderly testnet environement.


### Withdrawal

Source: [https://orderly.network/docs/build-on-near/smart-contract-api/withdrawal](https://orderly.network/docs/build-on-near/smart-contract-api/withdrawal)

#### Quick Overview:

Go to our [withdrawal page](https://app.orderly.network/near), or interact with the contract directly.

#### Check balances

`get_user_token_balances`

`near view asset-manager.orderly-network.near get_user_token_balances '{"user": "bmhc.near"}' --networkId mainnet`


Parameters:

```css
View call: asset-manager.orderly-network.near.get_user_token_balances({"user": "bmhc.near"})
[
  [
    'a0b86991c6218b36c1d19d4a2e9eb0ce3606eb48.factory.bridge.near', // tokenAccoutId
    { balance: '3667917', pending_transfer: '0' } // tokenBalance
  ],
  ...
]
```

#### Withdraw the asset

`user_request_withdraw`

`near call asset-manager.orderly-network.near user_request_withdraw '{"token": "$tokenAccoutId", "amount": "$tokenAmount"}' --accountId spring2022.near --depositYocto 1 --gas 120000000000000 --networkId mainnet`


### Storage Staking

Source: [https://orderly.network/docs/build-on-near/smart-contract-api/storage-staking](https://orderly.network/docs/build-on-near/smart-contract-api/storage-staking)

#### Storage Deposit

`storage_deposit`

Parameters:

```css
args: {
    account_id: "NEAR account" //optional
    registration_only: "bool"  //optional
}
```

Registers an account in the smart contract/Deposit storage fee\*

\*_It cannot be used without any deposit attached_

This API creates a NEAR account\_id in the Orderly contract or is used to top up storage deposit and is a payable method, thus requires a specified amount of NEAR to be attached when first registering an account. The required amount can be retrieved using `storage_balance_bounds`. 

If `registration_only`\=`true`only the minimum required NEAR amount to register an account is accepted which can be retrieved using `storage_balance_bounds`. This cannot be true if the account already exists.

If the account already exists or the value of `registration_only`\=`false,`it can also be omitted.

> **Note:** Any data stored in the contract, such as setting Access/Trading keys, token balance, etc., requires storage staking as per [NEAR architecture](https://docs.near.org/concepts/storage/storage-staking)

#### Check Storage Deposit Balance

`storage_balance_of`

Parameters:

```css
args: {
    account_id: accountId,
}
```

#### Check the Cost of Creating an Account

`storage_balance_bounds`

Parameters:

`none`

Queries min and max values of storage cost required for initial registration (only use the min value)

#### Check the Cost of Setting Access Key

`storage_cost_of_announce_key`

Parameters:

`none`

Setting each Access Key requires a storage deposit

#### Check the Cost of Having a Token

`storage_cost_of_token_balance`

Parameters:

`none`

Depositing each new token requires a storage deposit

#### Withdraw Storage Deposit

`storage_withdraw`

Parameters:

```
args: {
    //optional, if amount=null, the full available balance will be refunded
    amount: "Amount of NEAR to withdraw",
}
```

Withdraw a specified amount of NEAR from storage staking

#### Close the Account

`storage_unregister`

Parameters:

```
//Requires exactly 1 yochtoNEAR attached
args: {
    //if force=true, the remaining tokens in the account will burn and close the account
    force: bool,
}
```

##


## Optional

### Affiliate & Referral Program (Legacy)

Source: [https://orderly.network/docs/introduction/be-a-broker/affiliate-referral-program](https://orderly.network/docs/introduction/be-a-broker/affiliate-referral-program)

#### Overview

The referral system is a crucial component of the Orderly ecosystem, designed to incentivize user growth and engagement through a structured rewards program. 

A broker can choose to share part of its broker fees to incentives a distributor/affiliate/referrer for bringing in new traders.
The ecosystem consists of three key participants: 

1.  **The Broker (Dex):** The Dex built on Orderly. Brokers determine the fee structures and maximum rebate limits.
2.  **The Referrer (Affiliate):** A user (e.g., a KOL, influencer, or community leader) who invites others to trade. They can modify the fee split between themselves and the trader, but not the maximum rebate limit.
3.  **The Referee (Trader):** The new user who signs up using a referral code.

#### How It Works

##### 1. The Binding Process
The Binding is established when a new user (Referee) connects to a Broker and enters a referral code, their account is permanently "bound" to the Referrer. A bound referral code can't be removed or modified after binding.


##### 2. The Reward Split
When a Referee executes a trade, the trading fee is split automatically. Orderly Network retains a base protocol fee, and the remaining **Broker Fee** is distributed among the Broker, Referrer, and Referee based on the configured rebate settings.

*   **Referrer Rebate:** Commission earned by the affiliate for inviting the user.
*   **Referee Rebate:** A discount returned to the trader, incentivizing them to use the referral code.
*   **Broker Revenue:** The remaining portion of the fee retained by the platform.

#### Example Calculation

The following example demonstrates how fees flow between parties.

**Scenario:**
*   **Orderly Base Fee:** 3 bps Taker fee and 0 bps Maker fee.
*   **Broker Fee Structure:** 6 bps (0.06%) Taker Fee and 3(0.03%) bps Maker Fee.
*   **Broker Net Profit for each trade(regardless of maker/trader):** 3 bps.

**Referral Configuration:**
The Broker generates a code for a KOL with an **80% Max Rebate**, split **50:50** between the Referrer and Referee.

| Party | Share of Net Profit | Calculation |
| :--- | :--- | :--- |
| **Total Net Profit** | **100%** | **3 bps** |
| **Referee (Trader)** | 40% | Receives 40% of the 3 bps profit as a discount. |
| **Referrer (Affiliate)** | 40% | Receives 40% of the 3 bps profit as commission. |
| **Broker** | 20% | Retains the remaining 20% of the 3 bps profit. |

**In Dollar Terms:**
If a user generates **$10 USDC** in *Net Broker Fees*:
1.  **$4.00** is returned to the Trader (Referee).
2.  **$4.00** is credited to the Affiliate (Referrer).
3.  **$2.00** is retained by the Broker.

#### Configuration for Brokers

Brokers manage referral codes and rebate rates via the Orderly Admin Console.


**Admin console:** [https://admin.orderly.network/referral](https://admin.orderly.network/referral)

Click ""+ create code" button.


##### Setup Fields

A pop up window will appear for Brokers to create a referral code for an address.


1.  **User Address:** The wallet address of the Affiliate (Referrer) who will own this code.
2.  **Referral Code:** The unique string traders will enter (e.g., `REFFCODE1`).
3.  **Max Rebate:** The total percentage of the Broker's Net Profit allocated for rebates (e.g., 80%).
4.  **Split Slider:** Determines how the rebate is divided:
    *   **Referrer Rebate:** The percentage of the rebate the Affiliate keeps.
    *   **Referee Rebate:** The percentage of the rebate returned to the Trader.

#### Distribution

Rewards are calculated automatically by the Orderly protocol.

*   **Frequency:** Rewards are typically distributed **daily**.
*   **Currency:** Payouts are settled in **USDC**.

#### Auto referral system


Similar to the affiliate system, the auto-referral system grants traders a referral code once they reach a specific trading volume. This means that instead of manual entry, traders are automatically assigned a code based on their trading activity.


### FAQ

Source: [https://orderly.network/docs/introduction/faqs](https://orderly.network/docs/introduction/faqs)

**What is Orderly?:**

Orderly is a combination of an orderbook-based trading infrastructure and a robust liquidity layer offering perpetual futures orderbooks. Unlike traditional platforms, Orderly doesn’t have a front end; instead, it operates at the core of the ecosystem, providing essential services to projects built on top of it.

Our DEX white-label solution is carefully crafted to save builders time and capital while granting access to our bootstrapped liquidity. Picture having the best features of CEXs while keeping settlements on-chain and maintaining full self-custody.

With Orderly, anyone can create a trading application thanks to our seamless plug-and-play experience leveraging our liquidity and composability.

Looking ahead, our grand vision is to create an omnichain protocol, connecting traders from both EVM and non-EVM chains within the same orderbook.

  

  **How do I get started?:**

  ## For traders:
    Traders can start using any interface built on Orderly listed on [this](/introduction/trade-on-orderly/brokers) page

    ## For Developers and API traders:


  - [EVM Quick Start](/build-on-omnichain/building-on-omnichain): 
  - [NEAR Quick Start](/build-on-near/building-on-near): 

  

**What can I do on Orderly?:**

  Developers can build a full suite of products:

**Brokers:** Create your own Perps DEX on EVM. Benefit from our professional trading infrastructure and deep liquidity.

**Perps Aggregators:** Unlock the power of shared orderbook and liquidity. Access to all of Orderly’s Perps ecosystem liquidity directly by creating a front-end.

**Wallets & Custodians:** Connect to Orderly and offer your users the best Swap rates for major assets. Build your own Swap widget powered by Orderly and open up our ecosystem to all your users.

**Trading Desks & Sophisticated Traders** Use our API and enjoy a CEX-level trading experience thanks to our low-latency orderbook.

**Games/dApps:** Enhance your in-app experience and token utility with our in-game Swaps using the built-in widget. Keep your users engaged in your app and avoid redirecting them to third parties.

**Trading Bots:** Connect to our orderbook and offer the industry’s best Perps rates. Enjoy SL/limit orders, gasless transactions, and fully customizable fees.

**Hedging:** Safeguard your positions on other exchanges by using our orderbook for effective hedging strategies.


Traders can explore an ecosystem of front-ends built on Orderly. A comprehensive list can be found [here](/introduction/trade-on-orderly/brokers).

  
  **How are trading fees calculated/charged?:**


    Fees are deducted from the converted token for spot(e.g. converting USDC to ETH will incur fees in ETH) and added to the cost position for perps (denominated in USDC).

    Each broker sets their own fee rates.

  

**Can I list my token on Orderly?:**

  Yes! We are always looking to list more tokens on the platforms. Please [reach
  out](mailto:product@orderly.network) to us if you want your token listed.


**What are the different order types?:**

  **MARKET:** It matches until the full size is executed. If the size is too large (larger than the
  whole book) or the matching price exceeds the price limit (refer to `price_range`), then the
  remaining quantity will be canceled. **IOC (Immediate or Cancel):** It matches as much as possible
  at the order\_price. If not fully executed, then the remaining quantity will be canceled. **FOK
  (Fill or Kill):** If the order can be fully executed at the order\_price, then the order gets
  fully executed otherwise would be canceled without any execution. **POST ONLY:** If the order
  executes with any maker trades at the time of placement, then it will be canceled without any
  execution. **REDUCE ONLY:** Executes buy or sell orders which only reduce a current position


  **How do you ensure no fake orders are settled on-chain?:**

    All orders coming into the Orderly off-chain matching engine are signed by users' private trading keys and are settled on-chain with those signatures. Public keys are stored on the contract and the signatures are verified thus validifying orders.

    The above model ensures that even in the event operator gets compromised, no fake orders are executed and all user funds are safe.

  

  **Are there code examples or tutorials for how to build on Orderly?:**

    Yes! This documentation includes code examples throughout and you can find full tutorials/sdk with code examples here:

    [EVM SDK](/sdks/overview)


### Security

Source: [https://orderly.network/docs/introduction/security](https://orderly.network/docs/introduction/security)

#### Audits

Orderly has been audited by multiple security firms, including [Halborn](https://www.halborn.com/), [Zellic](https://www.zellic.io/), [Guardian Audits](https://guardianaudits.com/), and several independent consultants. All audit reports can be found on our [GitHub](https://github.com/OrderlyNetwork/Audits)

Trusted and incubated by WOO Network

#### Governance

Updates to the protocol are governed and approved by a multi-sig approver mechanism with signers who have the deepest interest in the success of Orderly


### Delisting Standards

Source: [https://orderly.network/docs/introduction/delisting-standards](https://orderly.network/docs/introduction/delisting-standards)

When deciding on delisting, Orderly comprehensively considers the following four aspects. Additionally, projects that fail to meet the absolute minimum threshold outlined below will be subject to direct delisting, irrespective of their performance in other metrics.

##### Direct Delisting Threshold

Trading Volume Floor: Any project whose monthly trading volume consistently falls below the absolute threshold of $20 million will be directly delisted. This threshold serves as a fundamental indicator of a project's minimum viable market presence and liquidity.

##### Evaluation Metrics

The following four aspects are used for comprehensive evaluation and scoring:

**1. Trading Volume**

Orderly sets a benchmark value for the monthly trading volume of a project. This benchmark is one of the important indicators for evaluating a project's market activity and user engagement. If a project's monthly trading volume meets or exceeds this benchmark, it receives a full score. If the monthly trading volume falls below this standard, the score is adjusted proportionally to reflect the project's market appeal and user transaction frequency. In a highly competitive market, monthly trading volume provides an intuitive and real-time reflection, helping us gain deeper insights into the project's sustainability.

**2. Number of Trading Users**

Based on the set benchmark for the monthly number of trading users, Orderly believes this metric directly reflects the project's active community and user engagement. If the number of users meets or exceeds this benchmark, it receives a full score. If the number falls below this standard, the score is adjusted proportionally. This metric is crucial as it not only reflects users' trust in the project but also hints at the project's competitiveness and prospects in the market. Additionally, active user participation may lead to higher brand recognition and network effects, which are vital for the platform's long-term development.

**3. FTT (Number of New Users)**

Orderly sets a monthly FTT benchmark value, representing the circulation and demand intensity of the project's token in the market. If the monthly FTT meets or exceeds this benchmark, it receives a full score. If it falls below this standard, the score is calculated proportionally based on the actual value. The level of FTT reflects users' recognition of the project and their motivation to participate, making it an undeniably important metric. By monitoring changes in FTT, Orderly can better assess the project's potential value and its significance within the ecosystem.

**4. CMC/Coingecko Ranking**

Orderly scores projects based on their ranking on CMC or Coingecko. This ranking can be seen as a general market recognition of the project's value. Specifically, projects within certain ranking ranges receive different scores. Projects with superior rankings receive higher scores. Additionally, Orderly may apply manual score adjustments in special cases. For example, early-stage projects promoted under specific business strategies or ecosystems may receive additional points. This approach allows us to identify and incorporate promising early-stage opportunities into our ecosystem.

##### Additional Reference Metrics

Open Interest (OI): This is an important reference metric reflecting the total number of outstanding contracts in the market at a specific point in time. High OI typically indicates strong interest and market participation in the contract, enabling Orderly to gauge market sentiment and investor activity.

Target Market Demand: Analyzing the specific demands of the project's target market helps Orderly assess its future growth potential and competitive landscape.

Project Development Dynamics: Regularly tracking the project's technical improvements, community activities, partnerships, and other developments provides valuable information for the overall evaluation.

##### Evaluation Notes

The specific numerical values and scoring calculation methods for each evaluation criterion have been hidden to protect Orderly's strategies and competitive advantages.

Please note that the above criteria may be adjusted based on market changes and business needs to maintain the timeliness and accuracy of the evaluation.


### Introduction overview

Source: [https://orderly.network/docs/troubleshooting/introduction](https://orderly.network/docs/troubleshooting/introduction)

For any integration related questions please first refer to [integration FAQ](/build-on-omnichain/integration-faqs) page

A list of common issues and how to diagnose them can be found within this navigation.

A customer support dashboard to retrieve user account state and history can be found [here](https://orderly-dashboard.orderly.network/)

If you are still having issues, please submit a ticket on our [Discord server](https://discord.gg/orderlynetwork).


### Stuck/delayed withdrawals

Source: [https://orderly.network/docs/troubleshooting/user-issues/withdrawal-issues](https://orderly.network/docs/troubleshooting/user-issues/withdrawal-issues)

> **Note:** Withdrawals to some chains take longer (Polygon for example) because it takes longer to get to
>   transaction finality. Withdrawals are not instant and may take a few minutes.

If users are having issues with withdrawals please do the following:


  **Step: First Step**

    Check our [Dune dashboard](https://dune.com/orderly_network/orderly-support-dashboard) and check
    if withdrawal went through to any chain. Sometimes users request withdrawal to the wrong chain.

    > **Note:** Make sure to refresh the dashboard before checking.

  
  **Step: Second Step**

  If that wasn't sucessful, please go to [LayerZero explorer](https://layerzeroscan.com/) and select "Source: Orderly" to check for any cross-chain message delays.

A list of messages appear with Ordelry as a source-chain for any withdrawals we have received and processed.

- If a message is in-flight and was created 10+ min ago, the withdrawals are seeing delay because of LayerZero cross-chain messages.

 
  **Step: Third Step**

  If the above steps weren't sucessful, please send a message to Orderly with

- User's address
- Withdrawal amount
- Approximate time the withdrawal was requested


### Stuck/delayed deposits

Source: [https://orderly.network/docs/troubleshooting/user-issues/deposit-issues](https://orderly.network/docs/troubleshooting/user-issues/deposit-issues)

Deposits do not reflect immediately in user's account.

If users are having issues with deposits please do the following:


  **Step: First Step**

    Check our [Dune dashboard](https://dune.com/orderly_network/orderly-support-dashboard) and check
    if deposit went through to any broker. Sometimes users deposit on one broker and expect the deposit to be reflected on another broker's site.

    If the deposit is seen on the Dune dashboard, the funds are in the user's account and most likely a front-end issue if the balance is not displaying.

    > **Note:** Make sure to refresh the dashboard before checking.

    > **Note:** Deposits times vary based on chain. Polygon deposit requires 500 block confirmations which takes about 20 minutes.

  

  **Step: Second Step**

  If that wasn't sucessful, please search user's wallet address on [LayerZero explorer](https://layerzeroscan.com/).

A message appears with Ordelry as a destination chain for any deposits we have received.

- If a message is in-flight, the deposit is processing.
- If a message is delivered, the deposit was processed.
- If no message appears, Orderly has not received or processed the deposit. Please proceed to next step.

**Example of a processed deposit on LZ scan**


  


 

  **Step: Third Step**

  If that wasn't sucessful, please send a message to Orderly with

- User's address
- Deposit amount
- Approximate time of deposit.


### Liquidation issues

Source: [https://orderly.network/docs/troubleshooting/user-issues/liquidation-issues](https://orderly.network/docs/troubleshooting/user-issues/liquidation-issues)

Please refer to our [Liqudations page](/introduction/trade-on-orderly/perpetual-futures/liquidations) for detailed information about how liquidations work.

**Common Issue Description:**

Positions are liquidated unexpectedly, often reported during high volatility.

**Troubleshooting Steps:**

- Review margin requirements and ensure they are met before trading.
- Check for any rapid price movements that might trigger liquidation.
- Verify the liquidation price and compare it with market data to confirm accuracy.


### Orders/position not closing at expected prices

Source: [https://orderly.network/docs/troubleshooting/user-issues/wrong-execution-price](https://orderly.network/docs/troubleshooting/user-issues/wrong-execution-price)

**Issue Description:**

Users find that their trading positions do not close at the set limit prices, affecting expected gains or losses.

**Troubleshooting Steps:**

- Confirm that the order was placed correctly and at the intended price.
- Check for any slippage due to market volatility or liquidity issues.
- Review the trading history to verify the order execution details.


  **Step: First Step**

    Confirm that the order was placed correctly and at the intended price.

    - If it is a limit order, check if a proper limit price was provided by the user and execution price is:

    1. greater than or equal to limit price for shorts.
    2. lower than or equal to limit price for longs

    - If it is a market order, check if slippage was provided during order placement, otherwise the price execution is not guaranteed. Execution price will have higher slippage on market orders especially during periods of high volatility.

  
  **Step: Second Step**

    If the execution is not adhered to the above please get in touch.


### EVM

Source: [https://orderly.network/docs/changelog/evm](https://orderly.network/docs/changelog/evm)

#### December 23rd, 2025 - Major Update


  
    
    
      **Testnet: December 19, 2025 14:00pm (UTC +8)**

      **Mainnet: December 23, 2025 14:00pm (UTC +8)**
    

  

  
    
    
      **New Features**

      - Vanguard referral program
      - Gold/Silver price feed integration
    

  

  
    
    
      **Platform Enhancements**

      - Zero downtime deployment
      - RWA base fee updates
      - System robustness improvements including trading checksum and reconciliation enhancements
      - WebSocket execution report symbol filtering
      - Batch update leverage functionality
      - Performance improvements and bug fixes
    

  


#### November 19th, 2025 - Major Update


  
    
    
      **Testnet: November 18, 2025 14:00pm (UTC +8)**

      **Mainnet: November 20, 2025 14:00pm (UTC +8)**
    

  

  
    
    
      **New Features**

      - Permissioned Vaults support
      - Staking Revamp with buyback mechanism
      - YUSD collateral support on BNB Chain
    

  

  
    
    
      **Platform Enhancements**

      - Vault rebalance API enhancements
      - Trading bug fixes including funding rate and engine improvements
      - System robustness improvements and settlement risk considerations
      - RWA volume API support
      - SDK API enhancements including chain info filtering and TradingView kline historical data
      - Performance improvements and bug fixes
    

  


#### October 14th, 2025 - Major Update


  
    
    
      **Testnet: October 16, 2025 2:00pm (UTC +8)**

      **Mainnet: October 17, 2025 2:00am (UTC +8)**
    

  

  
    
    
      **New Features**

      - RWA (Real World Assets) Trading
      - OmniVault SEI network support
      - CCTP v2 upgrade
    

  

  
    
    
      **Platform Enhancements**

      - Minimum trading fees configuration at broker level
      - Position history updates for bankrupt cases
      - Enhanced liquidation message notifications
      - Tokenomics API updates for total and circulating supply
      - Strategy Vault enhancements including new endpoints and status logic
      - Trading enhancements and system improvements
      - Security enhancements and documentation updates
    

  


#### September 13th, 2025 - Major Update


  
    
    
      **Testnet: September 10, 2025 2:00pm (UTC +8)**

      **Mainnet: September 13, 2025 5:00am (UTC +8)**
    

  

  
    
    
      **New Features**

      - Multi-collateral support on Solana Chain
      - Custom leverage per symbol
      - Internal transfer enhancements with wallet signature
      - ADL enhancements for insurance fund protection
    

  

  
    
    
      **Platform Enhancements**

      - Security enhancements including withdrawal checks and monitoring
      - Referral code sub-accounts volume support
      - Custom broker tier
      - Enhanced liquidation info and multi-collateral improvements
      - Solana dex account deposit/withdraw for Strategy Vault
      - Campaign enhancements and broker whitelist withdrawal
      - Documentation updates and bug fixes
    

  


#### August 12th, 2025 - Major Update


  
    
    
      **Testnet: August 8, 2025 3:00pm (UTC +8)**

      **Mainnet: August 12, 2025 5:00am (UTC +8)**
    

  

  
    
    
      **New Features**

      - Ceffu (OmniVault) integration
      - OmniVault SP sub-accounts support
      - DEX account deposit/withdraw for Strategy Vault
      - Trading blacklist functionality
    

  

  
    
    
      **Platform Enhancements**

      - User fee rate API updates
      - Valor claim history endpoint
      - Trading system enhancements and bug fixes
    

  


#### July 10th, 2025 - Major Update


  
    
    
      **Testnet: July 2, 2025 18:00pm (UTC +8)**

      **Mainnet: July 10, 2025 14:00pm (UTC +8)**
    

  

  
    
    
      **New Features**

      - Multi-Collateral support
      - Sub-accounts aggregate API
      - Campaign signup API
    

  

  
    
    
      **Platform Enhancements**

      - Performance improvements and bug fixes
    

  


#### June 3rd, 2025 - Major Update


  
    
    
      **Testnet: May 30, 2025 14:00pm (UTC +8)**

      **Mainnet: June 3, 2025 14:00pm (UTC +8)**
    

  

  
    
    
      **New Features**

      - Sub-accounts support
      - Added Abstract and Plume mainnet support
      - TP/SL with limit order type
    

  

  
    
    
      **Platform Enhancements**

      - Strategy Vault upgrades including new endpoints and status handling
      - Auto-generated referral codes can now be edited
      - Fixed next funding time calculation
      - Performance improvements and bug fixes
    

  


#### April 29th, 2025 - Major Update


  
    
    
      **Testnet: April 25, 2025 14:00pm (UTC +8)**

      **Mainnet: April 29, 2025 14:00pm (UTC +8)**
    

  

  
    
    
      **Ecosystem Expansion**

      - Added Solana staking and trading rewards functionality
      - Implemented global max OI cap per market pair for improved risk management
      - Released public builder leaderboard for increased transparency
    

  

  
    
    
      **Platform Enhancements**

      - Strategy Vault optimizations:
        - Improved APY formula and calculation
        - Added 30-day APY metric to vault info
        - Enhanced TVL and PnL data accuracy
        - Added minimum withdrawal amount functionality
        - Implemented PnL maximum drawdown tracking
      - Updated Builder Daily API with additional metrics
      - Enhanced Reduce Only (RO) order logic for improved reliability
      - Added support for automatic generated referral codes
      - Improved announcement API with support for types and update times
      - Added realized PnL tracking to builder daily reporting
      - Enhanced referral API with sorting capabilities
    

  


#### April 1st, 2025 - Documentation Update


  
    
    
      **Testnet: March 28, 2025 14:00pm (UTC +8)**

      **Mainnet: April 1, 2025 14:00pm (UTC +8)**
    

  

  
    
    
      **Updates**

      - Market maker reward leaderboard
      - Added filtering capability for Broker Admin to view non-default users
    

  


#### February 25th, 2025 - Major Update


  
    
    
      **Testnet: February 21, 2025 14:00pm (UTC +8)**

      **Mainnet: February 25, 2025 14:00pm (UTC +8)**
    

  

  
    
    
      **New Network Support**

      - Added support for Monad testnet
      - Added Ledger support for Solana network
    

  

  
    
    
      **System Enhancements**

      - Updated API domain
      - Implemented chain-specific trading volume attribution
      - Updated tiered base fee structure for brokers
      - Upgraded to Pyth Lazer for price feeds
    

  


#### January 21th, 2025 - Major Update


 
    
    
      **Testnet: January 17, 2025 14:00pm (UTC +8)**

      **Mainnet: January 21, 2025 14:00pm (UTC +8)**
    

  

  
    
    
      **Updates**

      - `GET /v1/referral/rebate_summary` add a new field traded_referral to track referral trades during the specified date

      - `GET v1/public/market_making_rewards/leaderboard` support all markets, and add est_score in the response, est_score = final Q score

      - Roadmap page

      - update MM Reward Multiplier

      - minor improvements and fixes
    

  


#### December 24th, 2024 - Major Update


 
    
    
      **Testnet: December 20, 2024 14:00pm (UTC +8)**

      **Mainnet: December 24, 2024 14:00pm (UTC +8)**
    

  

  
    
    
      **Updates**

      - Morph support

      - Story supported

      - \$ORDER OFT and Staking on Avalanche

      - Price source from Hyperliquid

      - new query parameters for liquidation API

      - minor improvements and fixes
    

  
  


#### November 26th, 2024 - Major Update


 
    
    
      **Testnet: November 22, 2024 14:00pm (UTC +8)**

      **Mainnet: November 26, 2024 14:00pm (UTC +8)**
    

  

  
    
    
      **Updates**

      - Avalanche support

      - Solana Mainnet supported

      - Reward Switch to esORDER

      - Pyth Integration

      - add pending treasury info to Valor pool info API

      - minor improvements and fixes
    

  
  


#### October 29th, 2024 - Major Update


 
    
    
      **Testnet: October 25, 2024 14:00pm (UTC +8)**

      **Mainnet: October 29, 2024 14:00pm (UTC +8)**
    

  

  
    
    
      **Updates**

      - Solana testnet support

      - minor improvements and fixes
    

  
  


#### September 24th, 2024 - Major Update


  
    
    
      **Testnet: September 20, 2024 14:00pm (UTC +8)**

      **Mainnet: September 24, 2024 14:00pm (UTC +8)**
    

  

  
    
    
      **Updates**

      - Funding rate history comparison API

      - Position History API

      - Fund transfer between accounts

      - unsettled PnL now considered in withdrawal checks
    

  
  


#### August 27th, 2024 - Major Update


  
    
    
      **Testnet: August 23, 2024 14:00pm (UTC +8)**

      **Mainnet: August 27, 2024 14:00pm (UTC +8)**
    

  

  
    
    
      **Updates**

      - The \$ORDER token has been released. Please check the [\$ORDER token overview](/introduction/tokenomics/overview-of-order)

      - Trading rewards APIs

      - Market making rewards APIs

      - Staking & VALOR APIs

      - Minor bugfixes and improvements
    

  
  


#### July 30th, 2024 - Minor Update


  
    
    
      **Testnet: July 26, 2024 14:00pm (UTC +8)**

      **Mainnet: July 30, 2024 14:00pm (UTC +8)**
    

  

  
    
    
      **Updates**

      - New endpoint /v1/public/futures_market to get market volume filtered by builder

      - New endpoint /v1/public/balance/stats to get TVL (total balance & unsettled PnL) by builder

      - New endpoint /v1/public/campaign/check to verify that given address meets certain constraints in specific campaign

      - Minor bugfixes and improvements
    

  
  


#### June 25th, 2024 - Minor Update


  
    
    
      **Testnet: June 21, 2024 14:00pm (UTC +8)**

      **Mainnet: June 25, 2024 14:00pm (UTC +8)**
    

  

  
    
    
      **Updates**

      - Adding optional `level` parameter to /v1/order POST body, which allows to use the price of bid0 to bid4 or ask0 to ask4

      - Adding optional `post_only_adjust` parameter to /v1/order POST body. Default value is false. If it is set to true, then it will adjust price to 1 tick close to current best price. Only supported for `POST_ONLY` type orders

      - New endpoint /v1/get_broker to fetch all brokers where given address has been registered

      - Performance improvements
    

  
  


#### May 28th, 2024 - Minor Update


    
    
    
      **Testnet: May 24, 2024 14:00pm (UTC +8)**

      **Mainnet: May 28, 2024 14:00pm (UTC +8)**

    

  

    
    
    
      **Expanding to Mantle**

      The multichain expansion is progressing, and we are excited to announce our launch on Mantle, along with the introduction of support for USDC.e on the Mantle network.

    

  

    
    
    
      **Updates**

      - New WebSocket topic for maintenance status

      - Adding optional "order_tag" param to /v1/public/campaign/user API

      - Adding optional sorting params to /v1/volume/broker/daily endpoint

      - Remove fee in the response in referral APIs

      - Add sort parameter to GET referee endpoint

      - Performance improvements


    

  


#### April 16, 2024 - Minor Update


    
    
    
      **New bracket order support**

We're pleased to introduce bracket orders to Orderly, a feature designed to enhance your trading strategy by automatically setting stop loss and take profit orders alongside your primary trade. This functionality allows you to better manage risk and lock in profits without constant market monitoring.

    

  

    
    
    
      **Traders can now see realized PnL**

All order APIs now return realized PnL per position for orders closing or reducing open positions.

    

  

  
    
    
      **Updated endpoints**

Two new websocket topics `{broker_id}${symbol}@ticker` and `{broker_id}$tickers` to query each broker's voulme per market.

Two new endpoints for verifying and checking referral codes.

      

  


#### March 12, 2024 - Minor Update


      
    
    
      **Brokers are now chain specific**

Given Orderly's growth of supported chains, we understand some projects choose to only focus on certain chains, thus brokers can now choose which chain they want to operate on.

Supported brokers for each chain can be retrieved through `GET /v1/public/chain_info`

    

  

    
    
    
      **Automating rebates for trades with order tags**

We've heard your feedback! The rebates for trades with specific order_tag can now be automated by using our refferal system. Create a refferal code and use that refferal code in order_tag when submitting orders.

    

  

    
    
    
      **Introducing max slippage for market orders**

We are excited to announce a new feature to our trading platform: the Max Slippage Setting for Market Orders. This functionality allows traders to set a maximum slippage for their market orders, giving unprecedented control over order execution relative to the market's mid-price.

For buy market orders, this means your order will be fully or partially filled at price levels greater than the order book's mid-price adjusted by your specified slippage. Conversely, sell market orders will be executed at price levels less than the mid-price, also adjusted by your chosen slippage. This ensures that your orders are executed within your comfort zone of market price movement, enhancing predictability and control over your trading outcomes.

For example, if the mid-price for MATIC is $1 and you place a buy market order with a 0.02% slippage, only portions of the order that meet the slippage criteria will be executed, with any remaining quantity being canceled. This precision ensures that you achieve the best possible price, according to your specified tolerance for slippage.

    

  

  
    
    
      **Updated endpoints**

Orders with an order_tag can now be retrieved via `GET /v1/orders` & `GET /v1/algo/orders` APIs with the new order_tag parameter.

Enhancements to `GET /v1/referral/info` API, adding the following data in response:

- **For referrers:**
  - 1d_referrer_rebate

  - 7d_referrer_rebate

  - 30d_referrer_rebate

  - total_referrer_rebate

- **For referees:**
  - 1d_referee_rebate

  - 7d_referee_rebate

  - 30d_referee_rebate

  - total_referee_rebate

Adding volume and fees of all referrees for the refferal code in response for `GET /v1/referral/rebate_summary`

Adding maker and taker volume breakdown in `GET /v1/volume/broker/daily` API

Brokers can now retrieve total fees collected under the criteria (given broker_id, aggregate logic, order_tag filter, and etc.) + broker rebate via`GET /v1/volume/broker/daily` API

New query parameters in `GET /v1/referral/admin_info` API:

- New query parameter user_address, to filter all codes of the matching user_address only (should only match 1 account since the broker_id has to match the broker admin one)

- New query parameter account_id, to filter all codes of the matching account_id only

- **NOTE:** Only user_address or account_id can be provided

Ability to change the referral code's rebate split via `POST /v1/referral/edit_split`

Additional response fields in `GET /v1/referral/admin_info` API:

- total_referrer_rebate = Lifetime total referrer rebate on this code

- total_referee_rebate = Lifetime total referee rebate on this code

Additional responses in `GET /v1/public/campaign/ranking` and `GET /v1/public/campaign/user` APIs:

    - total_deposit_amount

    - total_withdrawal_amount

    - start_account_value

    - end_account_value (which is current_account_value)

Increased update frequency of `GET /v1/volume/broker/daily` API to hourly from daily

Added address in the response for `GET /v1/volume/broker/daily`

      

  


#### February 5, 2024 - Major Update


  
    
    
      **Introducing the new referral system**

      We've heard your feedback and delivered! The long-awaited Orderly Referral System is finally here, marking a significant milestone in enhancing our platform. Tailored to enrich our community, this system introduces an exciting way for our existing users to connect with new users, strengthening our network through shared rewards.

      At the core of this initiative is a straightforward yet rewarding referral mechanism. Users can easily generate a personalized referral code and share it with potential new members.

      All endpoints for the referral system can be found under the ["Referral Program"](/build-on-omnichain/evm-api/restful-api/private/create-referral-code) section.

      To learn more about how the Orderly Referral System works, refer to [this article](build-on-omnichain/user-flows/referral-system).

    

  

  
    
    
      **Introducing the new fee structure**

      We're thrilled to unveil the latest enhancement to our services: the Custom Trading Fee System. This innovative feature introduces a suite of flexible fee-setting options, allowing brokers to tailor fee structures to their unique user bases more effectively than ever before. By departing from the limitations of Orderly's standard fees, brokers now have the freedom to set fees that align perfectly with their strategies and customer profiles.

      We believe that this new feature will significantly enhance the developer experience on our platform, offering both improved user satisfaction and a competitive edge in the dynamic trading landscape.

      All fee rate settig endpoints are under the ["Fee Setting"](/build-on-omnichain/evm-api/restful-api/private/update-user-fee-rate) section.

      The fee tiers are now deprecated from `/v1/public/fee_futures/program`, `/v1/broker/user_info` and `account` websocket.

      New volume-based fee rate setting tool can be found on our [GitHub](https://github.com/OrderlyNetwork/orderly-evm-broker-fee-admin).

      To learn more about how the new fee structure works, refer to [this article](build-on-omnichain/user-flows/custom-fees).
      

  

  
    
    
      **Adding New Order Types: Take Profit/Stop Loss**

      Traders can now use more order types: stop loss/take profit and positional stop loss/take.

      Features include:

      **1. Three Trigger Price Options:** Initially available with the Mark Price, with future expansions to include Last Price and Index Price.

      **2. Auto-Cancellation of TP/SL Orders:** Take Profit (TP) and Stop Loss (SL) orders will be automatically canceled if the position is closed, ensuring more precise trade management.

      **3. Two Types of TP/SL Management:**

      **- Full/Entire Position TP/SL:** Apply TP/SL to the entire position with a limit of one maximum TP/SL per position.

      **- Partial Position TP/SL:** Offers the flexibility to define the amount of the position to be closed, with a maximum of 10 partial TP and 10 partial SL orders on each side.

      This update empowers traders to implement more dynamic and sophisticated trading strategies with enhanced risk management features. As always, we are committed to improving and expanding the capabilities of the Orderly to meet the evolving needs of our users.

      All "algo order" endpoints are ammended to add the new order types.
    

  

  
    
    
      **Introducing Smart Contract trading support**

      We are excited to announce the launch of the "Delegate Signer" feature in the Orderly, a new feature enabling Smart Contracts to trade.

      It allows Smart Contracts to assign an Externally Owned Account (EOA) to sign trades on their behalf using the EIP-712 signature. This solves the issue of Smart Contracts' inability to sign for trades, broadening trading capabilities on the Orderly platform.

      New EIP712 signature types for Delegate Signer functions can be found [here](/build-on-omnichain/user-flows/wallet-authentication).

      New Delegate Signer function on-chain. Docs can be found [here](/build-on-omnichain/user-flows/wallet-authentication).

      New Delegate Signer APIs under ["Delegate Signer"](/build-on-omnichain/evm-api/restful-api/public/delegate-signer) section.

      Full write-up of how Delegate Signer functionality works can be found in [this article](build-on-omnichain/user-flows/delegate-signer).
    

  


#### January 4, 2024 - Major Update


  
    
    
      **Introducing the new order types**

      Added create algo order(GET /v1/algo/order), edit algo order(PUT /v1/algo/order), cancel algo order(DELETE /v1/algo/order) and get algo order APIs(GET /v1/algo/order).

      Only STOP orders are supported for now.

    

  

  
    
    
      **Changes to deposit withdrawal flow**

      Deposits and Withdrawals now require a fee to cover cross-chain message cost to/from Orderly Ledger contract.

      Added withdraw_fee to each tokens in get token info(GET /v1/public/token) API

      Added allowCrossChainWithdrawal parameter to create withdraw request(POST /v1/withdraw_request) API

      Added PENDING_REBALANCE status for withdrawal request(POST /v1/withdraw_request) in REST and WSS
    

  

  
    
    
      **Introducing new endpoints to retrive user data**

      Added get account details (GET /v1/public/account) API

      Added get user statistics (GET /v1/client/statistics/daily) API

      Added get user fee tier(GET /v1/broker/user_info) API
    

  

  
    
    
      **Introducing new liquidation model**

      Added liquidation_tier parameter for each symbol

      Added symbols array and high/low risk perps in claim liquidated positions(POST /v1/liquidation) API
    

  


#### October 13, 2023 - Major Update


  
    
    
      **Updates to APIs**

      Added get vault chain info API

      Added tag parameter for adding Orderly Key

      Changed symbol in get user info API from e.g BTC to PERP_BTC_USDC
    

  


#### September 21, 2023 - Minor Update


  
    
    
      **Updates to APIs**

      Added Claim from insurance fund endpoint

      Added max_notional parameter to Get Insurance Fund Info and Get Account Information endpoints' response

      Added futures_tier parameter to Get Account Information endpoint
    

  


#### August 10, 2023 - Minor Update


  
    
    
      **Updates to APIs**

      Added Get PnL Settlement History API

      Added Liquidations on Account Websocket API

      Added reduce-only type of order

      Added limit_price parameter to Claim Liquidated Positions API

      Updated /insurancefund endpoint to /insurance_fund

      Updated symbol parameter of Get Liquidated Positions of Account API to not required


### TS SDK

Source: [https://orderly.network/docs/changelog/sdk](https://orderly.network/docs/changelog/sdk)

#### February 10, 2026 - v2.8.14


  
    
    
      **Features**
      - Added in left hand mode for mWeb
      - Hide announcements if their symbol list does not exist
    
  

  
    
    
      **Fixes**
      - Fixed a minor leverage setting error
    
  


#### January 30, 2026 - v2.8.13


  
    
    
      **Features**
      - Add a new RWA tab to the Market page
      - Add in tooltips for "hidden order", "Post Only", "IOC", "FOK" in order entry component
      - Optimize API requests, remove redundant API request.
    
  

  
    
    
      **Fixes**
      - Fix deposit button display logic on mWeb
      - Fix network switching issues with Privy login
    
  


#### January 16, 2026 - v2.8.12


  
    
    
      **Fixes**
      - Fixed a bug where Vault page tab couldn't be opened under certain scenarios.
    
  


#### January 14, 2026 - v2.8.11


  
    
    
      **Features**
      - Implemented a feature in the order book to show the buy vs sell order ratio, allowing users to quickly see which side has more orders.
      - Added clear explanations about liquidation fees in both the order entry form and position list.
      - Support for a new message type: "Community Vote" for announcements.
    
  

  
    
    
      **Fixes**
      - Fixed a bug with clearing leverage input.
    
  


#### December 19, 2025 - v2.8.10


  
    
    
      **Features**
      - Display est.pnl in reverse position modal.
      - MWeb – Show "Deposit" CTA when available balance is zero.
      - Liq. price display optimization for overflowing text.
      - Update position liquidation price calculation.
    
  

  
    
    
      **Fixes**
      - Fixed issue where Solana wallet disconnects on page refresh.
    
  


#### December 19, 2025 - v2.8.9


  
    
    
      **Features**
      - Users can now search by address or account ID to locate an account when withdrawing to Orderly accounts (Internal transfer).
      - Support for withdrawals to external Web3 wallets has been added. (Note: Brokers must submit an application to enable this feature.)
      - Enhanced the Reverse Position feature to handle additional edge cases (outside allowed range) and provide clearer user guidance.
    
  

  
    
    
      **Fixes**
      - Fixed an issue where the main account could not properly manage or edit sub-account positions.
      - Fixed a PnL calculation error on the Portfolio page.
    
  


#### December 9, 2025 - v2.8.8


  
    
    
      **Features**
      - Added Convert and Transfer tabs in Portfolio history.
    
  

  
    
    
      **Fixes**
      - Fixed TradingView symbol inconsistency issues.
      - Fixed behavior when Reduce-Only is enabled: TP/SL toggle should remain visible instead of hidden.
      - Fixed an issue where withdraw token options were not displayed.
    
  


#### December 2, 2025 - v2.8.6


  
    
    
      **Features**
      - One-click reverse position: allows users to instantly close their current open position and open an opposite position of the same size with a single action.
      - Optimize deposit / withdraw UX (friendly message for limits).
      - Prevent users from setting a stop loss (SL) too close to liquidation price.
      - Update the vaults APY display.
    
  


#### November 25, 2025 - v2.8.4


  
    
    
      **Features**
      - Kline optimization – expanded historical data.
      - Close/Cancel all or specific-symbol positions and pending orders.
      - Added deposit button next to available balance.
      - Removed deprecated account-level leverage display.
    
  

  
    
    
      **Fixes**
      - Fixed announcement read-state updates.
      - Fixed vault balance check for withdrawals.
      - Fixed PnL / notional display styling in position list.
    
  


#### November 12, 2025 - v2.8.2


  
    
    
      **Features**
      - Deposit UX enhancement: prioritize tokens with existing balances.
      - Friendly message for insufficient gas.
      - Display hints for yield-bearing collateral (e.g., YUSD).
      - Announcement UI enhancements.
      - One-click close all positions.
      - Display annualized funding rate.
      - Wallet connect: prioritize wallet options based on selected network.
    
  

  
    
    
      **Fixes**
      - Fix PnL calculation: should exclude transfer-ins.
      - Fix mark price and 24h change figure flickering issue.
      - Fix SL calculation (positive/negative sign conversion issue).
    
  


#### October 21, 2025 - v2.8.1


  
    
    
      **Features**
      - Optimized error messages for withdrawals.
      - Added quick options in the Limit Close modal.
      - Enhanced TP/SL form UI.
    
  

  
    
    
      **Fixes**
      - Fixed mweb styling issues.
      - Fixed estimated value calculation in Convert.
      - Fixed ROI calculation in shared PnL cards.
    
  


#### October 15, 2025 - v2.8.0


  
    
    
      **Features**
      - Support RWA markets.
      - Support ordering by initial margin.
      - Remember bar settings for next order when user sets order quantity using the bar.
    
  

  
    
    
      **Fixes**
      - Withdrawing to another account no longer requires limiting it by the vault balance.
    
  


#### September 30, 2025 - v2.7.4


  
    
    
      **Features**
      - Added Asset section to the trading page.
      - Moved sound notification settings to the Settings page (builders can still choose to display the toggle in the order entry panel).
      - Updated leverage scale display for improved clarity.
      - Added more user-friendly deposit error messages.
    
  

  
    
    
      **Bug Fixes**
      - Resolved issue with announcement content rolling.
    
  


#### September 24, 2025 - v2.7.3


  
    
    
      **Features**
      - Enable Vaults SDK support for Solana accounts.
      - Display message for minimum withdrawal amount.
      - Remove max account leverage setting (migrated to symbol-level leverage).
    
  


#### September 22, 2025 - v2.7.2


  
    
    
      **Features**
      - Sorting preferences for Positions and Position History are now remembered.
      - Enhanced transaction notifications — click to dismiss.
      - Drag to adjust order entry layout.
      - Update decimal places and rounding rules in Markets UI.
    
  

  
    
    
      **Bug Fixes**
      - Fixed black screen issue caused by cache.
      - Fix wallet switching issues.
      - Fixed unresponsive WalletConnect click.
    
  


#### September 19, 2025 - v2.7.1


  
    
    
      **Bug Fixes**
      - Fixed ROI / PnL calculation.
    
  


#### September 16, 2025 - v2.7.0


  
    
    
      **New Features**
      - Support adjust leverage by symbol to provide better flexibility.
    
  

  
    
    
      **Enhancements**
      - Make dragging to adjust TP/SL on chart smoother.
      - Announcement UI enhancement.
      - Advanced market UI options (Left / Top / Bottom / Hide).
    
  

  
    
    
      **Bug Fixes**
      - Fixed MWeb order time display issue.
    
  


#### September 9, 2025 - v2.6.3


  
    
    
      **New Features**
      - **Trailing stop orders**: A new order type that activates once the market reaches the set trigger price. After activation, it tracks the extreme price and triggers when the market retraces by the specified trailing amount.
      - **Enhanced liquidation info**: Displays more detailed account status data at the time of liquidation.
      - **Chart indicators on mWeb**: Users can now add indicators (e.g., volume) to charts on mobile web.
      - **Order API improvements**: Passes order_tag to distinguish orders from different routes.
      - **Orderbook preferences**: Remembers the user’s preferred orderbook granularity per token.
    
  

  
    
    
      **Bug Fixes**
      - Fixed orderbook average price calculation.
      - Fixed orderbook display flickering issues.
    
  


#### September 2, 2025 - v2.6.2


  
    
    
      **New Features**
      - Edit TP/SL on pending orders.
      - Added PnL information to mWeb portfolio.
      - Vaults page available on mWeb.
      - Added 0.5 step size to ETH aggregation.
    
  

  
    
    
      **Bug Fixes**
      - Fixed issue with TP/SL edit validation triggering too early
      - Fixed issue with undefined symbol in Order Book quotes
      - Fixed issue with editing scaled order
      - Fixed issue with orderbook avg price calculation
    
  


#### August 26, 2025 - v2.6.1


  
    
    
      **New Features**
      - Setting TP/SL directly from the TradingView chart.
      - Configuration option to toggle sound alerts on/off.
    
  

  
    
    
      **UI Enhancements**
      - Minimize mode: market bar can collapse to its smallest size.
    
  

  
    
    
      **Bug Fixes**
      - Fixed missing data in portfolio PnL chart.
    
  


#### August 19, 2025 - v2.6.0


  
    
    
      **New Features**
      - TP/SL with Limit Orders: 
        - Users can now set Partial TP/SL or Full Position TP/SL.
        - Users can choose to execute TP/SL with either a market order or a limit order.
        - <b>Note:</b> Full Position TP/SL only supports Market Orders, while Partial TP/SL supports both Market and Limit Orders.
      - Leaderboard campaigns: Added support for one-click “Join.”
      - Order Fill Notifications: Added sound alerts when orders are filled (configurable from settings).
    
  

  
    
    
      **UI/UX Enhancements**
      - Scaled order: Updated “Upper / Lower Price” to “Start / End Price” for better clarity.
      - Transactions: Display estimated time for pending transactions.
      - Deposit & Approval: Smoother experience for repeated approvals and deposits.
    
  


#### July 29, 2025 - v2.5.3


  
    
    
      **New Features**
      - Config option for custom perp symbol list
      - Improved close position UI
      - MWeb market close: added quantity selector
      - Real-time validation for price/quantity
      - Show leverage next to each position
      - Guide user to use PWA
      - Quick mid-price button for limit orders
      - ROI added to PnL card (Position history)
      - Auto-match collateral with deposit asset
      - Show fee in MWeb order history
    
  


  
    
    
      **Bug Fixes**
      - Fixed issue placing orders with “max qty”
      - Fixed withdrawal issue with max available
      - Corrected abstract wallet address display
      - Fixed wallet connectivity issues
      - RPC retry mechanism for improved reliability
      - Fixed WebSocket connection issues
    
  


#### July 22, 2025 - v2.5.2


  
    
    
      **New Features**
      - Full-Screen Mode: Expand the trading chart for a maximized viewing experience.
      - Configurable Slippage & Fee Display: Brokers can now choose whether to display slippage and fees.
      - Enhanced Header Navigation: Introduced a “More” menu for greater flexibility in customizing the navigation bar.
    
  

  
    
    
      **Bug Fixes**
      - Auto-clear validation errors on order type change.
      - Fixed incorrect sorting in the funding rate comparison section.
    
  


#### July 16, 2025 - v2.5.1


  
    
    
      **New Features**
      - Multi-Collateral Support: Users can now deposit multiple assets as collateral for trading([about multi-collateral](https://orderly.network/docs/introduction/trade-on-orderly/multi-collateral)).
      - Market UI Enhancements: Added sorting by symbol and volume across all market-related components.
      - Order Book Precision Control: Brokers can now configure the default number of decimals displayed on the order book per symbol.
      - Customizable Header Navigation: Brokers can now configure custom header navigation items to better tailor the interface to their needs.
    
  


#### July 7, 2025 - v2.4.1


  
    
    
      **New Features**
      - Scaled Order: Traders can now place a series of limit orders across a defined price range for scaled entries or exits. Supports quick distribution setup with flat, ascending, descending, or custom skew.
      - Configurable Sidebar (mweb): Added support for a customizable sidebar to enable quick access to frequently used pages.
    
  

  
    
    
      **UI/UX Enhancements**
      - Added user guidance when the favorites list is empty.
      - Leverage UI is now displayed at the top by default for improved visibility.
      - Improved error messaging when users exceed the maximum close size limit.
      - Updated trading volume color to enhance visual clarity.
    
  

  
    
    
      **Builder features**
      - Added a configuration option to enable social login methods (Privy Wallet).
    
  

  
    
    
      **Bug Fixes**
      - Resolved issues related to Solana wallet connection and network switching.
    
  


#### July 4, 2025 - v2.3.2


  
    
    
      **New Features**
      - Internal Transfers via Account ID: Enables users to perform internal transfers by withdrawing directly to another Orderly account using the `account_id`.
    
  

  
    
    
      **UI/UX Enhancements**
      - Removed decimal places from the Total (USDC) column in the order book for improved readability.
      - Updated default order size decimal settings for better clarity:
        - BTC: 1 decimal place
        - ETH: 0.1 decimal place
      - Funding Comparison: Added Open Interest display.
      - Language Selector added to the MWeb navigation bar.
      - One-Click Network Switch from Wallet Prompt: Users can now switch networks directly from the wallet prompt message when required.
    
  

  
    
    
      **Bug Fixes**
      - Fixed an issue where users were unable to edit their referral code on mweb.
    
  


#### June 20, 2025 - v2.3.0


  
    
    
      **New Features**
      - Users can now create sub-accounts to manage trading strategies or asset allocations separately.
      - The fee rate is now displayed directly in the Trading Panel.
      - Users can view estimated slippage and configure a maximum slippage threshold in the Trading Panel.
      - Adjusted affiliate UI to support automated configuration, improving user onboarding.
      - Display funding rate spread in the markets page to highlight arbitrage opportunities.
      - Redesigned the leaderboard to support campaign-based views and display campaign-specific data.
      - Markets page is now available on mobile.
      - Users can set the default orderbook view (e.g., Total BTC, Total USDC, Quantity BTC) on mobile.
    
  

  
    
    
      **UI/UX Enhancements**
      - Improved default volume color in TradingView charts for better clarity.
      - Refined layout for a cleaner, more readable trading chart.
    
  

  
    
    
      **Bug Fixes**
      - Fixed Solana wallet connect issue after repeated login/logout.
      - Fixed max account leverage not reflecting user settings.
      - Corrected estimated liquidation price for low-price coins.
      - Updated decimal precision for contract interactions.
    
  


#### May 30, 2025 - v2.2.0


  
    
    
      **New features**
      - Introduced a new Portfolio page in the mobile UI. Added a navigation bar for seamless page switching.
      - Integrated Abstract and Abstract Global Wallet.
      - Increased maximum account leverage to 100x, and updated the leverage UI accordingly.
    
  

  
    
    
      **UI/UX Enhancements**
      - Improved the symbol search algorithm to prioritize prefix matches, enabling faster and more accurate results.
    
  

  
    
    
      **Bug Fixes**
      - Fixed an issue on mobile where pull-to-refresh on the leaderboard failed to load new data and caused UI misalignment when not logged in.
    
  


#### May 26, 2025 - v2.1.3


  
    
    
      **UI/UX Enhancements**
      - Added sorting functionality to the Funding Rate Comparison section, allowing users to rank markets by rate values.
      - Replacing “Buy/Sell” with “Long/Short” for improved clarity and alignment with common trading language.
      - Sorting preference is now preserved when collapsing and expanding the market tab.
    

  

  
    
    
      **Bug Fixes**
      - Resolved an issue where error messages were not being displayed properly.
    

  


#### May 19, 2025 - v2.1.2


  
    
    
      **New default supported languages**
      - Русский (ru) — Russian
      - Bahasa Indonesia (id) — Indonesian
      - Türkçe (tr) — Turkish
      - Italiano (it) — Italian
      - Português (pt) — Portuguese
      - Українська (uk) — Ukrainian
      - Polski (pl) — Polish
      - Nederlands (nl) — Dutch
    
  

  
    
    
      **UI/UX Enhancements**
      - Clicking on the order book now sets the price and automatically switches the order type to Limit
      - Order input is preserved after submission
      - Integrated Announcement API with support for type and updated time
      - Redesigned language selection modal for improved usability
      - Added toggle to switch display between Coin and USDC in the order book
      - Referral code input now auto-capitalizes to prevent lowercase input issues
    

  

  
    
    
      **Bug Fixes**

      - Take-Profit offset (%) now updates with market price changes
      - Fixed portfolio page UI alignment (content now aligned to the top)
    

  


#### April 24, 2025 - v2.1.1


  
    
    
      **New default supported languages**
      - 日本語 (ja) — Japanese
      - Español (es) — Spanish
      - 한국어 (ko) — Korean
      - Tiếng Việt (vi) — Vietnamese
      - Deutsch (de) — German
      - Français (fr) — French
    
  

  
    
    
      **UI Enhancements**
      - Improved wallet connect modal styling
      - Enhanced announcement UI:
        - Added full text display option
        - Implemented rolling display for announcements
        - Auto-dismiss announcements on user interaction
      - Added time filter shortcuts for order history
      - Increased maximum trading chart height
      - Displayed user data in first row of leaderboard
      - Removed swap/trade toggle from SDK for streamlined interface
    
  


#### April 10, 2025 - v2.1.0


  
    
    
      **Wallet & Authentication Overhaul**
      
      - Redesigned wallet connect modal UI with dual wallet connection support (EVM / Solana)
      - Added email and social login capabilities through Privy integration
      - Implemented embedded wallet creation functionality for both EVM and Solana
      - Flexible configuration options for brokers to customize supported wallet types
    
  

  
    
    
      **Trading Leaderboard & Internationalization**

      - Comprehensive trading leaderboard showing past, ongoing, and upcoming campaigns
      - Real-time trading volume rankings for competitive user engagement
      - Full i18n support with English and Chinese languages included by default
      - Customizable localization tools for brokers to add and manage translations
      - New announcement UI for platform-wide notifications
    

  

  
    
    
      **Bug Fixes**

      - Fixed hostname display in link device modal to use current hostname
    

  


#### February 27, 2025 - v2.0.5


  
    
    
      **Network Enhancements**
      
      - Added Monad testnet support
      - Improved Solana RPC stability using Orderly backend proxy
    
  

  
    
    
      **UI Improvements and Bug Fixes**

      - Added navigation bar for tablet-sized displays (768-1024px)
      - Enhanced platform figures with Orderly logo integration
      - Fixed critical trading issues:
        - Corrected estimated liquidation price calculations
        - Resolved position closing and direction switching errors
        - Fixed position data handling for edge cases
        - Corrected network display issues in mobile web

    

  


#### February 14, 2025 - v2.0.4


  
    
    
      **Builder Configuration Improvements**
      
      - Added ability for builders to set default network
      - Enhanced network menu UI with dynamic testnet tab visibility
      - Removed story testnet environment
    
  

  
    
    
      **UI/UX Enhancements**

      - Improved fee display with negative values and color-coding for Liquidator and Insurance Fund fees
      - Added order timestamps to portfolio "all" orders tab
      - Enhanced PnL sharing functionality in position history
      - Fixed critical issues with PnL display, TVL calculations, and estimated liquidation price
    

  


#### February 8, 2025 - v2.0.3


  
    
    
      **Ledger Support for Solana**
      
      Added support for Ledger hardware wallet message signing on Solana network, enhancing security options for Solana users.
    
  

  
    
    
      **UI/UX Improvements**

      - Enhanced market tabs interface for better navigation
      - Improved chain icon loading states
      - Better QR code device linking with higher camera resolution and 30-day expiry
      - Clearer messaging for TP/SL orders, specifying Mark price as trigger price and Market order execution
      - Various bug fixes and performance improvements

    

  


#### January 17, 2025 - v2.0.2


  
    
    
      **QR Code Device Linking**
      
      Introducing QR code functionality to seamlessly link desktop and mobile devices, enhancing cross-device user experience.
    
  

  
    
    
      **Platform Enhancements**

      - Added broker controls for country and IP restrictions
      - Enhanced network menu UI for better usability
      - Improved TP/SL order messaging with clear mark price trigger explanations
      - Added symbol search functionality to funding rate page
      - Fixed regional number formatting to handle decimal separators consistently

    

  


#### May 19, 2024 - v1.5.4


  
    
    
      **Updates to @orderly.network/hook v1.5.4**

      Adding component IDs to component SDK for more customization options.

    

  


#### May 17, 2024 - v1.5.3


  
    
    
      **Updates to @orderly.network/hook v1.5.3**

      Bug fixes.

    

  


#### May 16, 2024 - v1.5.2


  
    
    
      **Updates to @orderly.network/hook v1.5.2**

     Bug fixes.

    

  


#### May 15, 2024 - v1.5.1


  
    
    
      **Updates to @orderly.network/hook v1.5.1**

      Bug fixes

    

  

  
    
    
      **Updates to @orderly.network/hook v1.5.1**

      * The SDK now supports the use order/position line features, even when using the free Advanced TradingView version.

      > **Note:** TradingView v27^ is required to integrate hoooks v1.5.0^

    
  


#### April 29, 2024 - v1.4.3


  
    
    
      **Updates to @orderly.network/hook v1.4.3**

      Fixes for some production bugs related to TP/SL, referral and PnL card sharing.

      Referral hooks are now a part of the hooks package.

    

  


#### April 26, 2024 - v1.4.0


  
    
    
      **Updates to @orderly.network/hook v1.4.0**

      Long awaited TP/SL orders are here. Introducing a new set of hooks for take profit and stop loss orders. Detailed documentation [here](/sdks/hooks/orders/use-tp-sl)

    

  


#### April 21, 2024 - v1.3.2


  
    
    
      **Updates to @orderly.network/hook v1.3.2**

      Pricing display issue with long-tail assets and performance improvements

    

  

  
    
    
      **New referral module @orderly.network/referral v0.1.2**

      **New hooks:**

      - useComission

      - useDaily

      - useRefereeHistory

      - useRefereeInfo

      **Three new referral program page components**

      ### Dashboard page:

      
        
      

      ### Affiliate page:

      
        
      

      ### Trader page:

      
        
      

    

  


#### April 2, 2024 - v1.2.0


  
    
    
      **Updates to @orderly.network/hook v1.2.0**

      **The following issues are fixed:**

      - Orderbook price getting stuck with drastic price changes.

      - Incorrect decimals when calling API during order placement.

      - `null` error when setting limit price outside of price range when closing a position.

      - Frontend validation produces inaccurate numbers when editing stop-limit orders.

      - Decimal digits for qty, price, and trigger price are incorrect in the edit order popup.

      - Incorrect decimal digits for estimated liquidation price in order entry.

      - Updates to PnL card with design enhancements.

    

  


#### March 19, 2024 - v1.1.9


  
    
    
      **Updates to @orderly.network/hook v1.1.9**

      **The following issues are fixed:**

      - Updated logic for pending orders.

      - Minor dependency issues.

    

  


#### March 20, 2024 - v1.1.8


  
    
    
      **Updates to @orderly.network/hook v1.1.7**

      -  Minor internal issues fixed.

    

  


#### March 19, 2024 - v1.1.7


  
    
    
      **Updates to @orderly.network/hook v1.1.7**

      **The following issues are fixed:**

      -  Dependency issues at runtime.

    

  


#### March 19, 2024 - v1.1.6


  
    
    
      **Updates to @orderly.network/hook v1.1.6**

      **Fixes:**

      - fixed wrong calculations of estLiqPrice and estLeverage.

      - Enhanced Position and Order list update frequency.

      - Minor UI issue fixes.

      **New:**

      - PnL card sharing: a PnL card can be generated based on user's positions.

      ```JS
      () => {
        const { ref, copy, download, toDataURL, toBlob} = usePoster({
          // backgroundColor: "#0b8c70",
          // fontFamily: "Manrope",
          backgroundImg: "/path/image.png",
          color: "rgba(255, 255, 255, 0.98)",
          profitColor: "rgb(0,181,159)",
          lossColor: "rgb(255,103,194)",
          brandColor: "rgb(0,181,159)",
          data: {
            message: "I am the best trader.",
            domain: "broker.com",
            updateTime: "2022-JAN-01 23:23",
            position: {
                symbol: "BTC-PERP",
                currency: "USDC",
                side: "LONG",
                leverage: 20,
                pnl: -1032.23,
                ROI: -10.25,
                informations: [
                  { title: "Open Price", value: "59,129.12313" },
                  { title: "Opened at", value: "Jan-01 23:23" },
                  { title: "Mark price", value: "59,129.12313" },
                  { title: "Quantity", value: "2" },
                ],
            },
          },
          layout: {},
        });

        return ;
      };

````
    Either default layout can be used or one can be provided via `layout` parameter. Sample code:

    ```JS
    export const DefaultLayoutConfig: PosterLayoutConfig = {
      domain: {
        fontSize: 13,
        // color: undefined,
        position: {
          left: 20,
          bottom: 17,
        },
      },
      message: {
        fontSize: 20,
        color: "white",
        textBaseline: "top",
          position: {
            left: 20,
            top: 16,
          },
      },
      position: {
        fontSize: 20,
        color: "rgba(255,255,255,0.98)",
        position: {
          left: 20,
          top: 70,
        },
      },
      unrealizedPnl: {
        fontSize: 36,
        color: "rgba(255,255,255,0.5)",
        secondaryColor: "rgba(255,255,255,0.5)",
        position: {
          left: 20,
          top: 110,
        },
      },
      informations: {
        fontSize: 12,
        color: "rgba(255, 255, 255, 0.8)",
        labelColor: "rgba(255,255,255,0.36)",
        position: {
          left: 20,
          top: 150,
        },
      },

      updateTime: {
        fontSize: 10,
        color: "rgba(255,255,255,0.5)",
        textAlign: "end",
        position: {
          right: 15,
          bottom: 17,
        },
      },
    };

    ```


    
  


#### March 5, 2024 - Patch Update


  
    
    
      **Updates to @orderly.network/hook v1.1.4**

      - removed LZ scan library, no @axios dependency required.

      - fixed token approval issues.

      - update to `useOrderbookStream` hook to add `padding` param to not return anything if the orderbook depth is not enough.

      ```JS
      const [data] = useOrderBookStream('[symbol]', undefined, {level:10, padding:false}
      //if 'padding' is true, the hook will return NaN to
      //fill the data to specified level if not enough depth
      ```
      - fixed WS connection issues.

    
  


#### February 22, 2024 - Minor Update


  
    
    
      **Updates to @orderly.network/hook v1.1.3**


**Fixes:**

- The issue of incorrect Liq. price when reading margin data, now we will pass null when it's loading.
- The issue of Orderbook display.
- The issue of fetching incorrect symbol for mark price / symbol infos when switching symbols.
- Numerous UI issues in the desktop SDK.

**Optimizations:**

- Reduced the number of API calls made during open/cancel order operations to avoid triggering rate limits.
- Improved the order entry experience.

**New Features:**


        - Added stop order functionality in the desktop and mobile web UI.

        - Added order/position lines in the desktop web kline.

    
  


#### February 7, 2024 - Major Update


  
    
    
      **Updates to @orderly.network/hook v1.1.2**

      We are excited to announce the release of version 1.1.2 of the @orderly.network/hook SDK. This update introduces significant changes and new features designed to enhance your development experience and the capabilities of your applications. Below is an overview of the key updates:

      `useOrderEntry` Hook Enhancements:

        - **Parameter Adjustments:** Now accepts an object of type `OrderEntity` with mandatory fields: `order_type`, `side`, and `symbol`.


        - **New Return Values:** Includes `estLiqPrice` (Estimated Liquidation Price), `estLeverage` (Leverage change post-position opening), `formattedOrder` (Formatted order data), and `metaState` (Validation results and form status).

        - **New `submit()` Function:** A parameter-free function to create orders via API, aiming to replace `onSubmit` in future releases.

        `useWithdraw` Hook Update:

        - **New `availableWithdraw` Field:** Indicates the direct withdrawal amount available without needing to settle PnL, calculated based on the unsettledPnL and freeCollateral.

        `useDeposit` Hook Improvements:

        - **New Return Fields:** `depositFee`, `setQuantity(quantity: number)`, and `quantity` for enhanced deposit management.

        - **Simplified `deposit()` Function:** No parameters required for operation.

        **Testnet Transition:** Switch from Arbitrum Goerli to Arbitrum Sepolia.

        **Stop Limit/Stop Market Support:**

        - Two new order types: `STOP_MARKET` and `STOP_LIMIT`

        - Introduction of Algo orders (stop loss) with two new methods: `updateAlgoOrder(orderId: string, order: OrderEntity)` and `cancelAlgoOrder(orderId: string, symbol?: string)`.

        - Additional return parameters to include Algo order related properties.


### Release Classification

Source: [https://orderly.network/docs/changelog/classification](https://orderly.network/docs/changelog/classification)

#### Patch Release (Low Severity)
**Definition:** Minor updates, typically involving bug fixes and small enhancements that do not impact the existing functionality significantly.

**Characteristics:**

No new major features.

No breaking changes.

Does not require user intervention.

#### Minor Release (Moderate Severity)
**Definition:** Introduces new features or significant improvements to existing features, but does not fundamentally change the product.

**Characteristics:**

May include new features, enhancements, and performance improvements.

Backward compatible; no breaking changes to existing APIs or core functionality.

#### Major Release (High Severity)
Definition: Major changes that might include new features, substantial revisions, or updates that significantly modify the product’s functionality.

**Characteristics:**

Introduction of significant new features or major changes to existing ones.

Possible backward incompatibilities or changes requiring user adaptation.

#### Critical Release (Urgent Severity)
Definition: Emergency releases to fix critical bugs or security vulnerabilities. These releases are often unplanned but necessary for the smooth functioning and security of the product.

**Characteristics:**

Addresses critical bugs or security issues.

Requires immediate deployment to prevent potential data loss, security breaches, or significant system downtime.


### Terms of Service

Source: [https://orderly.network/docs/introduction/terms-of-service](https://orderly.network/docs/introduction/terms-of-service)

*Full content available at [https://orderly.network/docs/introduction/terms-of-service](https://orderly.network/docs/introduction/terms-of-service)*


### Privacy Policy

Source: [https://orderly.network/docs/introduction/privacy-policy](https://orderly.network/docs/introduction/privacy-policy)

*Full content available at [https://orderly.network/docs/introduction/privacy-policy](https://orderly.network/docs/introduction/privacy-policy)*


